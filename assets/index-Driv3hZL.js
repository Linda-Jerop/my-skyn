(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Kd={exports:{}},va={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function CS(){if(Fy)return va;Fy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:h,ref:o!==void 0?o:null,props:c}}return va.Fragment=t,va.jsx=i,va.jsxs=i,va}var Yy;function wS(){return Yy||(Yy=1,Kd.exports=CS()),Kd.exports}var p=wS(),Wd={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function TS(){if(Qy)return te;Qy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function A(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,U={};function B(C,j,G){this.props=C,this.context=j,this.refs=U,this.updater=G||D}B.prototype.isReactComponent={},B.prototype.setState=function(C,j){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,j,"setState")},B.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function V(){}V.prototype=B.prototype;function W(C,j,G){this.props=C,this.context=j,this.refs=U,this.updater=G||D}var ge=W.prototype=new V;ge.constructor=W,P(ge,B.prototype),ge.isPureReactComponent=!0;var Ue=Array.isArray;function Ge(){}var ne={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function he(C,j,G){var Y=G.ref;return{$$typeof:r,type:C,key:j,ref:Y!==void 0?Y:null,props:G}}function ze(C,j){return he(C.type,j,C.props)}function $e(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function Ke(C){var j={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(G){return j[G]})}var hn=/\/+/g;function ft(C,j){return typeof C=="object"&&C!==null&&C.key!=null?Ke(""+C.key):j.toString(36)}function Me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Ge,Ge):(C.status="pending",C.then(function(j){C.status==="pending"&&(C.status="fulfilled",C.value=j)},function(j){C.status==="pending"&&(C.status="rejected",C.reason=j)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function M(C,j,G,Y,ie){var oe=typeof C;(oe==="undefined"||oe==="boolean")&&(C=null);var Ee=!1;if(C===null)Ee=!0;else switch(oe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(C.$$typeof){case r:case t:Ee=!0;break;case _:return Ee=C._init,M(Ee(C._payload),j,G,Y,ie)}}if(Ee)return ie=ie(C),Ee=Y===""?"."+ft(C,0):Y,Ue(ie)?(G="",Ee!=null&&(G=Ee.replace(hn,"$&/")+"/"),M(ie,j,G,"",function(Ts){return Ts})):ie!=null&&($e(ie)&&(ie=ze(ie,G+(ie.key==null||C&&C.key===ie.key?"":(""+ie.key).replace(hn,"$&/")+"/")+Ee)),j.push(ie)),1;Ee=0;var yt=Y===""?".":Y+":";if(Ue(C))for(var Fe=0;Fe<C.length;Fe++)Y=C[Fe],oe=yt+ft(Y,Fe),Ee+=M(Y,j,G,oe,ie);else if(Fe=A(C),typeof Fe=="function")for(C=Fe.call(C),Fe=0;!(Y=C.next()).done;)Y=Y.value,oe=yt+ft(Y,Fe++),Ee+=M(Y,j,G,oe,ie);else if(oe==="object"){if(typeof C.then=="function")return M(Me(C),j,G,Y,ie);throw j=String(C),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function q(C,j,G){if(C==null)return C;var Y=[],ie=0;return M(C,Y,"","",function(oe){return j.call(G,oe,ie++)}),Y}function Z(C){if(C._status===-1){var j=C._result;j=j(),j.then(function(G){(C._status===0||C._status===-1)&&(C._status=1,C._result=G)},function(G){(C._status===0||C._status===-1)&&(C._status=2,C._result=G)}),C._status===-1&&(C._status=0,C._result=j)}if(C._status===1)return C._result.default;throw C._result}var be=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},xe={map:q,forEach:function(C,j,G){q(C,function(){j.apply(this,arguments)},G)},count:function(C){var j=0;return q(C,function(){j++}),j},toArray:function(C){return q(C,function(j){return j})||[]},only:function(C){if(!$e(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return te.Activity=b,te.Children=xe,te.Component=B,te.Fragment=i,te.Profiler=o,te.PureComponent=W,te.StrictMode=a,te.Suspense=g,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,te.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ne.H.useMemoCache(C)}},te.cache=function(C){return function(){return C.apply(null,arguments)}},te.cacheSignal=function(){return null},te.cloneElement=function(C,j,G){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Y=P({},C.props),ie=C.key;if(j!=null)for(oe in j.key!==void 0&&(ie=""+j.key),j)!K.call(j,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&j.ref===void 0||(Y[oe]=j[oe]);var oe=arguments.length-2;if(oe===1)Y.children=G;else if(1<oe){for(var Ee=Array(oe),yt=0;yt<oe;yt++)Ee[yt]=arguments[yt+2];Y.children=Ee}return he(C.type,ie,Y)},te.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},te.createElement=function(C,j,G){var Y,ie={},oe=null;if(j!=null)for(Y in j.key!==void 0&&(oe=""+j.key),j)K.call(j,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ie[Y]=j[Y]);var Ee=arguments.length-2;if(Ee===1)ie.children=G;else if(1<Ee){for(var yt=Array(Ee),Fe=0;Fe<Ee;Fe++)yt[Fe]=arguments[Fe+2];ie.children=yt}if(C&&C.defaultProps)for(Y in Ee=C.defaultProps,Ee)ie[Y]===void 0&&(ie[Y]=Ee[Y]);return he(C,oe,ie)},te.createRef=function(){return{current:null}},te.forwardRef=function(C){return{$$typeof:m,render:C}},te.isValidElement=$e,te.lazy=function(C){return{$$typeof:_,_payload:{_status:-1,_result:C},_init:Z}},te.memo=function(C,j){return{$$typeof:f,type:C,compare:j===void 0?null:j}},te.startTransition=function(C){var j=ne.T,G={};ne.T=G;try{var Y=C(),ie=ne.S;ie!==null&&ie(G,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Ge,be)}catch(oe){be(oe)}finally{j!==null&&G.types!==null&&(j.types=G.types),ne.T=j}},te.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},te.use=function(C){return ne.H.use(C)},te.useActionState=function(C,j,G){return ne.H.useActionState(C,j,G)},te.useCallback=function(C,j){return ne.H.useCallback(C,j)},te.useContext=function(C){return ne.H.useContext(C)},te.useDebugValue=function(){},te.useDeferredValue=function(C,j){return ne.H.useDeferredValue(C,j)},te.useEffect=function(C,j){return ne.H.useEffect(C,j)},te.useEffectEvent=function(C){return ne.H.useEffectEvent(C)},te.useId=function(){return ne.H.useId()},te.useImperativeHandle=function(C,j,G){return ne.H.useImperativeHandle(C,j,G)},te.useInsertionEffect=function(C,j){return ne.H.useInsertionEffect(C,j)},te.useLayoutEffect=function(C,j){return ne.H.useLayoutEffect(C,j)},te.useMemo=function(C,j){return ne.H.useMemo(C,j)},te.useOptimistic=function(C,j){return ne.H.useOptimistic(C,j)},te.useReducer=function(C,j,G){return ne.H.useReducer(C,j,G)},te.useRef=function(C){return ne.H.useRef(C)},te.useState=function(C){return ne.H.useState(C)},te.useSyncExternalStore=function(C,j,G){return ne.H.useSyncExternalStore(C,j,G)},te.useTransition=function(){return ne.H.useTransition()},te.version="19.2.0",te}var Ky;function Hh(){return Ky||(Ky=1,Wd.exports=TS()),Wd.exports}var R=Hh(),Xd={exports:{}},ba={},Zd={exports:{}},Jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function NS(){return Wy||(Wy=1,(function(r){function t(M,q){var Z=M.length;M.push(q);e:for(;0<Z;){var be=Z-1>>>1,xe=M[be];if(0<o(xe,q))M[be]=q,M[Z]=xe,Z=be;else break e}}function i(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var q=M[0],Z=M.pop();if(Z!==q){M[0]=Z;e:for(var be=0,xe=M.length,C=xe>>>1;be<C;){var j=2*(be+1)-1,G=M[j],Y=j+1,ie=M[Y];if(0>o(G,Z))Y<xe&&0>o(ie,G)?(M[be]=ie,M[Y]=Z,be=Y):(M[be]=G,M[j]=Z,be=j);else if(Y<xe&&0>o(ie,Z))M[be]=ie,M[Y]=Z,be=Y;else break e}}return q}function o(M,q){var Z=M.sortIndex-q.sortIndex;return Z!==0?Z:M.id-q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],f=[],_=1,b=null,x=3,A=!1,D=!1,P=!1,U=!1,B=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ge(M){for(var q=i(f);q!==null;){if(q.callback===null)a(f);else if(q.startTime<=M)a(f),q.sortIndex=q.expirationTime,t(g,q);else break;q=i(f)}}function Ue(M){if(P=!1,ge(M),!D)if(i(g)!==null)D=!0,Ge||(Ge=!0,Ke());else{var q=i(f);q!==null&&Me(Ue,q.startTime-M)}}var Ge=!1,ne=-1,K=5,he=-1;function ze(){return U?!0:!(r.unstable_now()-he<K)}function $e(){if(U=!1,Ge){var M=r.unstable_now();he=M;var q=!0;try{e:{D=!1,P&&(P=!1,V(ne),ne=-1),A=!0;var Z=x;try{t:{for(ge(M),b=i(g);b!==null&&!(b.expirationTime>M&&ze());){var be=b.callback;if(typeof be=="function"){b.callback=null,x=b.priorityLevel;var xe=be(b.expirationTime<=M);if(M=r.unstable_now(),typeof xe=="function"){b.callback=xe,ge(M),q=!0;break t}b===i(g)&&a(g),ge(M)}else a(g);b=i(g)}if(b!==null)q=!0;else{var C=i(f);C!==null&&Me(Ue,C.startTime-M),q=!1}}break e}finally{b=null,x=Z,A=!1}q=void 0}}finally{q?Ke():Ge=!1}}}var Ke;if(typeof W=="function")Ke=function(){W($e)};else if(typeof MessageChannel<"u"){var hn=new MessageChannel,ft=hn.port2;hn.port1.onmessage=$e,Ke=function(){ft.postMessage(null)}}else Ke=function(){B($e,0)};function Me(M,q){ne=B(function(){M(r.unstable_now())},q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(M){M.callback=null},r.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<M?Math.floor(1e3/M):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(M){switch(x){case 1:case 2:case 3:var q=3;break;default:q=x}var Z=x;x=q;try{return M()}finally{x=Z}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(M,q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Z=x;x=M;try{return q()}finally{x=Z}},r.unstable_scheduleCallback=function(M,q,Z){var be=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?be+Z:be):Z=be,M){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Z+xe,M={id:_++,callback:q,priorityLevel:M,startTime:Z,expirationTime:xe,sortIndex:-1},Z>be?(M.sortIndex=Z,t(f,M),i(g)===null&&M===i(f)&&(P?(V(ne),ne=-1):P=!0,Me(Ue,Z-be))):(M.sortIndex=xe,t(g,M),D||A||(D=!0,Ge||(Ge=!0,Ke()))),M},r.unstable_shouldYield=ze,r.unstable_wrapCallback=function(M){var q=x;return function(){var Z=x;x=q;try{return M.apply(this,arguments)}finally{x=Z}}}})(Jd)),Jd}var Xy;function AS(){return Xy||(Xy=1,Zd.exports=NS()),Zd.exports}var $d={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function RS(){if(Zy)return mt;Zy=1;var r=Hh();function t(g){var f="https://react.dev/errors/"+g;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)f+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,f,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:f,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,f){if(g==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,mt.createPortal=function(g,f){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return c(g,f,null,_)},mt.flushSync=function(g){var f=h.T,_=a.p;try{if(h.T=null,a.p=2,g)return g()}finally{h.T=f,a.p=_,a.d.f()}},mt.preconnect=function(g,f){typeof g=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(g,f))},mt.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},mt.preinit=function(g,f){if(typeof g=="string"&&f&&typeof f.as=="string"){var _=f.as,b=m(_,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,A=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;_==="style"?a.d.S(g,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:A}):_==="script"&&a.d.X(g,{crossOrigin:b,integrity:x,fetchPriority:A,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},mt.preinitModule=function(g,f){if(typeof g=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var _=m(f.as,f.crossOrigin);a.d.M(g,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(g)},mt.preload=function(g,f){if(typeof g=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var _=f.as,b=m(_,f.crossOrigin);a.d.L(g,_,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},mt.preloadModule=function(g,f){if(typeof g=="string")if(f){var _=m(f.as,f.crossOrigin);a.d.m(g,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(g)},mt.requestFormReset=function(g){a.d.r(g)},mt.unstable_batchedUpdates=function(g,f){return g(f)},mt.useFormState=function(g,f,_){return h.H.useFormState(g,f,_)},mt.useFormStatus=function(){return h.H.useHostTransitionStatus()},mt.version="19.2.0",mt}var Jy;function OS(){if(Jy)return $d.exports;Jy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),$d.exports=RS(),$d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function kS(){if($y)return ba;$y=1;var r=AS(),t=Hh(),i=OS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function f(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var u=s.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===s)return g(u),e;if(d===l)return g(u),n;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=u,l=d;else{for(var y=!1,v=u.child;v;){if(v===s){y=!0,s=u,l=d;break}if(v===l){y=!0,l=u,s=d;break}v=v.sibling}if(!y){for(v=d.child;v;){if(v===s){y=!0,s=d,l=u;break}if(v===l){y=!0,l=d,s=u;break}v=v.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),Ge=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),he=Symbol.for("react.activity"),ze=Symbol.for("react.memo_cache_sentinel"),$e=Symbol.iterator;function Ke(e){return e===null||typeof e!="object"?null:(e=$e&&e[$e]||e["@@iterator"],typeof e=="function"?e:null)}var hn=Symbol.for("react.client.reference");function ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===hn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case B:return"Profiler";case U:return"StrictMode";case Ue:return"Suspense";case Ge:return"SuspenseList";case he:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case W:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case ge:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ne:return n=e.displayName||null,n!==null?n:ft(e.type)||"Memo";case K:n=e._payload,e=e._init;try{return ft(e(n))}catch{}}return null}var Me=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},be=[],xe=-1;function C(e){return{current:e}}function j(e){0>xe||(e.current=be[xe],be[xe]=null,xe--)}function G(e,n){xe++,be[xe]=e.current,e.current=n}var Y=C(null),ie=C(null),oe=C(null),Ee=C(null);function yt(e,n){switch(G(oe,n),G(ie,e),G(Y,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?my(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=my(n),e=py(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(Y),G(Y,e)}function Fe(){j(Y),j(ie),j(oe)}function Ts(e){e.memoizedState!==null&&G(Ee,e);var n=Y.current,s=py(n,e.type);n!==s&&(G(ie,e),G(Y,s))}function dl(e){ie.current===e&&(j(Y),j(ie)),Ee.current===e&&(j(Ee),pa._currentValue=Z)}var Oc,Gf;function Bi(e){if(Oc===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Oc=n&&n[1]||"",Gf=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oc+e+Gf}var kc=!1;function Dc(e,n){if(!e||kc)return"";kc=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(k){var O=k}Reflect.construct(e,[],z)}else{try{z.call()}catch(k){O=k}e.call(z.prototype)}}else{try{throw Error()}catch(k){O=k}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(k){if(k&&O&&typeof k.stack=="string")return[k.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],v=d[1];if(y&&v){var S=y.split(`
`),N=v.split(`
`);for(u=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;if(l===S.length||u===N.length)for(l=S.length-1,u=N.length-1;1<=l&&0<=u&&S[l]!==N[u];)u--;for(;1<=l&&0<=u;l--,u--)if(S[l]!==N[u]){if(l!==1||u!==1)do if(l--,u--,0>u||S[l]!==N[u]){var I=`
`+S[l].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=l&&0<=u);break}}}finally{kc=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Bi(s):""}function t1(e,n){switch(e.tag){case 26:case 27:case 5:return Bi(e.type);case 16:return Bi("Lazy");case 13:return e.child!==n&&n!==null?Bi("Suspense Fallback"):Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return Dc(e.type,!1);case 11:return Dc(e.type.render,!1);case 1:return Dc(e.type,!0);case 31:return Bi("Activity");default:return""}}function Ff(e){try{var n="",s=null;do n+=t1(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Mc=Object.prototype.hasOwnProperty,Ic=r.unstable_scheduleCallback,jc=r.unstable_cancelCallback,n1=r.unstable_shouldYield,i1=r.unstable_requestPaint,Dt=r.unstable_now,r1=r.unstable_getCurrentPriorityLevel,Yf=r.unstable_ImmediatePriority,Qf=r.unstable_UserBlockingPriority,hl=r.unstable_NormalPriority,s1=r.unstable_LowPriority,Kf=r.unstable_IdlePriority,a1=r.log,l1=r.unstable_setDisableYieldValue,Ns=null,Mt=null;function ei(e){if(typeof a1=="function"&&l1(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Ns,e)}catch{}}var It=Math.clz32?Math.clz32:u1,o1=Math.log,c1=Math.LN2;function u1(e){return e>>>=0,e===0?32:31-(o1(e)/c1|0)|0}var fl=256,ml=262144,pl=4194304;function Vi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gl(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var u=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~d,l!==0?u=Vi(l):(y&=v,y!==0?u=Vi(y):s||(s=v&~e,s!==0&&(u=Vi(s))))):(v=l&~d,v!==0?u=Vi(v):y!==0?u=Vi(y):s||(s=l&~e,s!==0&&(u=Vi(s)))),u===0?0:n!==0&&n!==u&&(n&d)===0&&(d=u&-u,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:u}function As(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function d1(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wf(){var e=pl;return pl<<=1,(pl&62914560)===0&&(pl=4194304),e}function Lc(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Rs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function h1(e,n,s,l,u,d){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var v=e.entanglements,S=e.expirationTimes,N=e.hiddenUpdates;for(s=y&~s;0<s;){var I=31-It(s),z=1<<I;v[I]=0,S[I]=-1;var O=N[I];if(O!==null)for(N[I]=null,I=0;I<O.length;I++){var k=O[I];k!==null&&(k.lane&=-536870913)}s&=~z}l!==0&&Xf(e,l,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~n))}function Xf(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-It(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Zf(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-It(s),u=1<<l;u&n|e[l]&n&&(e[l]|=n),s&=~u}}function Jf(e,n){var s=n&-n;return s=(s&42)!==0?1:Uc(s),(s&(e.suspendedLanes|n))!==0?0:s}function Uc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $f(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:zy(e.type))}function em(e,n){var s=q.p;try{return q.p=e,n()}finally{q.p=s}}var ti=Math.random().toString(36).slice(2),ot="__reactFiber$"+ti,xt="__reactProps$"+ti,vr="__reactContainer$"+ti,Pc="__reactEvents$"+ti,f1="__reactListeners$"+ti,m1="__reactHandles$"+ti,tm="__reactResources$"+ti,Os="__reactMarker$"+ti;function Hc(e){delete e[ot],delete e[xt],delete e[Pc],delete e[f1],delete e[m1]}function br(e){var n=e[ot];if(n)return n;for(var s=e.parentNode;s;){if(n=s[vr]||s[ot]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Sy(e);e!==null;){if(s=e[ot])return s;e=Sy(e)}return n}e=s,s=e.parentNode}return null}function xr(e){if(e=e[ot]||e[vr]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ks(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Sr(e){var n=e[tm];return n||(n=e[tm]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function it(e){e[Os]=!0}var nm=new Set,im={};function qi(e,n){Er(e,n),Er(e+"Capture",n)}function Er(e,n){for(im[e]=n,e=0;e<n.length;e++)nm.add(n[e])}var p1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rm={},sm={};function g1(e){return Mc.call(sm,e)?!0:Mc.call(rm,e)?!1:p1.test(e)?sm[e]=!0:(rm[e]=!0,!1)}function yl(e,n,s){if(g1(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function _l(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function xn(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function am(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function y1(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(y){s=""+y,d.call(this,y)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Bc(e){if(!e._valueTracker){var n=am(e)?"checked":"value";e._valueTracker=y1(e,n,""+e[n])}}function lm(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=am(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _1=/[\n"\\]/g;function Gt(e){return e.replace(_1,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vc(e,n,s,l,u,d,y,v){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qt(n)):e.value!==""+qt(n)&&(e.value=""+qt(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?qc(e,y,qt(n)):s!=null?qc(e,y,qt(s)):l!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+qt(v):e.removeAttribute("name")}function om(e,n,s,l,u,d,y,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Bc(e);return}s=s!=null?""+qt(s):"",n=n!=null?""+qt(n):s,v||n===e.value||(e.value=n),e.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Bc(e)}function qc(e,n,s){n==="number"&&vl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Cr(e,n,s,l){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&l&&(e[s].defaultSelected=!0)}else{for(s=""+qt(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function cm(e,n,s){if(n!=null&&(n=""+qt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+qt(s):""}function um(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Me(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=qt(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Bc(e)}function wr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var v1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dm(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||v1.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function hm(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&s[u]!==l&&dm(e,u,l)}else for(var d in n)n.hasOwnProperty(d)&&dm(e,d,n[d])}function Gc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),x1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bl(e){return x1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Sn(){}var Fc=null;function Yc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tr=null,Nr=null;function fm(e){var n=xr(e);if(n&&(e=n.stateNode)){var s=e[xt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Vc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Gt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var u=l[xt]||null;if(!u)throw Error(a(90));Vc(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&lm(l)}break e;case"textarea":cm(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Cr(e,!!s.multiple,n,!1)}}}var Qc=!1;function mm(e,n,s){if(Qc)return e(n,s);Qc=!0;try{var l=e(n);return l}finally{if(Qc=!1,(Tr!==null||Nr!==null)&&(lo(),Tr&&(n=Tr,e=Nr,Nr=Tr=null,fm(n),e)))for(n=0;n<e.length;n++)fm(e[n])}}function Ds(e,n){var s=e.stateNode;if(s===null)return null;var l=s[xt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kc=!1;if(En)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){Kc=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{Kc=!1}var ni=null,Wc=null,xl=null;function pm(){if(xl)return xl;var e,n=Wc,s=n.length,l,u="value"in ni?ni.value:ni.textContent,d=u.length;for(e=0;e<s&&n[e]===u[e];e++);var y=s-e;for(l=1;l<=y&&n[s-l]===u[d-l];l++);return xl=u.slice(e,1<l?1-l:void 0)}function Sl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function El(){return!0}function gm(){return!1}function St(e){function n(s,l,u,d,y){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(s=e[v],this[v]=s?s(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?El:gm,this.isPropagationStopped=gm,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=St(Gi),Is=b({},Gi,{view:0,detail:0}),S1=St(Is),Xc,Zc,js,wl=b({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==js&&(js&&e.type==="mousemove"?(Xc=e.screenX-js.screenX,Zc=e.screenY-js.screenY):Zc=Xc=0,js=e),Xc)},movementY:function(e){return"movementY"in e?e.movementY:Zc}}),ym=St(wl),E1=b({},wl,{dataTransfer:0}),C1=St(E1),w1=b({},Is,{relatedTarget:0}),Jc=St(w1),T1=b({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),N1=St(T1),A1=b({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),R1=St(A1),O1=b({},Gi,{data:0}),_m=St(O1),k1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I1(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=M1[e])?!!n[e]:!1}function $c(){return I1}var j1=b({},Is,{key:function(e){if(e.key){var n=k1[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?D1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(e){return e.type==="keypress"?Sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),L1=St(j1),U1=b({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vm=St(U1),z1=b({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),P1=St(z1),H1=b({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),B1=St(H1),V1=b({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q1=St(V1),G1=b({},Gi,{newState:0,oldState:0}),F1=St(G1),Y1=[9,13,27,32],eu=En&&"CompositionEvent"in window,Ls=null;En&&"documentMode"in document&&(Ls=document.documentMode);var Q1=En&&"TextEvent"in window&&!Ls,bm=En&&(!eu||Ls&&8<Ls&&11>=Ls),xm=" ",Sm=!1;function Em(e,n){switch(e){case"keyup":return Y1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ar=!1;function K1(e,n){switch(e){case"compositionend":return Cm(n);case"keypress":return n.which!==32?null:(Sm=!0,xm);case"textInput":return e=n.data,e===xm&&Sm?null:e;default:return null}}function W1(e,n){if(Ar)return e==="compositionend"||!eu&&Em(e,n)?(e=pm(),xl=Wc=ni=null,Ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bm&&n.locale!=="ko"?null:n.data;default:return null}}var X1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!X1[e.type]:n==="textarea"}function Tm(e,n,s,l){Tr?Nr?Nr.push(l):Nr=[l]:Tr=l,n=po(n,"onChange"),0<n.length&&(s=new Cl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Us=null,zs=null;function Z1(e){oy(e,0)}function Tl(e){var n=ks(e);if(lm(n))return e}function Nm(e,n){if(e==="change")return n}var Am=!1;if(En){var tu;if(En){var nu="oninput"in document;if(!nu){var Rm=document.createElement("div");Rm.setAttribute("oninput","return;"),nu=typeof Rm.oninput=="function"}tu=nu}else tu=!1;Am=tu&&(!document.documentMode||9<document.documentMode)}function Om(){Us&&(Us.detachEvent("onpropertychange",km),zs=Us=null)}function km(e){if(e.propertyName==="value"&&Tl(zs)){var n=[];Tm(n,zs,e,Yc(e)),mm(Z1,n)}}function J1(e,n,s){e==="focusin"?(Om(),Us=n,zs=s,Us.attachEvent("onpropertychange",km)):e==="focusout"&&Om()}function $1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tl(zs)}function ex(e,n){if(e==="click")return Tl(n)}function tx(e,n){if(e==="input"||e==="change")return Tl(n)}function nx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var jt=typeof Object.is=="function"?Object.is:nx;function Ps(e,n){if(jt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!Mc.call(n,u)||!jt(e[u],n[u]))return!1}return!0}function Dm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mm(e,n){var s=Dm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Dm(s)}}function Im(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Im(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function jm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vl(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=vl(e.document)}return n}function iu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ix=En&&"documentMode"in document&&11>=document.documentMode,Rr=null,ru=null,Hs=null,su=!1;function Lm(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;su||Rr==null||Rr!==vl(l)||(l=Rr,"selectionStart"in l&&iu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Hs&&Ps(Hs,l)||(Hs=l,l=po(ru,"onSelect"),0<l.length&&(n=new Cl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Rr)))}function Fi(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Or={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionrun:Fi("Transition","TransitionRun"),transitionstart:Fi("Transition","TransitionStart"),transitioncancel:Fi("Transition","TransitionCancel"),transitionend:Fi("Transition","TransitionEnd")},au={},Um={};En&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Yi(e){if(au[e])return au[e];if(!Or[e])return e;var n=Or[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Um)return au[e]=n[s];return e}var zm=Yi("animationend"),Pm=Yi("animationiteration"),Hm=Yi("animationstart"),rx=Yi("transitionrun"),sx=Yi("transitionstart"),ax=Yi("transitioncancel"),Bm=Yi("transitionend"),Vm=new Map,lu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lu.push("scrollEnd");function en(e,n){Vm.set(e,n),qi(n,[e])}var Nl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],kr=0,ou=0;function Al(){for(var e=kr,n=ou=kr=0;n<e;){var s=Ft[n];Ft[n++]=null;var l=Ft[n];Ft[n++]=null;var u=Ft[n];Ft[n++]=null;var d=Ft[n];if(Ft[n++]=null,l!==null&&u!==null){var y=l.pending;y===null?u.next=u:(u.next=y.next,y.next=u),l.pending=u}d!==0&&qm(s,u,d)}}function Rl(e,n,s,l){Ft[kr++]=e,Ft[kr++]=n,Ft[kr++]=s,Ft[kr++]=l,ou|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function cu(e,n,s,l){return Rl(e,n,s,l),Ol(e)}function Qi(e,n){return Rl(e,null,null,n),Ol(e)}function qm(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var u=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&n!==null&&(u=31-It(s),e=d.hiddenUpdates,l=e[u],l===null?e[u]=[n]:l.push(n),n.lane=s|536870912),d):null}function Ol(e){if(50<oa)throw oa=0,_d=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Dr={};function lx(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,n,s,l){return new lx(e,n,s,l)}function uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cn(e,n){var s=e.alternate;return s===null?(s=Lt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Gm(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function kl(e,n,s,l,u,d){var y=0;if(l=e,typeof e=="function")uu(e)&&(y=1);else if(typeof e=="string")y=hS(e,s,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case he:return e=Lt(31,s,n,u),e.elementType=he,e.lanes=d,e;case P:return Ki(s.children,u,d,n);case U:y=8,u|=24;break;case B:return e=Lt(12,s,n,u|2),e.elementType=B,e.lanes=d,e;case Ue:return e=Lt(13,s,n,u),e.elementType=Ue,e.lanes=d,e;case Ge:return e=Lt(19,s,n,u),e.elementType=Ge,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:y=10;break e;case V:y=9;break e;case ge:y=11;break e;case ne:y=14;break e;case K:y=16,l=null;break e}y=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=Lt(y,s,n,u),n.elementType=e,n.type=l,n.lanes=d,n}function Ki(e,n,s,l){return e=Lt(7,e,l,n),e.lanes=s,e}function du(e,n,s){return e=Lt(6,e,null,n),e.lanes=s,e}function Fm(e){var n=Lt(18,null,null,0);return n.stateNode=e,n}function hu(e,n,s){return n=Lt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ym=new WeakMap;function Yt(e,n){if(typeof e=="object"&&e!==null){var s=Ym.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Ff(n)},Ym.set(e,n),n)}return{value:e,source:n,stack:Ff(n)}}var Mr=[],Ir=0,Dl=null,Bs=0,Qt=[],Kt=0,ii=null,fn=1,mn="";function wn(e,n){Mr[Ir++]=Bs,Mr[Ir++]=Dl,Dl=e,Bs=n}function Qm(e,n,s){Qt[Kt++]=fn,Qt[Kt++]=mn,Qt[Kt++]=ii,ii=e;var l=fn;e=mn;var u=32-It(l)-1;l&=~(1<<u),s+=1;var d=32-It(n)+u;if(30<d){var y=u-u%5;d=(l&(1<<y)-1).toString(32),l>>=y,u-=y,fn=1<<32-It(n)+u|s<<u|l,mn=d+e}else fn=1<<d|s<<u|l,mn=e}function fu(e){e.return!==null&&(wn(e,1),Qm(e,1,0))}function mu(e){for(;e===Dl;)Dl=Mr[--Ir],Mr[Ir]=null,Bs=Mr[--Ir],Mr[Ir]=null;for(;e===ii;)ii=Qt[--Kt],Qt[Kt]=null,mn=Qt[--Kt],Qt[Kt]=null,fn=Qt[--Kt],Qt[Kt]=null}function Km(e,n){Qt[Kt++]=fn,Qt[Kt++]=mn,Qt[Kt++]=ii,fn=n.id,mn=n.overflow,ii=e}var ct=null,Ie=null,pe=!1,ri=null,Wt=!1,pu=Error(a(519));function si(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vs(Yt(n,e)),pu}function Wm(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[ot]=e,n[xt]=l,s){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(s=0;s<ua.length;s++)ue(ua[s],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":ue("invalid",n),om(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ue("invalid",n);break;case"textarea":ue("invalid",n),um(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||hy(n.textContent,s)?(l.popover!=null&&(ue("beforetoggle",n),ue("toggle",n)),l.onScroll!=null&&ue("scroll",n),l.onScrollEnd!=null&&ue("scrollend",n),l.onClick!=null&&(n.onclick=Sn),n=!0):n=!1,n||si(e,!0)}function Xm(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:ct=ct.return}}function jr(e){if(e!==ct)return!1;if(!pe)return Xm(e),pe=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Md(e.type,e.memoizedProps)),s=!s),s&&Ie&&si(e),Xm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ie=xy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ie=xy(e)}else n===27?(n=Ie,vi(e.type)?(e=zd,zd=null,Ie=e):Ie=n):Ie=ct?Zt(e.stateNode.nextSibling):null;return!0}function Wi(){Ie=ct=null,pe=!1}function gu(){var e=ri;return e!==null&&(Tt===null?Tt=e:Tt.push.apply(Tt,e),ri=null),e}function Vs(e){ri===null?ri=[e]:ri.push(e)}var yu=C(null),Xi=null,Tn=null;function ai(e,n,s){G(yu,n._currentValue),n._currentValue=s}function Nn(e){e._currentValue=yu.current,j(yu)}function _u(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function vu(e,n,s,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var y=u.child;d=d.firstContext;e:for(;d!==null;){var v=d;d=u;for(var S=0;S<n.length;S++)if(v.context===n[S]){d.lanes|=s,v=d.alternate,v!==null&&(v.lanes|=s),_u(d.return,s,e),l||(y=null);break e}d=v.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(a(341));y.lanes|=s,d=y.alternate,d!==null&&(d.lanes|=s),_u(y,s,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function Lr(e,n,s,l){e=null;for(var u=n,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var v=u.type;jt(u.pendingProps.value,y.value)||(e!==null?e.push(v):e=[v])}}else if(u===Ee.current){if(y=u.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(pa):e=[pa])}u=u.return}e!==null&&vu(n,e,s,l),n.flags|=262144}function Ml(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zi(e){Xi=e,Tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return Zm(Xi,e)}function Il(e,n){return Xi===null&&Zi(e),Zm(e,n)}function Zm(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Tn===null){if(e===null)throw Error(a(308));Tn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Tn=Tn.next=n;return s}var ox=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},cx=r.unstable_scheduleCallback,ux=r.unstable_NormalPriority,We={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bu(){return{controller:new ox,data:new Map,refCount:0}}function qs(e){e.refCount--,e.refCount===0&&cx(ux,function(){e.controller.abort()})}var Gs=null,xu=0,Ur=0,zr=null;function dx(e,n){if(Gs===null){var s=Gs=[];xu=0,Ur=Cd(),zr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return xu++,n.then(Jm,Jm),n}function Jm(){if(--xu===0&&Gs!==null){zr!==null&&(zr.status="fulfilled");var e=Gs;Gs=null,Ur=0,zr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function hx(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<s.length;u++)(0,s[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),l}var $m=M.S;M.S=function(e,n){Lg=Dt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&dx(e,n),$m!==null&&$m(e,n)};var Ji=C(null);function Su(){var e=Ji.current;return e!==null?e:Oe.pooledCache}function jl(e,n){n===null?G(Ji,Ji.current):G(Ji,n.pool)}function ep(){var e=Su();return e===null?null:{parent:We._currentValue,pool:e}}var Pr=Error(a(460)),Eu=Error(a(474)),Ll=Error(a(542)),Ul={then:function(){}};function tp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function np(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Sn,Sn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rp(e),e;default:if(typeof n.status=="string")n.then(Sn,Sn);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rp(e),e}throw er=n,Pr}}function $i(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(er=s,Pr):s}}var er=null;function ip(){if(er===null)throw Error(a(459));var e=er;return er=null,e}function rp(e){if(e===Pr||e===Ll)throw Error(a(483))}var Hr=null,Fs=0;function zl(e){var n=Fs;return Fs+=1,Hr===null&&(Hr=[]),np(Hr,e,n)}function Ys(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pl(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function sp(e){function n(w,E){if(e){var T=w.deletions;T===null?(w.deletions=[E],w.flags|=16):T.push(E)}}function s(w,E){if(!e)return null;for(;E!==null;)n(w,E),E=E.sibling;return null}function l(w){for(var E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function u(w,E){return w=Cn(w,E),w.index=0,w.sibling=null,w}function d(w,E,T){return w.index=T,e?(T=w.alternate,T!==null?(T=T.index,T<E?(w.flags|=67108866,E):T):(w.flags|=67108866,E)):(w.flags|=1048576,E)}function y(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function v(w,E,T,L){return E===null||E.tag!==6?(E=du(T,w.mode,L),E.return=w,E):(E=u(E,T),E.return=w,E)}function S(w,E,T,L){var X=T.type;return X===P?I(w,E,T.props.children,L,T.key):E!==null&&(E.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===K&&$i(X)===E.type)?(E=u(E,T.props),Ys(E,T),E.return=w,E):(E=kl(T.type,T.key,T.props,null,w.mode,L),Ys(E,T),E.return=w,E)}function N(w,E,T,L){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=hu(T,w.mode,L),E.return=w,E):(E=u(E,T.children||[]),E.return=w,E)}function I(w,E,T,L,X){return E===null||E.tag!==7?(E=Ki(T,w.mode,L,X),E.return=w,E):(E=u(E,T),E.return=w,E)}function z(w,E,T){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=du(""+E,w.mode,T),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case A:return T=kl(E.type,E.key,E.props,null,w.mode,T),Ys(T,E),T.return=w,T;case D:return E=hu(E,w.mode,T),E.return=w,E;case K:return E=$i(E),z(w,E,T)}if(Me(E)||Ke(E))return E=Ki(E,w.mode,T,null),E.return=w,E;if(typeof E.then=="function")return z(w,zl(E),T);if(E.$$typeof===W)return z(w,Il(w,E),T);Pl(w,E)}return null}function O(w,E,T,L){var X=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return X!==null?null:v(w,E,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case A:return T.key===X?S(w,E,T,L):null;case D:return T.key===X?N(w,E,T,L):null;case K:return T=$i(T),O(w,E,T,L)}if(Me(T)||Ke(T))return X!==null?null:I(w,E,T,L,null);if(typeof T.then=="function")return O(w,E,zl(T),L);if(T.$$typeof===W)return O(w,E,Il(w,T),L);Pl(w,T)}return null}function k(w,E,T,L,X){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return w=w.get(T)||null,v(E,w,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return w=w.get(L.key===null?T:L.key)||null,S(E,w,L,X);case D:return w=w.get(L.key===null?T:L.key)||null,N(E,w,L,X);case K:return L=$i(L),k(w,E,T,L,X)}if(Me(L)||Ke(L))return w=w.get(T)||null,I(E,w,L,X,null);if(typeof L.then=="function")return k(w,E,T,zl(L),X);if(L.$$typeof===W)return k(w,E,T,Il(E,L),X);Pl(E,L)}return null}function F(w,E,T,L){for(var X=null,ye=null,Q=E,se=E=0,me=null;Q!==null&&se<T.length;se++){Q.index>se?(me=Q,Q=null):me=Q.sibling;var _e=O(w,Q,T[se],L);if(_e===null){Q===null&&(Q=me);break}e&&Q&&_e.alternate===null&&n(w,Q),E=d(_e,E,se),ye===null?X=_e:ye.sibling=_e,ye=_e,Q=me}if(se===T.length)return s(w,Q),pe&&wn(w,se),X;if(Q===null){for(;se<T.length;se++)Q=z(w,T[se],L),Q!==null&&(E=d(Q,E,se),ye===null?X=Q:ye.sibling=Q,ye=Q);return pe&&wn(w,se),X}for(Q=l(Q);se<T.length;se++)me=k(Q,w,se,T[se],L),me!==null&&(e&&me.alternate!==null&&Q.delete(me.key===null?se:me.key),E=d(me,E,se),ye===null?X=me:ye.sibling=me,ye=me);return e&&Q.forEach(function(Ci){return n(w,Ci)}),pe&&wn(w,se),X}function J(w,E,T,L){if(T==null)throw Error(a(151));for(var X=null,ye=null,Q=E,se=E=0,me=null,_e=T.next();Q!==null&&!_e.done;se++,_e=T.next()){Q.index>se?(me=Q,Q=null):me=Q.sibling;var Ci=O(w,Q,_e.value,L);if(Ci===null){Q===null&&(Q=me);break}e&&Q&&Ci.alternate===null&&n(w,Q),E=d(Ci,E,se),ye===null?X=Ci:ye.sibling=Ci,ye=Ci,Q=me}if(_e.done)return s(w,Q),pe&&wn(w,se),X;if(Q===null){for(;!_e.done;se++,_e=T.next())_e=z(w,_e.value,L),_e!==null&&(E=d(_e,E,se),ye===null?X=_e:ye.sibling=_e,ye=_e);return pe&&wn(w,se),X}for(Q=l(Q);!_e.done;se++,_e=T.next())_e=k(Q,w,se,_e.value,L),_e!==null&&(e&&_e.alternate!==null&&Q.delete(_e.key===null?se:_e.key),E=d(_e,E,se),ye===null?X=_e:ye.sibling=_e,ye=_e);return e&&Q.forEach(function(ES){return n(w,ES)}),pe&&wn(w,se),X}function Ae(w,E,T,L){if(typeof T=="object"&&T!==null&&T.type===P&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case A:e:{for(var X=T.key;E!==null;){if(E.key===X){if(X=T.type,X===P){if(E.tag===7){s(w,E.sibling),L=u(E,T.props.children),L.return=w,w=L;break e}}else if(E.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===K&&$i(X)===E.type){s(w,E.sibling),L=u(E,T.props),Ys(L,T),L.return=w,w=L;break e}s(w,E);break}else n(w,E);E=E.sibling}T.type===P?(L=Ki(T.props.children,w.mode,L,T.key),L.return=w,w=L):(L=kl(T.type,T.key,T.props,null,w.mode,L),Ys(L,T),L.return=w,w=L)}return y(w);case D:e:{for(X=T.key;E!==null;){if(E.key===X)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){s(w,E.sibling),L=u(E,T.children||[]),L.return=w,w=L;break e}else{s(w,E);break}else n(w,E);E=E.sibling}L=hu(T,w.mode,L),L.return=w,w=L}return y(w);case K:return T=$i(T),Ae(w,E,T,L)}if(Me(T))return F(w,E,T,L);if(Ke(T)){if(X=Ke(T),typeof X!="function")throw Error(a(150));return T=X.call(T),J(w,E,T,L)}if(typeof T.then=="function")return Ae(w,E,zl(T),L);if(T.$$typeof===W)return Ae(w,E,Il(w,T),L);Pl(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,E!==null&&E.tag===6?(s(w,E.sibling),L=u(E,T),L.return=w,w=L):(s(w,E),L=du(T,w.mode,L),L.return=w,w=L),y(w)):s(w,E)}return function(w,E,T,L){try{Fs=0;var X=Ae(w,E,T,L);return Hr=null,X}catch(Q){if(Q===Pr||Q===Ll)throw Q;var ye=Lt(29,Q,null,w.mode);return ye.lanes=L,ye.return=w,ye}finally{}}}var tr=sp(!0),ap=sp(!1),li=!1;function Cu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ci(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Se&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=Ol(e),qm(e,null,s),n}return Rl(e,l,n,s),Ol(e)}function Qs(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Zf(e,s)}}function Tu(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?u=d=y:d=d.next=y,s=s.next}while(s!==null);d===null?u=d=n:d=d.next=n}else u=d=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Nu=!1;function Ks(){if(Nu){var e=zr;if(e!==null)throw e}}function Ws(e,n,s,l){Nu=!1;var u=e.updateQueue;li=!1;var d=u.firstBaseUpdate,y=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var S=v,N=S.next;S.next=null,y===null?d=N:y.next=N,y=S;var I=e.alternate;I!==null&&(I=I.updateQueue,v=I.lastBaseUpdate,v!==y&&(v===null?I.firstBaseUpdate=N:v.next=N,I.lastBaseUpdate=S))}if(d!==null){var z=u.baseState;y=0,I=N=S=null,v=d;do{var O=v.lane&-536870913,k=O!==v.lane;if(k?(fe&O)===O:(l&O)===O){O!==0&&O===Ur&&(Nu=!0),I!==null&&(I=I.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var F=e,J=v;O=n;var Ae=s;switch(J.tag){case 1:if(F=J.payload,typeof F=="function"){z=F.call(Ae,z,O);break e}z=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=J.payload,O=typeof F=="function"?F.call(Ae,z,O):F,O==null)break e;z=b({},z,O);break e;case 2:li=!0}}O=v.callback,O!==null&&(e.flags|=64,k&&(e.flags|=8192),k=u.callbacks,k===null?u.callbacks=[O]:k.push(O))}else k={lane:O,tag:v.tag,payload:v.payload,callback:v.callback,next:null},I===null?(N=I=k,S=z):I=I.next=k,y|=O;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;k=v,v=k.next,k.next=null,u.lastBaseUpdate=k,u.shared.pending=null}}while(!0);I===null&&(S=z),u.baseState=S,u.firstBaseUpdate=N,u.lastBaseUpdate=I,d===null&&(u.shared.lanes=0),mi|=y,e.lanes=y,e.memoizedState=z}}function lp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function op(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)lp(s[e],n)}var Br=C(null),Hl=C(0);function cp(e,n){e=Ln,G(Hl,e),G(Br,n),Ln=e|n.baseLanes}function Au(){G(Hl,Ln),G(Br,Br.current)}function Ru(){Ln=Hl.current,j(Br),j(Hl)}var Ut=C(null),Xt=null;function ui(e){var n=e.alternate;G(Ye,Ye.current&1),G(Ut,e),Xt===null&&(n===null||Br.current!==null||n.memoizedState!==null)&&(Xt=e)}function Ou(e){G(Ye,Ye.current),G(Ut,e),Xt===null&&(Xt=e)}function up(e){e.tag===22?(G(Ye,Ye.current),G(Ut,e),Xt===null&&(Xt=e)):di()}function di(){G(Ye,Ye.current),G(Ut,Ut.current)}function zt(e){j(Ut),Xt===e&&(Xt=null),j(Ye)}var Ye=C(0);function Bl(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ld(s)||Ud(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var An=0,re=null,Te=null,Xe=null,Vl=!1,Vr=!1,nr=!1,ql=0,Xs=0,qr=null,fx=0;function Be(){throw Error(a(321))}function ku(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!jt(e[s],n[s]))return!1;return!0}function Du(e,n,s,l,u,d){return An=d,re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?Qp:Qu,nr=!1,d=s(l,u),nr=!1,Vr&&(d=hp(n,s,l,u)),dp(e),d}function dp(e){M.H=$s;var n=Te!==null&&Te.next!==null;if(An=0,Xe=Te=re=null,Vl=!1,Xs=0,qr=null,n)throw Error(a(300));e===null||Ze||(e=e.dependencies,e!==null&&Ml(e)&&(Ze=!0))}function hp(e,n,s,l){re=e;var u=0;do{if(Vr&&(qr=null),Xs=0,Vr=!1,25<=u)throw Error(a(301));if(u+=1,Xe=Te=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}M.H=Kp,d=n(s,l)}while(Vr);return d}function mx(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?Zs(n):n,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(re.flags|=1024),n}function Mu(){var e=ql!==0;return ql=0,e}function Iu(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function ju(e){if(Vl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Vl=!1}An=0,Xe=Te=re=null,Vr=!1,Xs=ql=0,qr=null}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?re.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Qe(){if(Te===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var n=Xe===null?re.memoizedState:Xe.next;if(n!==null)Xe=n,Te=e;else{if(e===null)throw re.alternate===null?Error(a(467)):Error(a(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Xe===null?re.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Gl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zs(e){var n=Xs;return Xs+=1,qr===null&&(qr=[]),e=np(qr,e,n),n=re,(Xe===null?n.memoizedState:Xe.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Qp:Qu),e}function Fl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zs(e);if(e.$$typeof===W)return ut(e)}throw Error(a(438,String(e)))}function Lu(e){var n=null,s=re.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Gl(),re.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=ze;return n.index++,s}function Rn(e,n){return typeof n=="function"?n(e):n}function Yl(e){var n=Qe();return Uu(n,Te,e)}function Uu(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var u=e.baseQueue,d=l.pending;if(d!==null){if(u!==null){var y=u.next;u.next=d.next,d.next=y}n.baseQueue=u=d,l.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{n=u.next;var v=y=null,S=null,N=n,I=!1;do{var z=N.lane&-536870913;if(z!==N.lane?(fe&z)===z:(An&z)===z){var O=N.revertLane;if(O===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),z===Ur&&(I=!0);else if((An&O)===O){N=N.next,O===Ur&&(I=!0);continue}else z={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(v=S=z,y=d):S=S.next=z,re.lanes|=O,mi|=O;z=N.action,nr&&s(d,z),d=N.hasEagerState?N.eagerState:s(d,z)}else O={lane:z,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(v=S=O,y=d):S=S.next=O,re.lanes|=z,mi|=z;N=N.next}while(N!==null&&N!==n);if(S===null?y=d:S.next=v,!jt(d,e.memoizedState)&&(Ze=!0,I&&(s=zr,s!==null)))throw s;e.memoizedState=d,e.baseState=y,e.baseQueue=S,l.lastRenderedState=d}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function zu(e){var n=Qe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,u=s.pending,d=n.memoizedState;if(u!==null){s.pending=null;var y=u=u.next;do d=e(d,y.action),y=y.next;while(y!==u);jt(d,n.memoizedState)||(Ze=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function fp(e,n,s){var l=re,u=Qe(),d=pe;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!jt((Te||u).memoizedState,s);if(y&&(u.memoizedState=s,Ze=!0),u=u.queue,Bu(gp.bind(null,l,u,e),[e]),u.getSnapshot!==n||y||Xe!==null&&Xe.memoizedState.tag&1){if(l.flags|=2048,Gr(9,{destroy:void 0},pp.bind(null,l,u,s,n),null),Oe===null)throw Error(a(349));d||(An&127)!==0||mp(l,n,s)}return s}function mp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=re.updateQueue,n===null?(n=Gl(),re.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function pp(e,n,s,l){n.value=s,n.getSnapshot=l,yp(n)&&_p(e)}function gp(e,n,s){return s(function(){yp(n)&&_p(e)})}function yp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!jt(e,s)}catch{return!0}}function _p(e){var n=Qi(e,2);n!==null&&Nt(n,e,2)}function Pu(e){var n=_t();if(typeof e=="function"){var s=e;if(e=s(),nr){ei(!0);try{s()}finally{ei(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:e},n}function vp(e,n,s,l){return e.baseState=s,Uu(e,Te,typeof l=="function"?l:Rn)}function px(e,n,s,l,u){if(Wl(e))throw Error(a(485));if(e=n.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};M.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,bp(n,d)):(d.next=s.next,n.pending=s.next=d)}}function bp(e,n){var s=n.action,l=n.payload,u=e.state;if(n.isTransition){var d=M.T,y={};M.T=y;try{var v=s(u,l),S=M.S;S!==null&&S(y,v),xp(e,n,v)}catch(N){Hu(e,n,N)}finally{d!==null&&y.types!==null&&(d.types=y.types),M.T=d}}else try{d=s(u,l),xp(e,n,d)}catch(N){Hu(e,n,N)}}function xp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Sp(e,n,l)},function(l){return Hu(e,n,l)}):Sp(e,n,s)}function Sp(e,n,s){n.status="fulfilled",n.value=s,Ep(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,bp(e,s)))}function Hu(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Ep(n),n=n.next;while(n!==l)}e.action=null}function Ep(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Cp(e,n){return n}function wp(e,n){if(pe){var s=Oe.formState;if(s!==null){e:{var l=re;if(pe){if(Ie){t:{for(var u=Ie,d=Wt;u.nodeType!==8;){if(!d){u=null;break t}if(u=Zt(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){Ie=Zt(u.nextSibling),l=u.data==="F!";break e}}si(l)}l=!1}l&&(n=s[0])}}return s=_t(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:n},s.queue=l,s=Gp.bind(null,re,l),l.dispatch=s,l=Pu(!1),d=Yu.bind(null,re,!1,l.queue),l=_t(),u={state:n,dispatch:null,action:e,pending:null},l.queue=u,s=px.bind(null,re,u,d,s),u.dispatch=s,l.memoizedState=e,[n,s,!1]}function Tp(e){var n=Qe();return Np(n,Te,e)}function Np(e,n,s){if(n=Uu(e,n,Cp)[0],e=Yl(Rn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Zs(n)}catch(y){throw y===Pr?Ll:y}else l=n;n=Qe();var u=n.queue,d=u.dispatch;return s!==n.memoizedState&&(re.flags|=2048,Gr(9,{destroy:void 0},gx.bind(null,u,s),null)),[l,d,e]}function gx(e,n){e.action=n}function Ap(e){var n=Qe(),s=Te;if(s!==null)return Np(n,s,e);Qe(),n=n.memoizedState,s=Qe();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Gr(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=re.updateQueue,n===null&&(n=Gl(),re.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Rp(){return Qe().memoizedState}function Ql(e,n,s,l){var u=_t();re.flags|=e,u.memoizedState=Gr(1|n,{destroy:void 0},s,l===void 0?null:l)}function Kl(e,n,s,l){var u=Qe();l=l===void 0?null:l;var d=u.memoizedState.inst;Te!==null&&l!==null&&ku(l,Te.memoizedState.deps)?u.memoizedState=Gr(n,d,s,l):(re.flags|=e,u.memoizedState=Gr(1|n,d,s,l))}function Op(e,n){Ql(8390656,8,e,n)}function Bu(e,n){Kl(2048,8,e,n)}function yx(e){re.flags|=4;var n=re.updateQueue;if(n===null)n=Gl(),re.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function kp(e){var n=Qe().memoizedState;return yx({ref:n,nextImpl:e}),function(){if((Se&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Dp(e,n){return Kl(4,2,e,n)}function Mp(e,n){return Kl(4,4,e,n)}function Ip(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function jp(e,n,s){s=s!=null?s.concat([e]):null,Kl(4,4,Ip.bind(null,n,e),s)}function Vu(){}function Lp(e,n){var s=Qe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&ku(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Up(e,n){var s=Qe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&ku(n,l[1]))return l[0];if(l=e(),nr){ei(!0);try{e()}finally{ei(!1)}}return s.memoizedState=[l,n],l}function qu(e,n,s){return s===void 0||(An&1073741824)!==0&&(fe&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=zg(),re.lanes|=e,mi|=e,s)}function zp(e,n,s,l){return jt(s,n)?s:Br.current!==null?(e=qu(e,s,l),jt(e,n)||(Ze=!0),e):(An&42)===0||(An&1073741824)!==0&&(fe&261930)===0?(Ze=!0,e.memoizedState=s):(e=zg(),re.lanes|=e,mi|=e,n)}function Pp(e,n,s,l,u){var d=q.p;q.p=d!==0&&8>d?d:8;var y=M.T,v={};M.T=v,Yu(e,!1,n,s);try{var S=u(),N=M.S;if(N!==null&&N(v,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var I=hx(S,l);Js(e,n,I,Bt(e))}else Js(e,n,l,Bt(e))}catch(z){Js(e,n,{then:function(){},status:"rejected",reason:z},Bt())}finally{q.p=d,y!==null&&v.types!==null&&(y.types=v.types),M.T=y}}function _x(){}function Gu(e,n,s,l){if(e.tag!==5)throw Error(a(476));var u=Hp(e).queue;Pp(e,u,n,Z,s===null?_x:function(){return Bp(e),s(l)})}function Hp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:Z},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Bp(e){var n=Hp(e);n.next===null&&(n=e.alternate.memoizedState),Js(e,n.next.queue,{},Bt())}function Fu(){return ut(pa)}function Vp(){return Qe().memoizedState}function qp(){return Qe().memoizedState}function vx(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Bt();e=oi(s);var l=ci(n,e,s);l!==null&&(Nt(l,n,s),Qs(l,n,s)),n={cache:bu()},e.payload=n;return}n=n.return}}function bx(e,n,s){var l=Bt();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Wl(e)?Fp(n,s):(s=cu(e,n,s,l),s!==null&&(Nt(s,e,l),Yp(s,n,l)))}function Gp(e,n,s){var l=Bt();Js(e,n,s,l)}function Js(e,n,s,l){var u={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Wl(e))Fp(n,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,v=d(y,s);if(u.hasEagerState=!0,u.eagerState=v,jt(v,y))return Rl(e,n,u,0),Oe===null&&Al(),!1}catch{}finally{}if(s=cu(e,n,u,l),s!==null)return Nt(s,e,l),Yp(s,n,l),!0}return!1}function Yu(e,n,s,l){if(l={lane:2,revertLane:Cd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wl(e)){if(n)throw Error(a(479))}else n=cu(e,s,l,2),n!==null&&Nt(n,e,2)}function Wl(e){var n=e.alternate;return e===re||n!==null&&n===re}function Fp(e,n){Vr=Vl=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Yp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Zf(e,s)}}var $s={readContext:ut,use:Fl,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};$s.useEffectEvent=Be;var Qp={readContext:ut,use:Fl,useCallback:function(e,n){return _t().memoizedState=[e,n===void 0?null:n],e},useContext:ut,useEffect:Op,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Ql(4194308,4,Ip.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ql(4194308,4,e,n)},useInsertionEffect:function(e,n){Ql(4,2,e,n)},useMemo:function(e,n){var s=_t();n=n===void 0?null:n;var l=e();if(nr){ei(!0);try{e()}finally{ei(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=_t();if(s!==void 0){var u=s(n);if(nr){ei(!0);try{s(n)}finally{ei(!1)}}}else u=n;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=bx.bind(null,re,e),[l.memoizedState,e]},useRef:function(e){var n=_t();return e={current:e},n.memoizedState=e},useState:function(e){e=Pu(e);var n=e.queue,s=Gp.bind(null,re,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Vu,useDeferredValue:function(e,n){var s=_t();return qu(s,e,n)},useTransition:function(){var e=Pu(!1);return e=Pp.bind(null,re,e.queue,!0,!1),_t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=re,u=_t();if(pe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Oe===null)throw Error(a(349));(fe&127)!==0||mp(l,n,s)}u.memoizedState=s;var d={value:s,getSnapshot:n};return u.queue=d,Op(gp.bind(null,l,d,e),[e]),l.flags|=2048,Gr(9,{destroy:void 0},pp.bind(null,l,d,s,n),null),s},useId:function(){var e=_t(),n=Oe.identifierPrefix;if(pe){var s=mn,l=fn;s=(l&~(1<<32-It(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ql++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=fx++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Fu,useFormState:wp,useActionState:wp,useOptimistic:function(e){var n=_t();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Yu.bind(null,re,!0,s),s.dispatch=n,[e,n]},useMemoCache:Lu,useCacheRefresh:function(){return _t().memoizedState=vx.bind(null,re)},useEffectEvent:function(e){var n=_t(),s={impl:e};return n.memoizedState=s,function(){if((Se&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Qu={readContext:ut,use:Fl,useCallback:Lp,useContext:ut,useEffect:Bu,useImperativeHandle:jp,useInsertionEffect:Dp,useLayoutEffect:Mp,useMemo:Up,useReducer:Yl,useRef:Rp,useState:function(){return Yl(Rn)},useDebugValue:Vu,useDeferredValue:function(e,n){var s=Qe();return zp(s,Te.memoizedState,e,n)},useTransition:function(){var e=Yl(Rn)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Zs(e),n]},useSyncExternalStore:fp,useId:Vp,useHostTransitionStatus:Fu,useFormState:Tp,useActionState:Tp,useOptimistic:function(e,n){var s=Qe();return vp(s,Te,e,n)},useMemoCache:Lu,useCacheRefresh:qp};Qu.useEffectEvent=kp;var Kp={readContext:ut,use:Fl,useCallback:Lp,useContext:ut,useEffect:Bu,useImperativeHandle:jp,useInsertionEffect:Dp,useLayoutEffect:Mp,useMemo:Up,useReducer:zu,useRef:Rp,useState:function(){return zu(Rn)},useDebugValue:Vu,useDeferredValue:function(e,n){var s=Qe();return Te===null?qu(s,e,n):zp(s,Te.memoizedState,e,n)},useTransition:function(){var e=zu(Rn)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Zs(e),n]},useSyncExternalStore:fp,useId:Vp,useHostTransitionStatus:Fu,useFormState:Ap,useActionState:Ap,useOptimistic:function(e,n){var s=Qe();return Te!==null?vp(s,Te,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Lu,useCacheRefresh:qp};Kp.useEffectEvent=kp;function Ku(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Wu={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Bt(),u=oi(l);u.payload=n,s!=null&&(u.callback=s),n=ci(e,u,l),n!==null&&(Nt(n,e,l),Qs(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Bt(),u=oi(l);u.tag=1,u.payload=n,s!=null&&(u.callback=s),n=ci(e,u,l),n!==null&&(Nt(n,e,l),Qs(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Bt(),l=oi(s);l.tag=2,n!=null&&(l.callback=n),n=ci(e,l,s),n!==null&&(Nt(n,e,s),Qs(n,e,s))}};function Wp(e,n,s,l,u,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):n.prototype&&n.prototype.isPureReactComponent?!Ps(s,l)||!Ps(u,d):!0}function Xp(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Wu.enqueueReplaceState(n,n.state,null)}function ir(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var u in e)s[u]===void 0&&(s[u]=e[u])}return s}function Zp(e){Nl(e)}function Jp(e){console.error(e)}function $p(e){Nl(e)}function Xl(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function eg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Xu(e,n,s){return s=oi(s),s.tag=3,s.payload={element:null},s.callback=function(){Xl(e,n)},s}function tg(e){return e=oi(e),e.tag=3,e}function ng(e,n,s,l){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var d=l.value;e.payload=function(){return u(d)},e.callback=function(){eg(n,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){eg(n,s,l),typeof u!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function xx(e,n,s,l,u){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Lr(n,s,u,!0),s=Ut.current,s!==null){switch(s.tag){case 31:case 13:return Xt===null?oo():s.alternate===null&&Ve===0&&(Ve=3),s.flags&=-257,s.flags|=65536,s.lanes=u,l===Ul?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),xd(e,l,u)),!1;case 22:return s.flags|=65536,l===Ul?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),xd(e,l,u)),!1}throw Error(a(435,s.tag))}return xd(e,l,u),oo(),!1}if(pe)return n=Ut.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==pu&&(e=Error(a(422),{cause:l}),Vs(Yt(e,s)))):(l!==pu&&(n=Error(a(423),{cause:l}),Vs(Yt(n,s))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Yt(l,s),u=Xu(e.stateNode,l,u),Tu(e,u),Ve!==4&&(Ve=2)),!1;var d=Error(a(520),{cause:l});if(d=Yt(d,s),la===null?la=[d]:la.push(d),Ve!==4&&(Ve=2),n===null)return!0;l=Yt(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=u&-u,s.lanes|=e,e=Xu(s.stateNode,l,e),Tu(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(pi===null||!pi.has(d))))return s.flags|=65536,u&=-u,s.lanes|=u,u=tg(u),ng(u,e,s,l),Tu(s,u),!1}s=s.return}while(s!==null);return!1}var Zu=Error(a(461)),Ze=!1;function dt(e,n,s,l){n.child=e===null?ap(n,null,s,l):tr(n,e.child,s,l)}function ig(e,n,s,l,u){s=s.render;var d=n.ref;if("ref"in l){var y={};for(var v in l)v!=="ref"&&(y[v]=l[v])}else y=l;return Zi(n),l=Du(e,n,s,y,d,u),v=Mu(),e!==null&&!Ze?(Iu(e,n,u),On(e,n,u)):(pe&&v&&fu(n),n.flags|=1,dt(e,n,l,u),n.child)}function rg(e,n,s,l,u){if(e===null){var d=s.type;return typeof d=="function"&&!uu(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,sg(e,n,d,l,u)):(e=kl(s.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!sd(e,u)){var y=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ps,s(y,l)&&e.ref===n.ref)return On(e,n,u)}return n.flags|=1,e=Cn(d,l),e.ref=n.ref,e.return=n,n.child=e}function sg(e,n,s,l,u){if(e!==null){var d=e.memoizedProps;if(Ps(d,l)&&e.ref===n.ref)if(Ze=!1,n.pendingProps=l=d,sd(e,u))(e.flags&131072)!==0&&(Ze=!0);else return n.lanes=e.lanes,On(e,n,u)}return Ju(e,n,s,l,u)}function ag(e,n,s,l){var u=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(l=n.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~d}else l=0,n.child=null;return lg(e,n,d,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&jl(n,d!==null?d.cachePool:null),d!==null?cp(n,d):Au(),up(n);else return l=n.lanes=536870912,lg(e,n,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(jl(n,d.cachePool),cp(n,d),di(),n.memoizedState=null):(e!==null&&jl(n,null),Au(),di());return dt(e,n,u,s),n.child}function ea(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function lg(e,n,s,l,u){var d=Su();return d=d===null?null:{parent:We._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},e!==null&&jl(n,null),Au(),up(n),e!==null&&Lr(e,n,l,!0),n.childLanes=u,null}function Zl(e,n){return n=$l({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function og(e,n,s){return tr(n,e.child,null,s),e=Zl(n,n.pendingProps),e.flags|=2,zt(n),n.memoizedState=null,e}function Sx(e,n,s){var l=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(pe){if(l.mode==="hidden")return e=Zl(n,l),n.lanes=536870912,ea(null,e);if(Ou(n),(e=Ie)?(e=by(e,Wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ii!==null?{id:fn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},s=Fm(e),s.return=n,n.child=s,ct=n,Ie=null)):e=null,e===null)throw si(n);return n.lanes=536870912,null}return Zl(n,l)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(Ou(n),u)if(n.flags&256)n.flags&=-257,n=og(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ze||Lr(e,n,s,!1),u=(s&e.childLanes)!==0,Ze||u){if(l=Oe,l!==null&&(y=Jf(l,s),y!==0&&y!==d.retryLane))throw d.retryLane=y,Qi(e,y),Nt(l,e,y),Zu;oo(),n=og(e,n,s)}else e=d.treeContext,Ie=Zt(y.nextSibling),ct=n,pe=!0,ri=null,Wt=!1,e!==null&&Km(n,e),n=Zl(n,l),n.flags|=4096;return n}return e=Cn(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Jl(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Ju(e,n,s,l,u){return Zi(n),s=Du(e,n,s,l,void 0,u),l=Mu(),e!==null&&!Ze?(Iu(e,n,u),On(e,n,u)):(pe&&l&&fu(n),n.flags|=1,dt(e,n,s,u),n.child)}function cg(e,n,s,l,u,d){return Zi(n),n.updateQueue=null,s=hp(n,l,s,u),dp(e),l=Mu(),e!==null&&!Ze?(Iu(e,n,d),On(e,n,d)):(pe&&l&&fu(n),n.flags|=1,dt(e,n,s,d),n.child)}function ug(e,n,s,l,u){if(Zi(n),n.stateNode===null){var d=Dr,y=s.contextType;typeof y=="object"&&y!==null&&(d=ut(y)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wu,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Cu(n),y=s.contextType,d.context=typeof y=="object"&&y!==null?ut(y):Dr,d.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Ku(n,s,y,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Wu.enqueueReplaceState(d,d.state,null),Ws(n,l,d,u),Ks(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var v=n.memoizedProps,S=ir(s,v);d.props=S;var N=d.context,I=s.contextType;y=Dr,typeof I=="object"&&I!==null&&(y=ut(I));var z=s.getDerivedStateFromProps;I=typeof z=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,I||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||N!==y)&&Xp(n,d,l,y),li=!1;var O=n.memoizedState;d.state=O,Ws(n,l,d,u),Ks(),N=n.memoizedState,v||O!==N||li?(typeof z=="function"&&(Ku(n,s,z,l),N=n.memoizedState),(S=li||Wp(n,s,S,l,O,N,y))?(I||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=N),d.props=l,d.state=N,d.context=y,l=S):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,wu(e,n),y=n.memoizedProps,I=ir(s,y),d.props=I,z=n.pendingProps,O=d.context,N=s.contextType,S=Dr,typeof N=="object"&&N!==null&&(S=ut(N)),v=s.getDerivedStateFromProps,(N=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==z||O!==S)&&Xp(n,d,l,S),li=!1,O=n.memoizedState,d.state=O,Ws(n,l,d,u),Ks();var k=n.memoizedState;y!==z||O!==k||li||e!==null&&e.dependencies!==null&&Ml(e.dependencies)?(typeof v=="function"&&(Ku(n,s,v,l),k=n.memoizedState),(I=li||Wp(n,s,I,l,O,k,S)||e!==null&&e.dependencies!==null&&Ml(e.dependencies))?(N||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,k,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,k,S)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),d.props=l,d.state=k,d.context=S,l=I):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Jl(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=tr(n,e.child,null,u),n.child=tr(n,null,s,u)):dt(e,n,s,u),n.memoizedState=d.state,e=n.child):e=On(e,n,u),e}function dg(e,n,s,l){return Wi(),n.flags|=256,dt(e,n,s,l),n.child}var $u={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(e){return{baseLanes:e,cachePool:ep()}}function td(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Ht),e}function hg(e,n,s){var l=n.pendingProps,u=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),y&&(u=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(pe){if(u?ui(n):di(),(e=Ie)?(e=by(e,Wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ii!==null?{id:fn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},s=Fm(e),s.return=n,n.child=s,ct=n,Ie=null)):e=null,e===null)throw si(n);return Ud(e)?n.lanes=32:n.lanes=536870912,null}var v=l.children;return l=l.fallback,u?(di(),u=n.mode,v=$l({mode:"hidden",children:v},u),l=Ki(l,u,s,null),v.return=n,l.return=n,v.sibling=l,n.child=v,l=n.child,l.memoizedState=ed(s),l.childLanes=td(e,y,s),n.memoizedState=$u,ea(null,l)):(ui(n),nd(n,v))}var S=e.memoizedState;if(S!==null&&(v=S.dehydrated,v!==null)){if(d)n.flags&256?(ui(n),n.flags&=-257,n=id(e,n,s)):n.memoizedState!==null?(di(),n.child=e.child,n.flags|=128,n=null):(di(),v=l.fallback,u=n.mode,l=$l({mode:"visible",children:l.children},u),v=Ki(v,u,s,null),v.flags|=2,l.return=n,v.return=n,l.sibling=v,n.child=l,tr(n,e.child,null,s),l=n.child,l.memoizedState=ed(s),l.childLanes=td(e,y,s),n.memoizedState=$u,n=ea(null,l));else if(ui(n),Ud(v)){if(y=v.nextSibling&&v.nextSibling.dataset,y)var N=y.dgst;y=N,l=Error(a(419)),l.stack="",l.digest=y,Vs({value:l,source:null,stack:null}),n=id(e,n,s)}else if(Ze||Lr(e,n,s,!1),y=(s&e.childLanes)!==0,Ze||y){if(y=Oe,y!==null&&(l=Jf(y,s),l!==0&&l!==S.retryLane))throw S.retryLane=l,Qi(e,l),Nt(y,e,l),Zu;Ld(v)||oo(),n=id(e,n,s)}else Ld(v)?(n.flags|=192,n.child=e.child,n=null):(e=S.treeContext,Ie=Zt(v.nextSibling),ct=n,pe=!0,ri=null,Wt=!1,e!==null&&Km(n,e),n=nd(n,l.children),n.flags|=4096);return n}return u?(di(),v=l.fallback,u=n.mode,S=e.child,N=S.sibling,l=Cn(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,N!==null?v=Cn(N,v):(v=Ki(v,u,s,null),v.flags|=2),v.return=n,l.return=n,l.sibling=v,n.child=l,ea(null,l),l=n.child,v=e.child.memoizedState,v===null?v=ed(s):(u=v.cachePool,u!==null?(S=We._currentValue,u=u.parent!==S?{parent:S,pool:S}:u):u=ep(),v={baseLanes:v.baseLanes|s,cachePool:u}),l.memoizedState=v,l.childLanes=td(e,y,s),n.memoizedState=$u,ea(e.child,l)):(ui(n),s=e.child,e=s.sibling,s=Cn(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=s,n.memoizedState=null,s)}function nd(e,n){return n=$l({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $l(e,n){return e=Lt(22,e,null,n),e.lanes=0,e}function id(e,n,s){return tr(n,e.child,null,s),e=nd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function fg(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),_u(e.return,n,s)}function rd(e,n,s,l,u,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u,treeForkCount:d}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=s,y.tailMode=u,y.treeForkCount=d)}function mg(e,n,s){var l=n.pendingProps,u=l.revealOrder,d=l.tail;l=l.children;var y=Ye.current,v=(y&2)!==0;if(v?(y=y&1|2,n.flags|=128):y&=1,G(Ye,y),dt(e,n,l,s),l=pe?Bs:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fg(e,s,n);else if(e.tag===19)fg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&Bl(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),rd(n,!1,u,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Bl(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}rd(n,!0,s,null,d,l);break;case"together":rd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function On(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),mi|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Lr(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Cn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Cn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function sd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ml(e)))}function Ex(e,n,s){switch(n.tag){case 3:yt(n,n.stateNode.containerInfo),ai(n,We,e.memoizedState.cache),Wi();break;case 27:case 5:Ts(n);break;case 4:yt(n,n.stateNode.containerInfo);break;case 10:ai(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ou(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ui(n),n.flags|=128,null):(s&n.child.childLanes)!==0?hg(e,n,s):(ui(n),e=On(e,n,s),e!==null?e.sibling:null);ui(n);break;case 19:var u=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Lr(e,n,s,!1),l=(s&n.childLanes)!==0),u){if(l)return mg(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),G(Ye,Ye.current),l)break;return null;case 22:return n.lanes=0,ag(e,n,s,n.pendingProps);case 24:ai(n,We,e.memoizedState.cache)}return On(e,n,s)}function pg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ze=!0;else{if(!sd(e,s)&&(n.flags&128)===0)return Ze=!1,Ex(e,n,s);Ze=(e.flags&131072)!==0}else Ze=!1,pe&&(n.flags&1048576)!==0&&Qm(n,Bs,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=$i(n.elementType),n.type=e,typeof e=="function")uu(e)?(l=ir(e,l),n.tag=1,n=ug(null,n,e,l,s)):(n.tag=0,n=Ju(null,n,e,l,s));else{if(e!=null){var u=e.$$typeof;if(u===ge){n.tag=11,n=ig(null,n,e,l,s);break e}else if(u===ne){n.tag=14,n=rg(null,n,e,l,s);break e}}throw n=ft(e)||e,Error(a(306,n,""))}}return n;case 0:return Ju(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,u=ir(l,n.pendingProps),ug(e,n,l,u,s);case 3:e:{if(yt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var d=n.memoizedState;u=d.element,wu(e,n),Ws(n,l,null,s);var y=n.memoizedState;if(l=y.cache,ai(n,We,l),l!==d.cache&&vu(n,[We],s,!0),Ks(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=dg(e,n,l,s);break e}else if(l!==u){u=Yt(Error(a(424)),n),Vs(u),n=dg(e,n,l,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ie=Zt(e.firstChild),ct=n,pe=!0,ri=null,Wt=!0,s=ap(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Wi(),l===u){n=On(e,n,s);break e}dt(e,n,l,s)}n=n.child}return n;case 26:return Jl(e,n),e===null?(s=Ty(n.type,null,n.pendingProps,null))?n.memoizedState=s:pe||(s=n.type,e=n.pendingProps,l=go(oe.current).createElement(s),l[ot]=n,l[xt]=e,ht(l,s,e),it(l),n.stateNode=l):n.memoizedState=Ty(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ts(n),e===null&&pe&&(l=n.stateNode=Ey(n.type,n.pendingProps,oe.current),ct=n,Wt=!0,u=Ie,vi(n.type)?(zd=u,Ie=Zt(l.firstChild)):Ie=u),dt(e,n,n.pendingProps.children,s),Jl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&pe&&((u=l=Ie)&&(l=$x(l,n.type,n.pendingProps,Wt),l!==null?(n.stateNode=l,ct=n,Ie=Zt(l.firstChild),Wt=!1,u=!0):u=!1),u||si(n)),Ts(n),u=n.type,d=n.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,Md(u,d)?l=null:y!==null&&Md(u,y)&&(n.flags|=32),n.memoizedState!==null&&(u=Du(e,n,mx,null,null,s),pa._currentValue=u),Jl(e,n),dt(e,n,l,s),n.child;case 6:return e===null&&pe&&((e=s=Ie)&&(s=eS(s,n.pendingProps,Wt),s!==null?(n.stateNode=s,ct=n,Ie=null,e=!0):e=!1),e||si(n)),null;case 13:return hg(e,n,s);case 4:return yt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=tr(n,null,l,s):dt(e,n,l,s),n.child;case 11:return ig(e,n,n.type,n.pendingProps,s);case 7:return dt(e,n,n.pendingProps,s),n.child;case 8:return dt(e,n,n.pendingProps.children,s),n.child;case 12:return dt(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,ai(n,n.type,l.value),dt(e,n,l.children,s),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,Zi(n),u=ut(u),l=l(u),n.flags|=1,dt(e,n,l,s),n.child;case 14:return rg(e,n,n.type,n.pendingProps,s);case 15:return sg(e,n,n.type,n.pendingProps,s);case 19:return mg(e,n,s);case 31:return Sx(e,n,s);case 22:return ag(e,n,s,n.pendingProps);case 24:return Zi(n),l=ut(We),e===null?(u=Su(),u===null&&(u=Oe,d=bu(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=s),u=d),n.memoizedState={parent:l,cache:u},Cu(n),ai(n,We,u)):((e.lanes&s)!==0&&(wu(e,n),Ws(n,null,null,s),Ks()),u=e.memoizedState,d=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),ai(n,We,l)):(l=d.cache,ai(n,We,l),l!==u.cache&&vu(n,[We],s,!0))),dt(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function kn(e){e.flags|=4}function ad(e,n,s,l,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Vg())e.flags|=8192;else throw er=Ul,Eu}else e.flags&=-16777217}function gg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ky(n))if(Vg())e.flags|=8192;else throw er=Ul,Eu}function eo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wf():536870912,e.lanes|=n,Kr|=n)}function ta(e,n){if(!pe)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function je(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function Cx(e,n,s){var l=n.pendingProps;switch(mu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(n),null;case 1:return je(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Nn(We),Fe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(jr(n)?kn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gu())),je(n),null;case 26:var u=n.type,d=n.memoizedState;return e===null?(kn(n),d!==null?(je(n),gg(n,d)):(je(n),ad(n,u,null,l,s))):d?d!==e.memoizedState?(kn(n),je(n),gg(n,d)):(je(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&kn(n),je(n),ad(n,u,e,l,s)),null;case 27:if(dl(n),s=oe.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&kn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return je(n),null}e=Y.current,jr(n)?Wm(n):(e=Ey(u,l,s),n.stateNode=e,kn(n))}return je(n),null;case 5:if(dl(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&kn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return je(n),null}if(d=Y.current,jr(n))Wm(n);else{var y=go(oe.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(u,{is:l.is}):y.createElement(u)}}d[ot]=n,d[xt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=d;e:switch(ht(d,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&kn(n)}}return je(n),ad(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&kn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=oe.current,jr(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,u=ct,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[ot]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||hy(e.nodeValue,s)),e||si(n,!0)}else e=go(e).createTextNode(l),e[ot]=n,n.stateNode=e}return je(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=jr(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ot]=n}else Wi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;je(n),e=!1}else s=gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(zt(n),n):(zt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return je(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=jr(n),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(a(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[ot]=n}else Wi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;je(n),u=!1}else u=gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(zt(n),n):(zt(n),null)}return zt(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==u&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),eo(n,n.updateQueue),je(n),null);case 4:return Fe(),e===null&&Ad(n.stateNode.containerInfo),je(n),null;case 10:return Nn(n.type),je(n),null;case 19:if(j(Ye),l=n.memoizedState,l===null)return je(n),null;if(u=(n.flags&128)!==0,d=l.rendering,d===null)if(u)ta(l,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Bl(e),d!==null){for(n.flags|=128,ta(l,!1),e=d.updateQueue,n.updateQueue=e,eo(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Gm(s,e),s=s.sibling;return G(Ye,Ye.current&1|2),pe&&wn(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Dt()>so&&(n.flags|=128,u=!0,ta(l,!1),n.lanes=4194304)}else{if(!u)if(e=Bl(d),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,eo(n,e),ta(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!pe)return je(n),null}else 2*Dt()-l.renderingStartTime>so&&s!==536870912&&(n.flags|=128,u=!0,ta(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Dt(),e.sibling=null,s=Ye.current,G(Ye,u?s&1|2:s&1),pe&&wn(n,l.treeForkCount),e):(je(n),null);case 22:case 23:return zt(n),Ru(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(je(n),n.subtreeFlags&6&&(n.flags|=8192)):je(n),s=n.updateQueue,s!==null&&eo(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&j(Ji),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Nn(We),je(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function wx(e,n){switch(mu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Nn(We),Fe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return dl(n),null;case 31:if(n.memoizedState!==null){if(zt(n),n.alternate===null)throw Error(a(340));Wi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(zt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Wi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return j(Ye),null;case 4:return Fe(),null;case 10:return Nn(n.type),null;case 22:case 23:return zt(n),Ru(),e!==null&&j(Ji),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Nn(We),null;case 25:return null;default:return null}}function yg(e,n){switch(mu(n),n.tag){case 3:Nn(We),Fe();break;case 26:case 27:case 5:dl(n);break;case 4:Fe();break;case 31:n.memoizedState!==null&&zt(n);break;case 13:zt(n);break;case 19:j(Ye);break;case 10:Nn(n.type);break;case 22:case 23:zt(n),Ru(),e!==null&&j(Ji);break;case 24:Nn(We)}}function na(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var u=l.next;s=u;do{if((s.tag&e)===e){l=void 0;var d=s.create,y=s.inst;l=d(),y.destroy=l}s=s.next}while(s!==u)}}catch(v){we(n,n.return,v)}}function hi(e,n,s){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&e)===e){var y=l.inst,v=y.destroy;if(v!==void 0){y.destroy=void 0,u=n;var S=s,N=v;try{N()}catch(I){we(u,S,I)}}}l=l.next}while(l!==d)}}catch(I){we(n,n.return,I)}}function _g(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{op(n,s)}catch(l){we(e,e.return,l)}}}function vg(e,n,s){s.props=ir(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){we(e,n,l)}}function ia(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(u){we(e,n,u)}}function pn(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(u){we(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){we(e,n,u)}else s.current=null}function bg(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(u){we(e,e.return,u)}}function ld(e,n,s){try{var l=e.stateNode;Qx(l,e.type,s,n),l[xt]=n}catch(u){we(e,e.return,u)}}function xg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vi(e.type)||e.tag===4}function od(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cd(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Sn));else if(l!==4&&(l===27&&vi(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(cd(e,n,s),e=e.sibling;e!==null;)cd(e,n,s),e=e.sibling}function to(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&vi(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(to(e,n,s),e=e.sibling;e!==null;)to(e,n,s),e=e.sibling}function Sg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);ht(n,l,s),n[ot]=e,n[xt]=s}catch(d){we(e,e.return,d)}}var Dn=!1,Je=!1,ud=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Tx(e,n){if(e=e.containerInfo,kd=Eo,e=jm(e),iu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var y=0,v=-1,S=-1,N=0,I=0,z=e,O=null;t:for(;;){for(var k;z!==s||u!==0&&z.nodeType!==3||(v=y+u),z!==d||l!==0&&z.nodeType!==3||(S=y+l),z.nodeType===3&&(y+=z.nodeValue.length),(k=z.firstChild)!==null;)O=z,z=k;for(;;){if(z===e)break t;if(O===s&&++N===u&&(v=y),O===d&&++I===l&&(S=y),(k=z.nextSibling)!==null)break;z=O,O=z.parentNode}z=k}s=v===-1||S===-1?null:{start:v,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(Dd={focusedElem:e,selectionRange:s},Eo=!1,rt=n;rt!==null;)if(n=rt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,rt=e;else for(;rt!==null;){switch(n=rt,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)u=e[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,u=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var F=ir(s.type,u);e=l.getSnapshotBeforeUpdate(F,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(J){we(s,s.return,J)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)jd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,rt=e;break}rt=n.return}}function Cg(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:In(e,s),l&4&&na(5,s);break;case 1:if(In(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(y){we(s,s.return,y)}else{var u=ir(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){we(s,s.return,y)}}l&64&&_g(s),l&512&&ia(s,s.return);break;case 3:if(In(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{op(e,n)}catch(y){we(s,s.return,y)}}break;case 27:n===null&&l&4&&Sg(s);case 26:case 5:In(e,s),n===null&&l&4&&bg(s),l&512&&ia(s,s.return);break;case 12:In(e,s);break;case 31:In(e,s),l&4&&Ng(e,s);break;case 13:In(e,s),l&4&&Ag(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=jx.bind(null,s),tS(e,s))));break;case 22:if(l=s.memoizedState!==null||Dn,!l){n=n!==null&&n.memoizedState!==null||Je,u=Dn;var d=Je;Dn=l,(Je=n)&&!d?jn(e,s,(s.subtreeFlags&8772)!==0):In(e,s),Dn=u,Je=d}break;case 30:break;default:In(e,s)}}function wg(e){var n=e.alternate;n!==null&&(e.alternate=null,wg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Hc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,Et=!1;function Mn(e,n,s){for(s=s.child;s!==null;)Tg(e,n,s),s=s.sibling}function Tg(e,n,s){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Ns,s)}catch{}switch(s.tag){case 26:Je||pn(s,n),Mn(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Je||pn(s,n);var l=Pe,u=Et;vi(s.type)&&(Pe=s.stateNode,Et=!1),Mn(e,n,s),ha(s.stateNode),Pe=l,Et=u;break;case 5:Je||pn(s,n);case 6:if(l=Pe,u=Et,Pe=null,Mn(e,n,s),Pe=l,Et=u,Pe!==null)if(Et)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(s.stateNode)}catch(d){we(s,n,d)}else try{Pe.removeChild(s.stateNode)}catch(d){we(s,n,d)}break;case 18:Pe!==null&&(Et?(e=Pe,_y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ns(e)):_y(Pe,s.stateNode));break;case 4:l=Pe,u=Et,Pe=s.stateNode.containerInfo,Et=!0,Mn(e,n,s),Pe=l,Et=u;break;case 0:case 11:case 14:case 15:hi(2,s,n),Je||hi(4,s,n),Mn(e,n,s);break;case 1:Je||(pn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&vg(s,n,l)),Mn(e,n,s);break;case 21:Mn(e,n,s);break;case 22:Je=(l=Je)||s.memoizedState!==null,Mn(e,n,s),Je=l;break;default:Mn(e,n,s)}}function Ng(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ns(e)}catch(s){we(n,n.return,s)}}}function Ag(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ns(e)}catch(s){we(n,n.return,s)}}function Nx(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Eg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Eg),n;default:throw Error(a(435,e.tag))}}function no(e,n){var s=Nx(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var u=Lx.bind(null,e,l);l.then(u,u)}})}function Ct(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l],d=e,y=n,v=y;e:for(;v!==null;){switch(v.tag){case 27:if(vi(v.type)){Pe=v.stateNode,Et=!1;break e}break;case 5:Pe=v.stateNode,Et=!1;break e;case 3:case 4:Pe=v.stateNode.containerInfo,Et=!0;break e}v=v.return}if(Pe===null)throw Error(a(160));Tg(d,y,u),Pe=null,Et=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Rg(n,e),n=n.sibling}var tn=null;function Rg(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(n,e),wt(e),l&4&&(hi(3,e,e.return),na(3,e),hi(5,e,e.return));break;case 1:Ct(n,e),wt(e),l&512&&(Je||s===null||pn(s,s.return)),l&64&&Dn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var u=tn;if(Ct(n,e),wt(e),l&512&&(Je||s===null||pn(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":d=u.getElementsByTagName("title")[0],(!d||d[Os]||d[ot]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(l),u.head.insertBefore(d,u.querySelector("head > title"))),ht(d,l,s),d[ot]=e,it(d),l=d;break e;case"link":var y=Ry("link","href",u).get(l+(s.href||""));if(y){for(var v=0;v<y.length;v++)if(d=y[v],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(v,1);break t}}d=u.createElement(l),ht(d,l,s),u.head.appendChild(d);break;case"meta":if(y=Ry("meta","content",u).get(l+(s.content||""))){for(v=0;v<y.length;v++)if(d=y[v],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(v,1);break t}}d=u.createElement(l),ht(d,l,s),u.head.appendChild(d);break;default:throw Error(a(468,l))}d[ot]=e,it(d),l=d}e.stateNode=l}else Oy(u,e.type,e.stateNode);else e.stateNode=Ay(u,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Oy(u,e.type,e.stateNode):Ay(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ld(e,e.memoizedProps,s.memoizedProps)}break;case 27:Ct(n,e),wt(e),l&512&&(Je||s===null||pn(s,s.return)),s!==null&&l&4&&ld(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Ct(n,e),wt(e),l&512&&(Je||s===null||pn(s,s.return)),e.flags&32){u=e.stateNode;try{wr(u,"")}catch(F){we(e,e.return,F)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,ld(e,u,s!==null?s.memoizedProps:u)),l&1024&&(ud=!0);break;case 6:if(Ct(n,e),wt(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(F){we(e,e.return,F)}}break;case 3:if(vo=null,u=tn,tn=yo(n.containerInfo),Ct(n,e),tn=u,wt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ns(n.containerInfo)}catch(F){we(e,e.return,F)}ud&&(ud=!1,Og(e));break;case 4:l=tn,tn=yo(e.stateNode.containerInfo),Ct(n,e),wt(e),tn=l;break;case 12:Ct(n,e),wt(e);break;case 31:Ct(n,e),wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,no(e,l)));break;case 13:Ct(n,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ro=Dt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,no(e,l)));break;case 22:u=e.memoizedState!==null;var S=s!==null&&s.memoizedState!==null,N=Dn,I=Je;if(Dn=N||u,Je=I||S,Ct(n,e),Je=I,Dn=N,wt(e),l&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(s===null||S||Dn||Je||rr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){S=s=n;try{if(d=S.stateNode,u)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{v=S.stateNode;var z=S.memoizedProps.style,O=z!=null&&z.hasOwnProperty("display")?z.display:null;v.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(F){we(S,S.return,F)}}}else if(n.tag===6){if(s===null){S=n;try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(F){we(S,S.return,F)}}}else if(n.tag===18){if(s===null){S=n;try{var k=S.stateNode;u?vy(k,!0):vy(S.stateNode,!1)}catch(F){we(S,S.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,no(e,s))));break;case 19:Ct(n,e),wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,no(e,l)));break;case 30:break;case 21:break;default:Ct(n,e),wt(e)}}function wt(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(xg(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var u=s.stateNode,d=od(e);to(e,d,u);break;case 5:var y=s.stateNode;s.flags&32&&(wr(y,""),s.flags&=-33);var v=od(e);to(e,v,y);break;case 3:case 4:var S=s.stateNode.containerInfo,N=od(e);cd(e,N,S);break;default:throw Error(a(161))}}catch(I){we(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Og(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Og(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function In(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cg(e,n.alternate,n),n=n.sibling}function rr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:hi(4,n,n.return),rr(n);break;case 1:pn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&vg(n,n.return,s),rr(n);break;case 27:ha(n.stateNode);case 26:case 5:pn(n,n.return),rr(n);break;case 22:n.memoizedState===null&&rr(n);break;case 30:rr(n);break;default:rr(n)}e=e.sibling}}function jn(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=e,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:jn(u,d,s),na(4,d);break;case 1:if(jn(u,d,s),l=d,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(N){we(l,l.return,N)}if(l=d,u=l.updateQueue,u!==null){var v=l.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)lp(S[u],v)}catch(N){we(l,l.return,N)}}s&&y&64&&_g(d),ia(d,d.return);break;case 27:Sg(d);case 26:case 5:jn(u,d,s),s&&l===null&&y&4&&bg(d),ia(d,d.return);break;case 12:jn(u,d,s);break;case 31:jn(u,d,s),s&&y&4&&Ng(u,d);break;case 13:jn(u,d,s),s&&y&4&&Ag(u,d);break;case 22:d.memoizedState===null&&jn(u,d,s),ia(d,d.return);break;case 30:break;default:jn(u,d,s)}n=n.sibling}}function dd(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&qs(s))}function hd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qs(e))}function nn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kg(e,n,s,l),n=n.sibling}function kg(e,n,s,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:nn(e,n,s,l),u&2048&&na(9,n);break;case 1:nn(e,n,s,l);break;case 3:nn(e,n,s,l),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qs(e)));break;case 12:if(u&2048){nn(e,n,s,l),e=n.stateNode;try{var d=n.memoizedProps,y=d.id,v=d.onPostCommit;typeof v=="function"&&v(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){we(n,n.return,S)}}else nn(e,n,s,l);break;case 31:nn(e,n,s,l);break;case 13:nn(e,n,s,l);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?nn(e,n,s,l):ra(e,n):d._visibility&2?nn(e,n,s,l):(d._visibility|=2,Fr(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),u&2048&&dd(y,n);break;case 24:nn(e,n,s,l),u&2048&&hd(n.alternate,n);break;default:nn(e,n,s,l)}}function Fr(e,n,s,l,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,y=n,v=s,S=l,N=y.flags;switch(y.tag){case 0:case 11:case 15:Fr(d,y,v,S,u),na(8,y);break;case 23:break;case 22:var I=y.stateNode;y.memoizedState!==null?I._visibility&2?Fr(d,y,v,S,u):ra(d,y):(I._visibility|=2,Fr(d,y,v,S,u)),u&&N&2048&&dd(y.alternate,y);break;case 24:Fr(d,y,v,S,u),u&&N&2048&&hd(y.alternate,y);break;default:Fr(d,y,v,S,u)}n=n.sibling}}function ra(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,u=l.flags;switch(l.tag){case 22:ra(s,l),u&2048&&dd(l.alternate,l);break;case 24:ra(s,l),u&2048&&hd(l.alternate,l);break;default:ra(s,l)}n=n.sibling}}var sa=8192;function Yr(e,n,s){if(e.subtreeFlags&sa)for(e=e.child;e!==null;)Dg(e,n,s),e=e.sibling}function Dg(e,n,s){switch(e.tag){case 26:Yr(e,n,s),e.flags&sa&&e.memoizedState!==null&&fS(s,tn,e.memoizedState,e.memoizedProps);break;case 5:Yr(e,n,s);break;case 3:case 4:var l=tn;tn=yo(e.stateNode.containerInfo),Yr(e,n,s),tn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=sa,sa=16777216,Yr(e,n,s),sa=l):Yr(e,n,s));break;default:Yr(e,n,s)}}function Mg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function aa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];rt=l,jg(l,e)}Mg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ig(e),e=e.sibling}function Ig(e){switch(e.tag){case 0:case 11:case 15:aa(e),e.flags&2048&&hi(9,e,e.return);break;case 3:aa(e);break;case 12:aa(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,io(e)):aa(e);break;default:aa(e)}}function io(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];rt=l,jg(l,e)}Mg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:hi(8,n,n.return),io(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,io(n));break;default:io(n)}e=e.sibling}}function jg(e,n){for(;rt!==null;){var s=rt;switch(s.tag){case 0:case 11:case 15:hi(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qs(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,rt=l;else e:for(s=e;rt!==null;){l=rt;var u=l.sibling,d=l.return;if(wg(l),l===s){rt=null;break e}if(u!==null){u.return=d,rt=u;break e}rt=d}}}var Ax={getCacheForType:function(e){var n=ut(We),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return ut(We).controller.signal}},Rx=typeof WeakMap=="function"?WeakMap:Map,Se=0,Oe=null,ce=null,fe=0,Ce=0,Pt=null,fi=!1,Qr=!1,fd=!1,Ln=0,Ve=0,mi=0,sr=0,md=0,Ht=0,Kr=0,la=null,Tt=null,pd=!1,ro=0,Lg=0,so=1/0,ao=null,pi=null,et=0,gi=null,Wr=null,Un=0,gd=0,yd=null,Ug=null,oa=0,_d=null;function Bt(){return(Se&2)!==0&&fe!==0?fe&-fe:M.T!==null?Cd():$f()}function zg(){if(Ht===0)if((fe&536870912)===0||pe){var e=ml;ml<<=1,(ml&3932160)===0&&(ml=262144),Ht=e}else Ht=536870912;return e=Ut.current,e!==null&&(e.flags|=32),Ht}function Nt(e,n,s){(e===Oe&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(Xr(e,0),yi(e,fe,Ht,!1)),Rs(e,s),((Se&2)===0||e!==Oe)&&(e===Oe&&((Se&2)===0&&(sr|=s),Ve===4&&yi(e,fe,Ht,!1)),gn(e))}function Pg(e,n,s){if((Se&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||As(e,n),u=l?Dx(e,n):bd(e,n,!0),d=l;do{if(u===0){Qr&&!l&&yi(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!Ox(s)){u=bd(e,n,!1),d=!1;continue}if(u===2){if(d=n,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var v=e;u=la;var S=v.current.memoizedState.isDehydrated;if(S&&(Xr(v,y).flags|=256),y=bd(v,y,!1),y!==2){if(fd&&!S){v.errorRecoveryDisabledLanes|=d,sr|=d,u=4;break e}d=Tt,Tt=u,d!==null&&(Tt===null?Tt=d:Tt.push.apply(Tt,d))}u=y}if(d=!1,u!==2)continue}}if(u===1){Xr(e,0),yi(e,n,0,!0);break}e:{switch(l=e,d=u,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:yi(l,n,Ht,!fi);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(u=ro+300-Dt(),10<u)){if(yi(l,n,Ht,!fi),gl(l,0,!0)!==0)break e;Un=n,l.timeoutHandle=gy(Hg.bind(null,l,s,Tt,ao,pd,n,Ht,sr,Kr,fi,d,"Throttled",-0,0),u);break e}Hg(l,s,Tt,ao,pd,n,Ht,sr,Kr,fi,d,null,-0,0)}}break}while(!0);gn(e)}function Hg(e,n,s,l,u,d,y,v,S,N,I,z,O,k){if(e.timeoutHandle=-1,z=n.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sn},Dg(n,d,z);var F=(d&62914560)===d?ro-Dt():(d&4194048)===d?Lg-Dt():0;if(F=mS(z,F),F!==null){Un=d,e.cancelPendingCommit=F(Kg.bind(null,e,n,d,s,l,u,y,v,S,I,z,null,O,k)),yi(e,d,y,!N);return}}Kg(e,n,d,s,l,u,y,v,S)}function Ox(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var u=s[l],d=u.getSnapshot;u=u.value;try{if(!jt(d(),u))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function yi(e,n,s,l){n&=~md,n&=~sr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var u=n;0<u;){var d=31-It(u),y=1<<d;l[d]=-1,u&=~y}s!==0&&Xf(e,s,n)}function lo(){return(Se&6)===0?(ca(0),!1):!0}function vd(){if(ce!==null){if(Ce===0)var e=ce.return;else e=ce,Tn=Xi=null,ju(e),Hr=null,Fs=0,e=ce;for(;e!==null;)yg(e.alternate,e),e=e.return;ce=null}}function Xr(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Xx(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Un=0,vd(),Oe=e,ce=s=Cn(e.current,null),fe=n,Ce=0,Pt=null,fi=!1,Qr=As(e,n),fd=!1,Kr=Ht=md=sr=mi=Ve=0,Tt=la=null,pd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var u=31-It(l),d=1<<u;n|=e[u],l&=~d}return Ln=n,Al(),s}function Bg(e,n){re=null,M.H=$s,n===Pr||n===Ll?(n=ip(),Ce=3):n===Eu?(n=ip(),Ce=4):Ce=n===Zu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pt=n,ce===null&&(Ve=1,Xl(e,Yt(n,e.current)))}function Vg(){var e=Ut.current;return e===null?!0:(fe&4194048)===fe?Xt===null:(fe&62914560)===fe||(fe&536870912)!==0?e===Xt:!1}function qg(){var e=M.H;return M.H=$s,e===null?$s:e}function Gg(){var e=M.A;return M.A=Ax,e}function oo(){Ve=4,fi||(fe&4194048)!==fe&&Ut.current!==null||(Qr=!0),(mi&134217727)===0&&(sr&134217727)===0||Oe===null||yi(Oe,fe,Ht,!1)}function bd(e,n,s){var l=Se;Se|=2;var u=qg(),d=Gg();(Oe!==e||fe!==n)&&(ao=null,Xr(e,n)),n=!1;var y=Ve;e:do try{if(Ce!==0&&ce!==null){var v=ce,S=Pt;switch(Ce){case 8:vd(),y=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(n=!0);var N=Ce;if(Ce=0,Pt=null,Zr(e,v,S,N),s&&Qr){y=0;break e}break;default:N=Ce,Ce=0,Pt=null,Zr(e,v,S,N)}}kx(),y=Ve;break}catch(I){Bg(e,I)}while(!0);return n&&e.shellSuspendCounter++,Tn=Xi=null,Se=l,M.H=u,M.A=d,ce===null&&(Oe=null,fe=0,Al()),y}function kx(){for(;ce!==null;)Fg(ce)}function Dx(e,n){var s=Se;Se|=2;var l=qg(),u=Gg();Oe!==e||fe!==n?(ao=null,so=Dt()+500,Xr(e,n)):Qr=As(e,n);e:do try{if(Ce!==0&&ce!==null){n=ce;var d=Pt;t:switch(Ce){case 1:Ce=0,Pt=null,Zr(e,n,d,1);break;case 2:case 9:if(tp(d)){Ce=0,Pt=null,Yg(n);break}n=function(){Ce!==2&&Ce!==9||Oe!==e||(Ce=7),gn(e)},d.then(n,n);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:tp(d)?(Ce=0,Pt=null,Yg(n)):(Ce=0,Pt=null,Zr(e,n,d,7));break;case 5:var y=null;switch(ce.tag){case 26:y=ce.memoizedState;case 5:case 27:var v=ce;if(y?ky(y):v.stateNode.complete){Ce=0,Pt=null;var S=v.sibling;if(S!==null)ce=S;else{var N=v.return;N!==null?(ce=N,co(N)):ce=null}break t}}Ce=0,Pt=null,Zr(e,n,d,5);break;case 6:Ce=0,Pt=null,Zr(e,n,d,6);break;case 8:vd(),Ve=6;break e;default:throw Error(a(462))}}Mx();break}catch(I){Bg(e,I)}while(!0);return Tn=Xi=null,M.H=l,M.A=u,Se=s,ce!==null?0:(Oe=null,fe=0,Al(),Ve)}function Mx(){for(;ce!==null&&!n1();)Fg(ce)}function Fg(e){var n=pg(e.alternate,e,Ln);e.memoizedProps=e.pendingProps,n===null?co(e):ce=n}function Yg(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=cg(s,n,n.pendingProps,n.type,void 0,fe);break;case 11:n=cg(s,n,n.pendingProps,n.type.render,n.ref,fe);break;case 5:ju(n);default:yg(s,n),n=ce=Gm(n,Ln),n=pg(s,n,Ln)}e.memoizedProps=e.pendingProps,n===null?co(e):ce=n}function Zr(e,n,s,l){Tn=Xi=null,ju(n),Hr=null,Fs=0;var u=n.return;try{if(xx(e,u,n,s,fe)){Ve=1,Xl(e,Yt(s,e.current)),ce=null;return}}catch(d){if(u!==null)throw ce=u,d;Ve=1,Xl(e,Yt(s,e.current)),ce=null;return}n.flags&32768?(pe||l===1?e=!0:Qr||(fe&536870912)!==0?e=!1:(fi=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ut.current,l!==null&&l.tag===13&&(l.flags|=16384))),Qg(n,e)):co(n)}function co(e){var n=e;do{if((n.flags&32768)!==0){Qg(n,fi);return}e=n.return;var s=Cx(n.alternate,n,Ln);if(s!==null){ce=s;return}if(n=n.sibling,n!==null){ce=n;return}ce=n=e}while(n!==null);Ve===0&&(Ve=5)}function Qg(e,n){do{var s=wx(e.alternate,e);if(s!==null){s.flags&=32767,ce=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){ce=e;return}ce=e=s}while(e!==null);Ve=6,ce=null}function Kg(e,n,s,l,u,d,y,v,S){e.cancelPendingCommit=null;do uo();while(et!==0);if((Se&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=ou,h1(e,s,d,y,v,S),e===Oe&&(ce=Oe=null,fe=0),Wr=n,gi=e,Un=s,gd=d,yd=u,Ug=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ux(hl,function(){return $g(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,u=q.p,q.p=2,y=Se,Se|=4;try{Tx(e,n,s)}finally{Se=y,q.p=u,M.T=l}}et=1,Wg(),Xg(),Zg()}}function Wg(){if(et===1){et=0;var e=gi,n=Wr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=M.T,M.T=null;var l=q.p;q.p=2;var u=Se;Se|=4;try{Rg(n,e);var d=Dd,y=jm(e.containerInfo),v=d.focusedElem,S=d.selectionRange;if(y!==v&&v&&v.ownerDocument&&Im(v.ownerDocument.documentElement,v)){if(S!==null&&iu(v)){var N=S.start,I=S.end;if(I===void 0&&(I=N),"selectionStart"in v)v.selectionStart=N,v.selectionEnd=Math.min(I,v.value.length);else{var z=v.ownerDocument||document,O=z&&z.defaultView||window;if(O.getSelection){var k=O.getSelection(),F=v.textContent.length,J=Math.min(S.start,F),Ae=S.end===void 0?J:Math.min(S.end,F);!k.extend&&J>Ae&&(y=Ae,Ae=J,J=y);var w=Mm(v,J),E=Mm(v,Ae);if(w&&E&&(k.rangeCount!==1||k.anchorNode!==w.node||k.anchorOffset!==w.offset||k.focusNode!==E.node||k.focusOffset!==E.offset)){var T=z.createRange();T.setStart(w.node,w.offset),k.removeAllRanges(),J>Ae?(k.addRange(T),k.extend(E.node,E.offset)):(T.setEnd(E.node,E.offset),k.addRange(T))}}}}for(z=[],k=v;k=k.parentNode;)k.nodeType===1&&z.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<z.length;v++){var L=z[v];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Eo=!!kd,Dd=kd=null}finally{Se=u,q.p=l,M.T=s}}e.current=n,et=2}}function Xg(){if(et===2){et=0;var e=gi,n=Wr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=M.T,M.T=null;var l=q.p;q.p=2;var u=Se;Se|=4;try{Cg(e,n.alternate,n)}finally{Se=u,q.p=l,M.T=s}}et=3}}function Zg(){if(et===4||et===3){et=0,i1();var e=gi,n=Wr,s=Un,l=Ug;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?et=5:(et=0,Wr=gi=null,Jg(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(pi=null),zc(s),n=n.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Ns,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=M.T,u=q.p,q.p=2,M.T=null;try{for(var d=e.onRecoverableError,y=0;y<l.length;y++){var v=l[y];d(v.value,{componentStack:v.stack})}}finally{M.T=n,q.p=u}}(Un&3)!==0&&uo(),gn(e),u=e.pendingLanes,(s&261930)!==0&&(u&42)!==0?e===_d?oa++:(oa=0,_d=e):oa=0,ca(0)}}function Jg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qs(n)))}function uo(){return Wg(),Xg(),Zg(),$g()}function $g(){if(et!==5)return!1;var e=gi,n=gd;gd=0;var s=zc(Un),l=M.T,u=q.p;try{q.p=32>s?32:s,M.T=null,s=yd,yd=null;var d=gi,y=Un;if(et=0,Wr=gi=null,Un=0,(Se&6)!==0)throw Error(a(331));var v=Se;if(Se|=4,Ig(d.current),kg(d,d.current,y,s),Se=v,ca(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Ns,d)}catch{}return!0}finally{q.p=u,M.T=l,Jg(e,n)}}function ey(e,n,s){n=Yt(s,n),n=Xu(e.stateNode,n,2),e=ci(e,n,2),e!==null&&(Rs(e,2),gn(e))}function we(e,n,s){if(e.tag===3)ey(e,e,s);else for(;n!==null;){if(n.tag===3){ey(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pi===null||!pi.has(l))){e=Yt(s,e),s=tg(2),l=ci(n,s,2),l!==null&&(ng(s,l,n,e),Rs(l,2),gn(l));break}}n=n.return}}function xd(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Rx;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(fd=!0,u.add(s),e=Ix.bind(null,e,n,s),n.then(e,e))}function Ix(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Oe===e&&(fe&s)===s&&(Ve===4||Ve===3&&(fe&62914560)===fe&&300>Dt()-ro?(Se&2)===0&&Xr(e,0):md|=s,Kr===fe&&(Kr=0)),gn(e)}function ty(e,n){n===0&&(n=Wf()),e=Qi(e,n),e!==null&&(Rs(e,n),gn(e))}function jx(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),ty(e,s)}function Lx(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),ty(e,s)}function Ux(e,n){return Ic(e,n)}var ho=null,Jr=null,Sd=!1,fo=!1,Ed=!1,_i=0;function gn(e){e!==Jr&&e.next===null&&(Jr===null?ho=Jr=e:Jr=Jr.next=e),fo=!0,Sd||(Sd=!0,Px())}function ca(e,n){if(!Ed&&fo){Ed=!0;do for(var s=!1,l=ho;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var d=0;else{var y=l.suspendedLanes,v=l.pingedLanes;d=(1<<31-It(42|e)+1)-1,d&=u&~(y&~v),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,sy(l,d))}else d=fe,d=gl(l,l===Oe?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||As(l,d)||(s=!0,sy(l,d));l=l.next}while(s);Ed=!1}}function zx(){ny()}function ny(){fo=Sd=!1;var e=0;_i!==0&&Wx()&&(e=_i);for(var n=Dt(),s=null,l=ho;l!==null;){var u=l.next,d=iy(l,n);d===0?(l.next=null,s===null?ho=u:s.next=u,u===null&&(Jr=s)):(s=l,(e!==0||(d&3)!==0)&&(fo=!0)),l=u}et!==0&&et!==5||ca(e),_i!==0&&(_i=0)}function iy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-It(d),v=1<<y,S=u[y];S===-1?((v&s)===0||(v&l)!==0)&&(u[y]=d1(v,n)):S<=n&&(e.expiredLanes|=v),d&=~v}if(n=Oe,s=fe,s=gl(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&jc(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||As(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&jc(l),zc(s)){case 2:case 8:s=Qf;break;case 32:s=hl;break;case 268435456:s=Kf;break;default:s=hl}return l=ry.bind(null,e),s=Ic(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&jc(l),e.callbackPriority=2,e.callbackNode=null,2}function ry(e,n){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(uo()&&e.callbackNode!==s)return null;var l=fe;return l=gl(e,e===Oe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Pg(e,l,n),iy(e,Dt()),e.callbackNode!=null&&e.callbackNode===s?ry.bind(null,e):null)}function sy(e,n){if(uo())return null;Pg(e,n,!0)}function Px(){Zx(function(){(Se&6)!==0?Ic(Yf,zx):ny()})}function Cd(){if(_i===0){var e=Ur;e===0&&(e=fl,fl<<=1,(fl&261888)===0&&(fl=256)),_i=e}return _i}function ay(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:bl(""+e)}function ly(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function Hx(e,n,s,l,u){if(n==="submit"&&s&&s.stateNode===u){var d=ay((u[xt]||null).action),y=l.submitter;y&&(n=(n=y[xt]||null)?ay(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var v=new Cl("action","action",null,l,u);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_i!==0){var S=y?ly(u,y):new FormData(u);Gu(s,{pending:!0,data:S,method:u.method,action:d},null,S)}}else typeof d=="function"&&(v.preventDefault(),S=y?ly(u,y):new FormData(u),Gu(s,{pending:!0,data:S,method:u.method,action:d},d,S))},currentTarget:u}]})}}for(var wd=0;wd<lu.length;wd++){var Td=lu[wd],Bx=Td.toLowerCase(),Vx=Td[0].toUpperCase()+Td.slice(1);en(Bx,"on"+Vx)}en(zm,"onAnimationEnd"),en(Pm,"onAnimationIteration"),en(Hm,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(rx,"onTransitionRun"),en(sx,"onTransitionStart"),en(ax,"onTransitionCancel"),en(Bm,"onTransitionEnd"),Er("onMouseEnter",["mouseout","mouseover"]),Er("onMouseLeave",["mouseout","mouseover"]),Er("onPointerEnter",["pointerout","pointerover"]),Er("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ua));function oy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],u=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var y=l.length-1;0<=y;y--){var v=l[y],S=v.instance,N=v.currentTarget;if(v=v.listener,S!==d&&u.isPropagationStopped())break e;d=v,u.currentTarget=N;try{d(u)}catch(I){Nl(I)}u.currentTarget=null,d=S}else for(y=0;y<l.length;y++){if(v=l[y],S=v.instance,N=v.currentTarget,v=v.listener,S!==d&&u.isPropagationStopped())break e;d=v,u.currentTarget=N;try{d(u)}catch(I){Nl(I)}u.currentTarget=null,d=S}}}}function ue(e,n){var s=n[Pc];s===void 0&&(s=n[Pc]=new Set);var l=e+"__bubble";s.has(l)||(cy(n,e,2,!1),s.add(l))}function Nd(e,n,s){var l=0;n&&(l|=4),cy(s,e,l,n)}var mo="_reactListening"+Math.random().toString(36).slice(2);function Ad(e){if(!e[mo]){e[mo]=!0,nm.forEach(function(s){s!=="selectionchange"&&(qx.has(s)||Nd(s,!1,e),Nd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[mo]||(n[mo]=!0,Nd("selectionchange",!1,n))}}function cy(e,n,s,l){switch(zy(n)){case 2:var u=yS;break;case 8:u=_S;break;default:u=qd}s=u.bind(null,n,s,e),u=void 0,!Kc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function Rd(e,n,s,l,u){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var v=l.stateNode.containerInfo;if(v===u)break;if(y===4)for(y=l.return;y!==null;){var S=y.tag;if((S===3||S===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;v!==null;){if(y=br(v),y===null)return;if(S=y.tag,S===5||S===6||S===26||S===27){l=d=y;continue e}v=v.parentNode}}l=l.return}mm(function(){var N=d,I=Yc(s),z=[];e:{var O=Vm.get(e);if(O!==void 0){var k=Cl,F=e;switch(e){case"keypress":if(Sl(s)===0)break e;case"keydown":case"keyup":k=L1;break;case"focusin":F="focus",k=Jc;break;case"focusout":F="blur",k=Jc;break;case"beforeblur":case"afterblur":k=Jc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=C1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=P1;break;case zm:case Pm:case Hm:k=N1;break;case Bm:k=B1;break;case"scroll":case"scrollend":k=S1;break;case"wheel":k=q1;break;case"copy":case"cut":case"paste":k=R1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=vm;break;case"toggle":case"beforetoggle":k=F1}var J=(n&4)!==0,Ae=!J&&(e==="scroll"||e==="scrollend"),w=J?O!==null?O+"Capture":null:O;J=[];for(var E=N,T;E!==null;){var L=E;if(T=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||T===null||w===null||(L=Ds(E,w),L!=null&&J.push(da(E,L,T))),Ae)break;E=E.return}0<J.length&&(O=new k(O,F,null,s,I),z.push({event:O,listeners:J}))}}if((n&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",O&&s!==Fc&&(F=s.relatedTarget||s.fromElement)&&(br(F)||F[vr]))break e;if((k||O)&&(O=I.window===I?I:(O=I.ownerDocument)?O.defaultView||O.parentWindow:window,k?(F=s.relatedTarget||s.toElement,k=N,F=F?br(F):null,F!==null&&(Ae=c(F),J=F.tag,F!==Ae||J!==5&&J!==27&&J!==6)&&(F=null)):(k=null,F=N),k!==F)){if(J=ym,L="onMouseLeave",w="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(J=vm,L="onPointerLeave",w="onPointerEnter",E="pointer"),Ae=k==null?O:ks(k),T=F==null?O:ks(F),O=new J(L,E+"leave",k,s,I),O.target=Ae,O.relatedTarget=T,L=null,br(I)===N&&(J=new J(w,E+"enter",F,s,I),J.target=T,J.relatedTarget=Ae,L=J),Ae=L,k&&F)t:{for(J=Gx,w=k,E=F,T=0,L=w;L;L=J(L))T++;L=0;for(var X=E;X;X=J(X))L++;for(;0<T-L;)w=J(w),T--;for(;0<L-T;)E=J(E),L--;for(;T--;){if(w===E||E!==null&&w===E.alternate){J=w;break t}w=J(w),E=J(E)}J=null}else J=null;k!==null&&uy(z,O,k,J,!1),F!==null&&Ae!==null&&uy(z,Ae,F,J,!0)}}e:{if(O=N?ks(N):window,k=O.nodeName&&O.nodeName.toLowerCase(),k==="select"||k==="input"&&O.type==="file")var ye=Nm;else if(wm(O))if(Am)ye=tx;else{ye=$1;var Q=J1}else k=O.nodeName,!k||k.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?N&&Gc(N.elementType)&&(ye=Nm):ye=ex;if(ye&&(ye=ye(e,N))){Tm(z,ye,s,I);break e}Q&&Q(e,O,N),e==="focusout"&&N&&O.type==="number"&&N.memoizedProps.value!=null&&qc(O,"number",O.value)}switch(Q=N?ks(N):window,e){case"focusin":(wm(Q)||Q.contentEditable==="true")&&(Rr=Q,ru=N,Hs=null);break;case"focusout":Hs=ru=Rr=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,Lm(z,s,I);break;case"selectionchange":if(ix)break;case"keydown":case"keyup":Lm(z,s,I)}var se;if(eu)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Ar?Em(e,s)&&(me="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(me="onCompositionStart");me&&(bm&&s.locale!=="ko"&&(Ar||me!=="onCompositionStart"?me==="onCompositionEnd"&&Ar&&(se=pm()):(ni=I,Wc="value"in ni?ni.value:ni.textContent,Ar=!0)),Q=po(N,me),0<Q.length&&(me=new _m(me,e,null,s,I),z.push({event:me,listeners:Q}),se?me.data=se:(se=Cm(s),se!==null&&(me.data=se)))),(se=Q1?K1(e,s):W1(e,s))&&(me=po(N,"onBeforeInput"),0<me.length&&(Q=new _m("onBeforeInput","beforeinput",null,s,I),z.push({event:Q,listeners:me}),Q.data=se)),Hx(z,e,N,s,I)}oy(z,n)})}function da(e,n,s){return{instance:e,listener:n,currentTarget:s}}function po(e,n){for(var s=n+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=Ds(e,s),u!=null&&l.unshift(da(e,u,d)),u=Ds(e,n),u!=null&&l.push(da(e,u,d))),e.tag===3)return l;e=e.return}return[]}function Gx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function uy(e,n,s,l,u){for(var d=n._reactName,y=[];s!==null&&s!==l;){var v=s,S=v.alternate,N=v.stateNode;if(v=v.tag,S!==null&&S===l)break;v!==5&&v!==26&&v!==27||N===null||(S=N,u?(N=Ds(s,d),N!=null&&y.unshift(da(s,N,S))):u||(N=Ds(s,d),N!=null&&y.push(da(s,N,S)))),s=s.return}y.length!==0&&e.push({event:n,listeners:y})}var Fx=/\r\n?/g,Yx=/\u0000|\uFFFD/g;function dy(e){return(typeof e=="string"?e:""+e).replace(Fx,`
`).replace(Yx,"")}function hy(e,n){return n=dy(n),dy(e)===n}function Ne(e,n,s,l,u,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||wr(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&wr(e,""+l);break;case"className":_l(e,"class",l);break;case"tabIndex":_l(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_l(e,s,l);break;case"style":hm(e,l,d);break;case"data":if(n!=="object"){_l(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=bl(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&Ne(e,n,"name",u.name,u,null),Ne(e,n,"formEncType",u.formEncType,u,null),Ne(e,n,"formMethod",u.formMethod,u,null),Ne(e,n,"formTarget",u.formTarget,u,null)):(Ne(e,n,"encType",u.encType,u,null),Ne(e,n,"method",u.method,u,null),Ne(e,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=bl(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Sn);break;case"onScroll":l!=null&&ue("scroll",e);break;case"onScrollEnd":l!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=bl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":ue("beforetoggle",e),ue("toggle",e),yl(e,"popover",l);break;case"xlinkActuate":xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=b1.get(s)||s,yl(e,s,l))}}function Od(e,n,s,l,u,d){switch(s){case"style":hm(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?wr(e,l):(typeof l=="number"||typeof l=="bigint")&&wr(e,""+l);break;case"onScroll":l!=null&&ue("scroll",e);break;case"onScrollEnd":l!=null&&ue("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!im.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),n=s.slice(2,u?s.length-7:void 0),d=e[xt]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,u),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,u);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):yl(e,s,l)}}}function ht(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var l=!1,u=!1,d;for(d in s)if(s.hasOwnProperty(d)){var y=s[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ne(e,n,d,y,s,null)}}u&&Ne(e,n,"srcSet",s.srcSet,s,null),l&&Ne(e,n,"src",s.src,s,null);return;case"input":ue("invalid",e);var v=d=y=u=null,S=null,N=null;for(l in s)if(s.hasOwnProperty(l)){var I=s[l];if(I!=null)switch(l){case"name":u=I;break;case"type":y=I;break;case"checked":S=I;break;case"defaultChecked":N=I;break;case"value":d=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:Ne(e,n,l,I,s,null)}}om(e,d,v,S,N,y,u,!1);return;case"select":ue("invalid",e),l=y=d=null;for(u in s)if(s.hasOwnProperty(u)&&(v=s[u],v!=null))switch(u){case"value":d=v;break;case"defaultValue":y=v;break;case"multiple":l=v;default:Ne(e,n,u,v,s,null)}n=d,s=y,e.multiple=!!l,n!=null?Cr(e,!!l,n,!1):s!=null&&Cr(e,!!l,s,!0);return;case"textarea":ue("invalid",e),d=u=l=null;for(y in s)if(s.hasOwnProperty(y)&&(v=s[y],v!=null))switch(y){case"value":l=v;break;case"defaultValue":u=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:Ne(e,n,y,v,s,null)}um(e,l,u,d);return;case"option":for(S in s)if(s.hasOwnProperty(S)&&(l=s[S],l!=null))switch(S){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ne(e,n,S,l,s,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(l=0;l<ua.length;l++)ue(ua[l],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ne(e,n,N,l,s,null)}return;default:if(Gc(n)){for(I in s)s.hasOwnProperty(I)&&(l=s[I],l!==void 0&&Od(e,n,I,l,s,void 0));return}}for(v in s)s.hasOwnProperty(v)&&(l=s[v],l!=null&&Ne(e,n,v,l,s,null))}function Qx(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,y=null,v=null,S=null,N=null,I=null;for(k in s){var z=s[k];if(s.hasOwnProperty(k)&&z!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":S=z;default:l.hasOwnProperty(k)||Ne(e,n,k,null,l,z)}}for(var O in l){var k=l[O];if(z=s[O],l.hasOwnProperty(O)&&(k!=null||z!=null))switch(O){case"type":d=k;break;case"name":u=k;break;case"checked":N=k;break;case"defaultChecked":I=k;break;case"value":y=k;break;case"defaultValue":v=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==z&&Ne(e,n,O,k,l,z)}}Vc(e,y,v,S,N,I,d,u);return;case"select":k=y=v=O=null;for(d in s)if(S=s[d],s.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":k=S;default:l.hasOwnProperty(d)||Ne(e,n,d,null,l,S)}for(u in l)if(d=l[u],S=s[u],l.hasOwnProperty(u)&&(d!=null||S!=null))switch(u){case"value":O=d;break;case"defaultValue":v=d;break;case"multiple":y=d;default:d!==S&&Ne(e,n,u,d,l,S)}n=v,s=y,l=k,O!=null?Cr(e,!!s,O,!1):!!l!=!!s&&(n!=null?Cr(e,!!s,n,!0):Cr(e,!!s,s?[]:"",!1));return;case"textarea":k=O=null;for(v in s)if(u=s[v],s.hasOwnProperty(v)&&u!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ne(e,n,v,null,l,u)}for(y in l)if(u=l[y],d=s[y],l.hasOwnProperty(y)&&(u!=null||d!=null))switch(y){case"value":O=u;break;case"defaultValue":k=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==d&&Ne(e,n,y,u,l,d)}cm(e,O,k);return;case"option":for(var F in s)if(O=s[F],s.hasOwnProperty(F)&&O!=null&&!l.hasOwnProperty(F))switch(F){case"selected":e.selected=!1;break;default:Ne(e,n,F,null,l,O)}for(S in l)if(O=l[S],k=s[S],l.hasOwnProperty(S)&&O!==k&&(O!=null||k!=null))switch(S){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Ne(e,n,S,O,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J in s)O=s[J],s.hasOwnProperty(J)&&O!=null&&!l.hasOwnProperty(J)&&Ne(e,n,J,null,l,O);for(N in l)if(O=l[N],k=s[N],l.hasOwnProperty(N)&&O!==k&&(O!=null||k!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,n));break;default:Ne(e,n,N,O,l,k)}return;default:if(Gc(n)){for(var Ae in s)O=s[Ae],s.hasOwnProperty(Ae)&&O!==void 0&&!l.hasOwnProperty(Ae)&&Od(e,n,Ae,void 0,l,O);for(I in l)O=l[I],k=s[I],!l.hasOwnProperty(I)||O===k||O===void 0&&k===void 0||Od(e,n,I,O,l,k);return}}for(var w in s)O=s[w],s.hasOwnProperty(w)&&O!=null&&!l.hasOwnProperty(w)&&Ne(e,n,w,null,l,O);for(z in l)O=l[z],k=s[z],!l.hasOwnProperty(z)||O===k||O==null&&k==null||Ne(e,n,z,O,l,k)}function fy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var u=s[l],d=u.transferSize,y=u.initiatorType,v=u.duration;if(d&&v&&fy(y)){for(y=0,v=u.responseEnd,l+=1;l<s.length;l++){var S=s[l],N=S.startTime;if(N>v)break;var I=S.transferSize,z=S.initiatorType;I&&fy(z)&&(S=S.responseEnd,y+=I*(S<v?1:(v-N)/(S-N)))}if(--l,n+=8*(d+y)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var kd=null,Dd=null;function go(e){return e.nodeType===9?e:e.ownerDocument}function my(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function py(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Md(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Id=null;function Wx(){var e=window.event;return e&&e.type==="popstate"?e===Id?!1:(Id=e,!0):(Id=null,!1)}var gy=typeof setTimeout=="function"?setTimeout:void 0,Xx=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,Zx=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(e){return yy.resolve(null).then(e).catch(Jx)}:gy;function Jx(e){setTimeout(function(){throw e})}function vi(e){return e==="head"}function _y(e,n){var s=n,l=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(u),ns(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ha(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ha(s);for(var d=s.firstChild;d;){var y=d.nextSibling,v=d.nodeName;d[Os]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=y}}else s==="body"&&ha(e.ownerDocument.body);s=u}while(s);ns(n)}function vy(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function jd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":jd(s),Hc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function $x(e,n,s,l){for(;e.nodeType===1;){var u=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Os])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function eS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Zt(e.nextSibling),e===null))return null;return e}function by(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Zt(e.nextSibling),e===null))return null;return e}function Ld(e){return e.data==="$?"||e.data==="$~"}function Ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Zt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var zd=null;function xy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Zt(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Sy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Ey(e,n,s){switch(n=go(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ha(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Hc(e)}var Jt=new Map,Cy=new Set;function yo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zn=q.d;q.d={f:nS,r:iS,D:rS,C:sS,L:aS,m:lS,X:cS,S:oS,M:uS};function nS(){var e=zn.f(),n=lo();return e||n}function iS(e){var n=xr(e);n!==null&&n.tag===5&&n.type==="form"?Bp(n):zn.r(e)}var $r=typeof document>"u"?null:document;function wy(e,n,s){var l=$r;if(l&&typeof n=="string"&&n){var u=Gt(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),Cy.has(u)||(Cy.add(u),e={rel:e,crossOrigin:s,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),ht(n,"link",e),it(n),l.head.appendChild(n)))}}function rS(e){zn.D(e),wy("dns-prefetch",e,null)}function sS(e,n){zn.C(e,n),wy("preconnect",e,n)}function aS(e,n,s){zn.L(e,n,s);var l=$r;if(l&&e&&n){var u='link[rel="preload"][as="'+Gt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+Gt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+Gt(s.imageSizes)+'"]')):u+='[href="'+Gt(e)+'"]';var d=u;switch(n){case"style":d=es(e);break;case"script":d=ts(e)}Jt.has(d)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Jt.set(d,e),l.querySelector(u)!==null||n==="style"&&l.querySelector(fa(d))||n==="script"&&l.querySelector(ma(d))||(n=l.createElement("link"),ht(n,"link",e),it(n),l.head.appendChild(n)))}}function lS(e,n){zn.m(e,n);var s=$r;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Gt(l)+'"][href="'+Gt(e)+'"]',d=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ts(e)}if(!Jt.has(d)&&(e=b({rel:"modulepreload",href:e},n),Jt.set(d,e),s.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ma(d)))return}l=s.createElement("link"),ht(l,"link",e),it(l),s.head.appendChild(l)}}}function oS(e,n,s){zn.S(e,n,s);var l=$r;if(l&&e){var u=Sr(l).hoistableStyles,d=es(e);n=n||"default";var y=u.get(d);if(!y){var v={loading:0,preload:null};if(y=l.querySelector(fa(d)))v.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Jt.get(d))&&Pd(e,s);var S=y=l.createElement("link");it(S),ht(S,"link",e),S._p=new Promise(function(N,I){S.onload=N,S.onerror=I}),S.addEventListener("load",function(){v.loading|=1}),S.addEventListener("error",function(){v.loading|=2}),v.loading|=4,_o(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:v},u.set(d,y)}}}function cS(e,n){zn.X(e,n);var s=$r;if(s&&e){var l=Sr(s).hoistableScripts,u=ts(e),d=l.get(u);d||(d=s.querySelector(ma(u)),d||(e=b({src:e,async:!0},n),(n=Jt.get(u))&&Hd(e,n),d=s.createElement("script"),it(d),ht(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(u,d))}}function uS(e,n){zn.M(e,n);var s=$r;if(s&&e){var l=Sr(s).hoistableScripts,u=ts(e),d=l.get(u);d||(d=s.querySelector(ma(u)),d||(e=b({src:e,async:!0,type:"module"},n),(n=Jt.get(u))&&Hd(e,n),d=s.createElement("script"),it(d),ht(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(u,d))}}function Ty(e,n,s,l){var u=(u=oe.current)?yo(u):null;if(!u)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=es(s.href),s=Sr(u).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=es(s.href);var d=Sr(u).hoistableStyles,y=d.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=u.querySelector(fa(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Jt.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Jt.set(e,s),d||dS(u,e,s,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ts(s),s=Sr(u).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function es(e){return'href="'+Gt(e)+'"'}function fa(e){return'link[rel="stylesheet"]['+e+"]"}function Ny(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function dS(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ht(n,"link",s),it(n),e.head.appendChild(n))}function ts(e){return'[src="'+Gt(e)+'"]'}function ma(e){return"script[async]"+e}function Ay(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Gt(s.href)+'"]');if(l)return n.instance=l,it(l),l;var u=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),it(l),ht(l,"style",u),_o(l,s.precedence,e),n.instance=l;case"stylesheet":u=es(s.href);var d=e.querySelector(fa(u));if(d)return n.state.loading|=4,n.instance=d,it(d),d;l=Ny(s),(u=Jt.get(u))&&Pd(l,u),d=(e.ownerDocument||e).createElement("link"),it(d);var y=d;return y._p=new Promise(function(v,S){y.onload=v,y.onerror=S}),ht(d,"link",l),n.state.loading|=4,_o(d,s.precedence,e),n.instance=d;case"script":return d=ts(s.src),(u=e.querySelector(ma(d)))?(n.instance=u,it(u),u):(l=s,(u=Jt.get(d))&&(l=b({},s),Hd(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),it(u),ht(u,"link",l),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,_o(l,s.precedence,e));return n.instance}function _o(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,d=u,y=0;y<l.length;y++){var v=l[y];if(v.dataset.precedence===n)d=v;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vo=null;function Ry(e,n,s){if(vo===null){var l=new Map,u=vo=new Map;u.set(s,l)}else u=vo,l=u.get(s),l||(l=new Map,u.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),u=0;u<s.length;u++){var d=s[u];if(!(d[Os]||d[ot]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=e+y;var v=l.get(y);v?v.push(d):l.set(y,[d])}}return l}function Oy(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function hS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ky(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fS(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=es(l.href),d=n.querySelector(fa(u));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=bo.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=d,it(d);return}d=n.ownerDocument||n,l=Ny(l),(u=Jt.get(u))&&Pd(l,u),d=d.createElement("link"),it(d);var y=d;y._p=new Promise(function(v,S){y.onload=v,y.onerror=S}),ht(d,"link",l),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=bo.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Bd=0;function mS(e,n){return e.stylesheets&&e.count===0&&So(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&So(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&Bd===0&&(Bd=62500*Kx());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&So(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Bd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function bo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)So(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xo=null;function So(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xo=new Map,n.forEach(pS,e),xo=null,bo.call(e))}function pS(e,n){if(!(n.state.loading&4)){var s=xo.get(e);if(s)var l=s.get(null);else{s=new Map,xo.set(e,s);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var y=u[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}u=n.instance,y=u.getAttribute("data-precedence"),d=s.get(y)||l,d===l&&s.set(null,u),s.set(y,u),this.count++,l=bo.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var pa={$$typeof:W,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function gS(e,n,s,l,u,d,y,v,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lc(0),this.hiddenUpdates=Lc(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Dy(e,n,s,l,u,d,y,v,S,N,I,z){return e=new gS(e,n,s,y,S,N,I,z,v),n=1,d===!0&&(n|=24),d=Lt(3,null,null,n),e.current=d,d.stateNode=e,n=bu(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},Cu(d),e}function My(e){return e?(e=Dr,e):Dr}function Iy(e,n,s,l,u,d){u=My(u),l.context===null?l.context=u:l.pendingContext=u,l=oi(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=ci(e,l,n),s!==null&&(Nt(s,e,n),Qs(s,e,n))}function jy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Vd(e,n){jy(e,n),(e=e.alternate)&&jy(e,n)}function Ly(e){if(e.tag===13||e.tag===31){var n=Qi(e,67108864);n!==null&&Nt(n,e,67108864),Vd(e,67108864)}}function Uy(e){if(e.tag===13||e.tag===31){var n=Bt();n=Uc(n);var s=Qi(e,n);s!==null&&Nt(s,e,n),Vd(e,n)}}var Eo=!0;function yS(e,n,s,l){var u=M.T;M.T=null;var d=q.p;try{q.p=2,qd(e,n,s,l)}finally{q.p=d,M.T=u}}function _S(e,n,s,l){var u=M.T;M.T=null;var d=q.p;try{q.p=8,qd(e,n,s,l)}finally{q.p=d,M.T=u}}function qd(e,n,s,l){if(Eo){var u=Gd(l);if(u===null)Rd(e,n,l,Co,s),Py(e,l);else if(bS(u,e,n,s,l))l.stopPropagation();else if(Py(e,l),n&4&&-1<vS.indexOf(e)){for(;u!==null;){var d=xr(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=Vi(d.pendingLanes);if(y!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;y;){var S=1<<31-It(y);v.entanglements[1]|=S,y&=~S}gn(d),(Se&6)===0&&(so=Dt()+500,ca(0))}}break;case 31:case 13:v=Qi(d,2),v!==null&&Nt(v,d,2),lo(),Vd(d,2)}if(d=Gd(l),d===null&&Rd(e,n,l,Co,s),d===u)break;u=d}u!==null&&l.stopPropagation()}else Rd(e,n,l,null,s)}}function Gd(e){return e=Yc(e),Fd(e)}var Co=null;function Fd(e){if(Co=null,e=br(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===31){if(e=m(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Co=e,null}function zy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(r1()){case Yf:return 2;case Qf:return 8;case hl:case s1:return 32;case Kf:return 268435456;default:return 32}default:return 32}}var Yd=!1,bi=null,xi=null,Si=null,ga=new Map,ya=new Map,Ei=[],vS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Py(e,n){switch(e){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":ga.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ya.delete(n.pointerId)}}function _a(e,n,s,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},n!==null&&(n=xr(n),n!==null&&Ly(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function bS(e,n,s,l,u){switch(n){case"focusin":return bi=_a(bi,e,n,s,l,u),!0;case"dragenter":return xi=_a(xi,e,n,s,l,u),!0;case"mouseover":return Si=_a(Si,e,n,s,l,u),!0;case"pointerover":var d=u.pointerId;return ga.set(d,_a(ga.get(d)||null,e,n,s,l,u)),!0;case"gotpointercapture":return d=u.pointerId,ya.set(d,_a(ya.get(d)||null,e,n,s,l,u)),!0}return!1}function Hy(e){var n=br(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,em(e.priority,function(){Uy(s)});return}}else if(n===31){if(n=m(s),n!==null){e.blockedOn=n,em(e.priority,function(){Uy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Gd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Fc=l,s.target.dispatchEvent(l),Fc=null}else return n=xr(s),n!==null&&Ly(n),e.blockedOn=s,!1;n.shift()}return!0}function By(e,n,s){wo(e)&&s.delete(n)}function xS(){Yd=!1,bi!==null&&wo(bi)&&(bi=null),xi!==null&&wo(xi)&&(xi=null),Si!==null&&wo(Si)&&(Si=null),ga.forEach(By),ya.forEach(By)}function To(e,n){e.blockedOn===n&&(e.blockedOn=null,Yd||(Yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xS)))}var No=null;function Vy(e){No!==e&&(No=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){No===e&&(No=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],u=e[n+2];if(typeof l!="function"){if(Fd(l||s)===null)continue;break}var d=xr(s);d!==null&&(e.splice(n,3),n-=3,Gu(d,{pending:!0,data:u,method:s.method,action:l},l,u))}}))}function ns(e){function n(S){return To(S,e)}bi!==null&&To(bi,e),xi!==null&&To(xi,e),Si!==null&&To(Si,e),ga.forEach(n),ya.forEach(n);for(var s=0;s<Ei.length;s++){var l=Ei[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ei.length&&(s=Ei[0],s.blockedOn===null);)Hy(s),s.blockedOn===null&&Ei.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var u=s[l],d=s[l+1],y=u[xt]||null;if(typeof d=="function")y||Vy(s);else if(y){var v=null;if(d&&d.hasAttribute("formAction")){if(u=d,y=d[xt]||null)v=y.formAction;else if(Fd(u)!==null)continue}else v=y.action;typeof v=="function"?s[l+1]=v:(s.splice(l,3),l-=3),Vy(s)}}}function qy(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function Qd(e){this._internalRoot=e}Ao.prototype.render=Qd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Bt();Iy(s,l,e,n,null,null)},Ao.prototype.unmount=Qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Iy(e.current,2,null,e,null,null),lo(),n[vr]=null}};function Ao(e){this._internalRoot=e}Ao.prototype.unstable_scheduleHydration=function(e){if(e){var n=$f();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ei.length&&n!==0&&n<Ei[s].priority;s++);Ei.splice(s,0,e),s===0&&Hy(e)}};var Gy=t.version;if(Gy!=="19.2.0")throw Error(a(527,Gy,"19.2.0"));q.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=f(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var SS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{Ns=Ro.inject(SS),Mt=Ro}catch{}}return ba.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",u=Zp,d=Jp,y=$p;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Dy(e,1,!1,null,null,s,l,null,u,d,y,qy),e[vr]=n.current,Ad(e),new Qd(n)},ba.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,u="",d=Zp,y=Jp,v=$p,S=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.formState!==void 0&&(S=s.formState)),n=Dy(e,1,!0,n,s??null,l,u,S,d,y,v,qy),n.context=My(null),s=n.current,l=Bt(),l=Uc(l),u=oi(l),u.callback=null,ci(s,u,l),s=l,n.current.lanes=s,Rs(n,s),gn(n),e[vr]=n.current,Ad(e),new Ao(n)},ba.version="19.2.0",ba}var e0;function DS(){if(e0)return Xd.exports;e0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Xd.exports=kS(),Xd.exports}var MS=DS();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var t0="popstate";function IS(r={}){function t(a,o){let{pathname:c,search:h,hash:m}=a.location;return yh("",{pathname:c,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(a,o){return typeof o=="string"?o:La(o)}return LS(t,i,null,r)}function He(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function un(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jS(){return Math.random().toString(36).substring(2,10)}function n0(r,t){return{usr:r.state,key:r.key,idx:t}}function yh(r,t,i=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?ps(t):t,state:i,key:t&&t.key||a||jS()}}function La({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function ps(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function LS(r,t,i,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,h=o.history,m="POP",g=null,f=_();f==null&&(f=0,h.replaceState({...h.state,idx:f},""));function _(){return(h.state||{idx:null}).idx}function b(){m="POP";let U=_(),B=U==null?null:U-f;f=U,g&&g({action:m,location:P.location,delta:B})}function x(U,B){m="PUSH";let V=yh(P.location,U,B);f=_()+1;let W=n0(V,f),ge=P.createHref(V);try{h.pushState(W,"",ge)}catch(Ue){if(Ue instanceof DOMException&&Ue.name==="DataCloneError")throw Ue;o.location.assign(ge)}c&&g&&g({action:m,location:P.location,delta:1})}function A(U,B){m="REPLACE";let V=yh(P.location,U,B);f=_();let W=n0(V,f),ge=P.createHref(V);h.replaceState(W,"",ge),c&&g&&g({action:m,location:P.location,delta:0})}function D(U){return US(U)}let P={get action(){return m},get location(){return r(o,h)},listen(U){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(t0,b),g=U,()=>{o.removeEventListener(t0,b),g=null}},createHref(U){return t(o,U)},createURL:D,encodeLocation(U){let B=D(U);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:x,replace:A,go(U){return h.go(U)}};return P}function US(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),He(i,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:La(r);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function v_(r,t,i="/"){return zS(r,t,i,!1)}function zS(r,t,i,a){let o=typeof t=="string"?ps(t):t,c=Qn(o.pathname||"/",i);if(c==null)return null;let h=b_(r);PS(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let f=XS(c);m=KS(h[g],f,a)}return m}function b_(r,t=[],i=[],a="",o=!1){let c=(h,m,g=o,f)=>{let _={relativePath:f===void 0?h.path||"":f,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(a)&&g)return;He(_.relativePath.startsWith(a),`Absolute route path "${_.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(a.length)}let b=qn([a,_.relativePath]),x=i.concat(_);h.children&&h.children.length>0&&(He(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),b_(h.children,t,x,b,g)),!(h.path==null&&!h.index)&&t.push({path:b,score:YS(b,h.index),routesMeta:x})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))c(h,m);else for(let g of x_(h.path))c(h,m,!0,g)}),t}function x_(r){let t=r.split("/");if(t.length===0)return[];let[i,...a]=t,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let h=x_(a.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function PS(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:QS(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var HS=/^:[\w-]+$/,BS=3,VS=2,qS=1,GS=10,FS=-2,i0=r=>r==="*";function YS(r,t){let i=r.split("/"),a=i.length;return i.some(i0)&&(a+=FS),t&&(a+=VS),i.filter(o=>!i0(o)).reduce((o,c)=>o+(HS.test(c)?BS:c===""?qS:GS),a)}function QS(r,t){return r.length===t.length&&r.slice(0,-1).every((a,o)=>a===t[o])?r[r.length-1]-t[t.length-1]:0}function KS(r,t,i=!1){let{routesMeta:a}=r,o={},c="/",h=[];for(let m=0;m<a.length;++m){let g=a[m],f=m===a.length-1,_=c==="/"?t:t.slice(c.length)||"/",b=Bo({path:g.relativePath,caseSensitive:g.caseSensitive,end:f},_),x=g.route;if(!b&&f&&i&&!a[a.length-1].route.index&&(b=Bo({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:qn([c,b.pathname]),pathnameBase:eE(qn([c,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(c=qn([c,b.pathnameBase]))}return h}function Bo(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,a]=WS(r.path,r.caseSensitive,r.end),o=t.match(i);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((f,{paramName:_,isOptional:b},x)=>{if(_==="*"){let D=m[x]||"";h=c.slice(0,c.length-D.length).replace(/(.)\/+$/,"$1")}const A=m[x];return b&&!A?f[_]=void 0:f[_]=(A||"").replace(/%2F/g,"/"),f},{}),pathname:c,pathnameBase:h,pattern:r}}function WS(r,t=!1,i=!0){un(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function XS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return un(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Qn(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=r.charAt(i);return a&&a!=="/"?null:r.slice(i)||"/"}function ZS(r,t="/"){let{pathname:i,search:a="",hash:o=""}=typeof r=="string"?ps(r):r;return{pathname:i?i.startsWith("/")?i:JS(i,t):t,search:tE(a),hash:nE(o)}}function JS(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function eh(r,t,i,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $S(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Bh(r){let t=$S(r);return t.map((i,a)=>a===t.length-1?i.pathname:i.pathnameBase)}function Vh(r,t,i,a=!1){let o;typeof r=="string"?o=ps(r):(o={...r},He(!o.pathname||!o.pathname.includes("?"),eh("?","pathname","search",o)),He(!o.pathname||!o.pathname.includes("#"),eh("#","pathname","hash",o)),He(!o.search||!o.search.includes("#"),eh("#","search","hash",o)));let c=r===""||o.pathname==="",h=c?"/":o.pathname,m;if(h==null)m=i;else{let b=t.length-1;if(!a&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),b-=1;o.pathname=x.join("/")}m=b>=0?t[b]:"/"}let g=ZS(o,m),f=h&&h!=="/"&&h.endsWith("/"),_=(c||h===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(f||_)&&(g.pathname+="/"),g}var qn=r=>r.join("/").replace(/\/\/+/g,"/"),eE=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),tE=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,nE=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function iE(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var S_=["POST","PUT","PATCH","DELETE"];new Set(S_);var rE=["GET",...S_];new Set(rE);var gs=R.createContext(null);gs.displayName="DataRouter";var hc=R.createContext(null);hc.displayName="DataRouterState";R.createContext(!1);var E_=R.createContext({isTransitioning:!1});E_.displayName="ViewTransition";var sE=R.createContext(new Map);sE.displayName="Fetchers";var aE=R.createContext(null);aE.displayName="Await";var dn=R.createContext(null);dn.displayName="Navigation";var Xa=R.createContext(null);Xa.displayName="Location";var bn=R.createContext({outlet:null,matches:[],isDataRoute:!1});bn.displayName="Route";var qh=R.createContext(null);qh.displayName="RouteError";function lE(r,{relative:t}={}){He(ys(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=R.useContext(dn),{hash:o,pathname:c,search:h}=Za(r,{relative:t}),m=c;return i!=="/"&&(m=c==="/"?i:qn([i,c])),a.createHref({pathname:m,search:h,hash:o})}function ys(){return R.useContext(Xa)!=null}function Zn(){return He(ys(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Xa).location}var C_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w_(r){R.useContext(dn).static||R.useLayoutEffect(r)}function Gh(){let{isDataRoute:r}=R.useContext(bn);return r?bE():oE()}function oE(){He(ys(),"useNavigate() may be used only in the context of a <Router> component.");let r=R.useContext(gs),{basename:t,navigator:i}=R.useContext(dn),{matches:a}=R.useContext(bn),{pathname:o}=Zn(),c=JSON.stringify(Bh(a)),h=R.useRef(!1);return w_(()=>{h.current=!0}),R.useCallback((g,f={})=>{if(un(h.current,C_),!h.current)return;if(typeof g=="number"){i.go(g);return}let _=Vh(g,JSON.parse(c),o,f.relative==="path");r==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:qn([t,_.pathname])),(f.replace?i.replace:i.push)(_,f.state,f)},[t,i,c,o,r])}R.createContext(null);function Za(r,{relative:t}={}){let{matches:i}=R.useContext(bn),{pathname:a}=Zn(),o=JSON.stringify(Bh(i));return R.useMemo(()=>Vh(r,JSON.parse(o),a,t==="path"),[r,o,a,t])}function cE(r,t){return T_(r,t)}function T_(r,t,i,a,o){He(ys(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=R.useContext(dn),{matches:h}=R.useContext(bn),m=h[h.length-1],g=m?m.params:{},f=m?m.pathname:"/",_=m?m.pathnameBase:"/",b=m&&m.route;{let V=b&&b.path||"";N_(f,!b||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let x=Zn(),A;if(t){let V=typeof t=="string"?ps(t):t;He(_==="/"||V.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${V.pathname}" was given in the \`location\` prop.`),A=V}else A=x;let D=A.pathname||"/",P=D;if(_!=="/"){let V=_.replace(/^\//,"").split("/");P="/"+D.replace(/^\//,"").split("/").slice(V.length).join("/")}let U=v_(r,{pathname:P});un(b||U!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),un(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=mE(U&&U.map(V=>Object.assign({},V,{params:Object.assign({},g,V.params),pathname:qn([_,c.encodeLocation?c.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?_:qn([_,c.encodeLocation?c.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),h,i,a,o);return t&&B?R.createElement(Xa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function uE(){let r=vE(),t=iE(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:c},"ErrorBoundary")," or"," ",R.createElement("code",{style:c},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),i?R.createElement("pre",{style:o},i):null,h)}var dE=R.createElement(uE,null),hE=class extends R.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?R.createElement(bn.Provider,{value:this.props.routeContext},R.createElement(qh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fE({routeContext:r,match:t,children:i}){let a=R.useContext(gs);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(bn.Provider,{value:r},i)}function mE(r,t=[],i=null,a=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,h=i?.errors;if(h!=null){let f=c.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);He(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,f+1))}let m=!1,g=-1;if(i)for(let f=0;f<c.length;f++){let _=c[f];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=f),_.route.id){let{loaderData:b,errors:x}=i,A=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!x||x[_.route.id]===void 0);if(_.route.lazy||A){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((f,_,b)=>{let x,A=!1,D=null,P=null;i&&(x=h&&_.route.id?h[_.route.id]:void 0,D=_.route.errorElement||dE,m&&(g<0&&b===0?(N_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,P=null):g===b&&(A=!0,P=_.route.hydrateFallbackElement||null)));let U=t.concat(c.slice(0,b+1)),B=()=>{let V;return x?V=D:A?V=P:_.route.Component?V=R.createElement(_.route.Component,null):_.route.element?V=_.route.element:V=f,R.createElement(fE,{match:_,routeContext:{outlet:f,matches:U,isDataRoute:i!=null},children:V})};return i&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?R.createElement(hE,{location:i.location,revalidation:i.revalidation,component:D,error:x,children:B(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:a}):B()},null)}function Fh(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pE(r){let t=R.useContext(gs);return He(t,Fh(r)),t}function gE(r){let t=R.useContext(hc);return He(t,Fh(r)),t}function yE(r){let t=R.useContext(bn);return He(t,Fh(r)),t}function Yh(r){let t=yE(r),i=t.matches[t.matches.length-1];return He(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function _E(){return Yh("useRouteId")}function vE(){let r=R.useContext(qh),t=gE("useRouteError"),i=Yh("useRouteError");return r!==void 0?r:t.errors?.[i]}function bE(){let{router:r}=pE("useNavigate"),t=Yh("useNavigate"),i=R.useRef(!1);return w_(()=>{i.current=!0}),R.useCallback(async(o,c={})=>{un(i.current,C_),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...c}))},[r,t])}var r0={};function N_(r,t,i){!t&&!r0[r]&&(r0[r]=!0,un(!1,i))}R.memo(xE);function xE({routes:r,future:t,state:i,unstable_onError:a}){return T_(r,void 0,i,a,t)}function A_({to:r,replace:t,state:i,relative:a}){He(ys(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=R.useContext(dn);un(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=R.useContext(bn),{pathname:h}=Zn(),m=Gh(),g=Vh(r,Bh(c),h,a==="path"),f=JSON.stringify(g);return R.useEffect(()=>{m(JSON.parse(f),{replace:t,state:i,relative:a})},[m,f,a,t,i]),null}function yn(r){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SE({basename:r="/",children:t=null,location:i,navigationType:a="POP",navigator:o,static:c=!1}){He(!ys(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=R.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof i=="string"&&(i=ps(i));let{pathname:g="/",search:f="",hash:_="",state:b=null,key:x="default"}=i,A=R.useMemo(()=>{let D=Qn(g,h);return D==null?null:{location:{pathname:D,search:f,hash:_,state:b,key:x},navigationType:a}},[h,g,f,_,b,x,a]);return un(A!=null,`<Router basename="${h}"> is not able to match the URL "${g}${f}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:R.createElement(dn.Provider,{value:m},R.createElement(Xa.Provider,{children:t,value:A}))}function EE({children:r,location:t}){return cE(_h(r),t)}function _h(r,t=[]){let i=[];return R.Children.forEach(r,(a,o)=>{if(!R.isValidElement(a))return;let c=[...t,o];if(a.type===R.Fragment){i.push.apply(i,_h(a.props.children,c));return}He(a.type===yn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=_h(a.props.children,c)),i.push(h)}),i}var Io="get",jo="application/x-www-form-urlencoded";function fc(r){return r!=null&&typeof r.tagName=="string"}function CE(r){return fc(r)&&r.tagName.toLowerCase()==="button"}function wE(r){return fc(r)&&r.tagName.toLowerCase()==="form"}function TE(r){return fc(r)&&r.tagName.toLowerCase()==="input"}function NE(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function AE(r,t){return r.button===0&&(!t||t==="_self")&&!NE(r)}var Oo=null;function RE(){if(Oo===null)try{new FormData(document.createElement("form"),0),Oo=!1}catch{Oo=!0}return Oo}var OE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function th(r){return r!=null&&!OE.has(r)?(un(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jo}"`),null):r}function kE(r,t){let i,a,o,c,h;if(wE(r)){let m=r.getAttribute("action");a=m?Qn(m,t):null,i=r.getAttribute("method")||Io,o=th(r.getAttribute("enctype"))||jo,c=new FormData(r)}else if(CE(r)||TE(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(a=g?Qn(g,t):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||Io,o=th(r.getAttribute("formenctype"))||th(m.getAttribute("enctype"))||jo,c=new FormData(m,r),!RE()){let{name:f,type:_,value:b}=r;if(_==="image"){let x=f?`${f}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else f&&c.append(f,b)}}else{if(fc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Io,a=null,o=jo,h=r}return c&&o==="text/plain"&&(h=c,c=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qh(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function DE(r,t,i){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${i}`:t&&Qn(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function ME(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IE(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function jE(r,t,i){let a=await Promise.all(r.map(async o=>{let c=t.routes[o.route.id];if(c){let h=await ME(c,i);return h.links?h.links():[]}return[]}));return PE(a.flat(1).filter(IE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function s0(r,t,i,a,o,c){let h=(g,f)=>i[f]?g.route.id!==i[f].route.id:!0,m=(g,f)=>i[f].pathname!==g.pathname||i[f].route.path?.endsWith("*")&&i[f].params["*"]!==g.params["*"];return c==="assets"?t.filter((g,f)=>h(g,f)||m(g,f)):c==="data"?t.filter((g,f)=>{let _=a.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,f)||m(g,f))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function LE(r,t,{includeHydrateFallback:i}={}){return UE(r.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function UE(r){return[...new Set(r)]}function zE(r){let t={},i=Object.keys(r).sort();for(let a of i)t[a]=r[a];return t}function PE(r,t){let i=new Set;return new Set(t),r.reduce((a,o)=>{let c=JSON.stringify(zE(o));return i.has(c)||(i.add(c),a.push({key:c,link:o})),a},[])}function R_(){let r=R.useContext(gs);return Qh(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function HE(){let r=R.useContext(hc);return Qh(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Kh=R.createContext(void 0);Kh.displayName="FrameworkContext";function O_(){let r=R.useContext(Kh);return Qh(r,"You must render this element inside a <HydratedRouter> element"),r}function BE(r,t){let i=R.useContext(Kh),[a,o]=R.useState(!1),[c,h]=R.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:f,onMouseLeave:_,onTouchStart:b}=t,x=R.useRef(null);R.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let P=B=>{B.forEach(V=>{h(V.isIntersecting)})},U=new IntersectionObserver(P,{threshold:.5});return x.current&&U.observe(x.current),()=>{U.disconnect()}}},[r]),R.useEffect(()=>{if(a){let P=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(P)}}},[a]);let A=()=>{o(!0)},D=()=>{o(!1),h(!1)};return i?r!=="intent"?[c,x,{}]:[c,x,{onFocus:xa(m,A),onBlur:xa(g,D),onMouseEnter:xa(f,A),onMouseLeave:xa(_,D),onTouchStart:xa(b,A)}]:[!1,x,{}]}function xa(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function VE({page:r,...t}){let{router:i}=R_(),a=R.useMemo(()=>v_(i.routes,r,i.basename),[i.routes,r,i.basename]);return a?R.createElement(GE,{page:r,matches:a,...t}):null}function qE(r){let{manifest:t,routeModules:i}=O_(),[a,o]=R.useState([]);return R.useEffect(()=>{let c=!1;return jE(r,t,i).then(h=>{c||o(h)}),()=>{c=!0}},[r,t,i]),a}function GE({page:r,matches:t,...i}){let a=Zn(),{manifest:o,routeModules:c}=O_(),{basename:h}=R_(),{loaderData:m,matches:g}=HE(),f=R.useMemo(()=>s0(r,t,g,o,a,"data"),[r,t,g,o,a]),_=R.useMemo(()=>s0(r,t,g,o,a,"assets"),[r,t,g,o,a]),b=R.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let D=new Set,P=!1;if(t.forEach(B=>{let V=o.routes[B.route.id];!V||!V.hasLoader||(!f.some(W=>W.route.id===B.route.id)&&B.route.id in m&&c[B.route.id]?.shouldRevalidate||V.hasClientLoader?P=!0:D.add(B.route.id))}),D.size===0)return[];let U=DE(r,h,"data");return P&&D.size>0&&U.searchParams.set("_routes",t.filter(B=>D.has(B.route.id)).map(B=>B.route.id).join(",")),[U.pathname+U.search]},[h,m,a,o,f,t,r,c]),x=R.useMemo(()=>LE(_,o),[_,o]),A=qE(_);return R.createElement(R.Fragment,null,b.map(D=>R.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...i})),x.map(D=>R.createElement("link",{key:D,rel:"modulepreload",href:D,...i})),A.map(({key:D,link:P})=>R.createElement("link",{key:D,nonce:i.nonce,...P})))}function FE(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var k_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k_&&(window.__reactRouterVersion="7.9.4")}catch{}function YE({basename:r,children:t,window:i}){let a=R.useRef();a.current==null&&(a.current=IS({window:i,v5Compat:!0}));let o=a.current,[c,h]=R.useState({action:o.action,location:o.location}),m=R.useCallback(g=>{R.startTransition(()=>h(g))},[h]);return R.useLayoutEffect(()=>o.listen(m),[o,m]),R.createElement(SE,{basename:r,children:t,location:c.location,navigationType:c.action,navigator:o})}var D_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vo=R.forwardRef(function({onClick:t,discover:i="render",prefetch:a="none",relative:o,reloadDocument:c,replace:h,state:m,target:g,to:f,preventScrollReset:_,viewTransition:b,...x},A){let{basename:D}=R.useContext(dn),P=typeof f=="string"&&D_.test(f),U,B=!1;if(typeof f=="string"&&P&&(U=f,k_))try{let he=new URL(window.location.href),ze=f.startsWith("//")?new URL(he.protocol+f):new URL(f),$e=Qn(ze.pathname,D);ze.origin===he.origin&&$e!=null?f=$e+ze.search+ze.hash:B=!0}catch{un(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=lE(f,{relative:o}),[W,ge,Ue]=BE(a,x),Ge=XE(f,{replace:h,state:m,target:g,preventScrollReset:_,relative:o,viewTransition:b});function ne(he){t&&t(he),he.defaultPrevented||Ge(he)}let K=R.createElement("a",{...x,...Ue,href:U||V,onClick:B||c?t:ne,ref:FE(A,ge),target:g,"data-discover":!P&&i==="render"?"true":void 0});return W&&!P?R.createElement(R.Fragment,null,K,R.createElement(VE,{page:V})):K});Vo.displayName="Link";var QE=R.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:a="",end:o=!1,style:c,to:h,viewTransition:m,children:g,...f},_){let b=Za(h,{relative:f.relative}),x=Zn(),A=R.useContext(hc),{navigator:D,basename:P}=R.useContext(dn),U=A!=null&&tC(b)&&m===!0,B=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,V=x.pathname,W=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;i||(V=V.toLowerCase(),W=W?W.toLowerCase():null,B=B.toLowerCase()),W&&P&&(W=Qn(W,P)||W);const ge=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let Ue=V===B||!o&&V.startsWith(B)&&V.charAt(ge)==="/",Ge=W!=null&&(W===B||!o&&W.startsWith(B)&&W.charAt(B.length)==="/"),ne={isActive:Ue,isPending:Ge,isTransitioning:U},K=Ue?t:void 0,he;typeof a=="function"?he=a(ne):he=[a,Ue?"active":null,Ge?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let ze=typeof c=="function"?c(ne):c;return R.createElement(Vo,{...f,"aria-current":K,className:he,ref:_,style:ze,to:h,viewTransition:m},typeof g=="function"?g(ne):g)});QE.displayName="NavLink";var KE=R.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:a,replace:o,state:c,method:h=Io,action:m,onSubmit:g,relative:f,preventScrollReset:_,viewTransition:b,...x},A)=>{let D=$E(),P=eC(m,{relative:f}),U=h.toLowerCase()==="get"?"get":"post",B=typeof m=="string"&&D_.test(m),V=W=>{if(g&&g(W),W.defaultPrevented)return;W.preventDefault();let ge=W.nativeEvent.submitter,Ue=ge?.getAttribute("formmethod")||h;D(ge||W.currentTarget,{fetcherKey:t,method:Ue,navigate:i,replace:o,state:c,relative:f,preventScrollReset:_,viewTransition:b})};return R.createElement("form",{ref:A,method:U,action:P,onSubmit:a?g:V,...x,"data-discover":!B&&r==="render"?"true":void 0})});KE.displayName="Form";function WE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M_(r){let t=R.useContext(gs);return He(t,WE(r)),t}function XE(r,{target:t,replace:i,state:a,preventScrollReset:o,relative:c,viewTransition:h}={}){let m=Gh(),g=Zn(),f=Za(r,{relative:c});return R.useCallback(_=>{if(AE(_,t)){_.preventDefault();let b=i!==void 0?i:La(g)===La(f);m(r,{replace:b,state:a,preventScrollReset:o,relative:c,viewTransition:h})}},[g,m,f,i,a,t,r,o,c,h])}var ZE=0,JE=()=>`__${String(++ZE)}__`;function $E(){let{router:r}=M_("useSubmit"),{basename:t}=R.useContext(dn),i=_E();return R.useCallback(async(a,o={})=>{let{action:c,method:h,encType:m,formData:g,body:f}=kE(a,t);if(o.navigate===!1){let _=o.fetcherKey||JE();await r.fetch(_,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:f,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:f,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,i])}function eC(r,{relative:t}={}){let{basename:i}=R.useContext(dn),a=R.useContext(bn);He(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...Za(r||".",{relative:t})},h=Zn();if(r==null){c.search=h.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let _=m.toString();c.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:qn([i,c.pathname])),La(c)}function tC(r,{relative:t}={}){let i=R.useContext(E_);He(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=M_("useViewTransitionState"),o=Za(r,{relative:t});if(!i.isTransitioning)return!1;let c=Qn(i.currentLocation.pathname,a)||i.currentLocation.pathname,h=Qn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Bo(o.pathname,h)!=null||Bo(o.pathname,c)!=null}const nC=()=>{};var a0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(r,t){if(!r)throw _s(t)},_s=function(r){return new Error("Firebase Database ("+I_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},iC=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],h=r[i++],m=r[i++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(g>>10)),t[a++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],h=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return t.join("")},Wh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,f=g?r[o+2]:0,_=c>>2,b=(c&3)<<4|m>>4;let x=(m&15)<<2|f>>6,A=f&63;g||(A=64,h||(x=64)),a.push(i[_],i[b],i[x],i[A])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(j_(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):iC(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const f=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||f==null||b==null)throw new rC;const x=c<<2|m>>4;if(a.push(x),f!==64){const A=m<<4&240|f>>2;if(a.push(A),b!==64){const D=f<<6&192|b;a.push(D)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L_=function(r){const t=j_(r);return Wh.encodeByteArray(t,!0)},qo=function(r){return L_(r).replace(/\./g,"")},Go=function(r){try{return Wh.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(r){return U_(void 0,r)}function U_(r,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!aC(i)||(r[i]=U_(r[i],t[i]));return r}function aC(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=()=>lC().__FIREBASE_DEFAULTS__,cC=()=>{if(typeof process>"u"||typeof a0>"u")return;const r=a0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Go(r[1]);return t&&JSON.parse(t)},Xh=()=>{try{return nC()||oC()||cC()||uC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},z_=r=>Xh()?.emulatorHosts?.[r],dC=r=>{const t=z_(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},P_=()=>Xh()?.config,H_=r=>Xh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qo(JSON.stringify(i)),qo(JSON.stringify(h)),""].join(".")}const Ra={};function fC(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ra))Ra[t]?r.emulator.push(t):r.prod.push(t);return r}function mC(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let l0=!1;function V_(r,t){if(typeof window>"u"||typeof document>"u"||!vs(window.location.host)||Ra[r]===t||Ra[r]||l0)return;Ra[r]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=fC().prod.length>0;function h(){const x=document.getElementById(a);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,A){x.setAttribute("width","24"),x.setAttribute("id",A),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{l0=!0,h()},x}function _(x,A){x.setAttribute("id",A),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=mC(a),A=i("text"),D=document.getElementById(A)||document.createElement("span"),P=i("learnmore"),U=document.getElementById(P)||document.createElement("a"),B=i("preprendIcon"),V=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const W=x.element;m(W),_(U,P);const ge=f();g(V,B),W.append(V,D,U,ge),document.body.appendChild(W)}c?(D.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function pC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function q_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yC(){const r=bt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function _C(){return I_.NODE_ADMIN===!0}function vC(){try{return typeof indexedDB=="object"}catch{return!1}}function bC(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="FirebaseError";class Ui extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=xC,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ja.prototype.create)}}class Ja{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],h=c?SC(c,a):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ui(o,m,a)}}function SC(r,t){return r.replace(EC,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const EC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(r){return JSON.parse(r)}function tt(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=function(r){let t={},i={},a={},o="";try{const c=r.split(".");t=Ua(Go(c[0])||""),i=Ua(Go(c[1])||""),o=c[2],a=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:a,signature:o}},CC=function(r){const t=G_(r),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},wC=function(r){const t=G_(r).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function us(r,t){if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}function vh(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Fo(r,t,i){const a={};for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=t.call(i,r[o],o,r));return a}function dr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],h=t[o];if(o0(c)&&o0(h)){if(!dr(c,h))return!1}else if(c!==h)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function o0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Na(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");t[decodeURIComponent(o)]=decodeURIComponent(c)}}),t}function Aa(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const a=this.W_;if(typeof t=="string")for(let b=0;b<16;b++)a[b]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let b=0;b<16;b++)a[b]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let b=16;b<80;b++){const x=a[b-3]^a[b-8]^a[b-14]^a[b-16];a[b]=(x<<1|x>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],h=this.chain_[2],m=this.chain_[3],g=this.chain_[4],f,_;for(let b=0;b<80;b++){b<40?b<20?(f=m^c&(h^m),_=1518500249):(f=c^h^m,_=1859775393):b<60?(f=c&h|m&(c|h),_=2400959708):(f=c^h^m,_=3395469782);const x=(o<<5|o>>>27)+f+g+_+a[b]&4294967295;g=m,m=h,h=(c<<30|c>>>2)&4294967295,c=o,o=x}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const a=i-this.blockSize;let o=0;const c=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=a;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(c[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}else for(;o<i;)if(c[h]=t[o],++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)t[a]=this.chain_[o]>>c&255,++a;return t}}function NC(r,t){const i=new AC(r,t);return i.subscribe.bind(i)}class AC{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");RC(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=nh),o.error===void 0&&(o.error=nh),o.complete===void 0&&(o.complete=nh);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RC(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function nh(){}function Jh(r,t){return`${r} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);if(o>=55296&&o<=56319){const c=o-55296;a++,H(a<r.length,"Surrogate pair missing trail surrogate.");const h=r.charCodeAt(a)-56320;o=65536+(c<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},pc=function(r){let t=0;for(let i=0;i<r.length;i++){const a=r.charCodeAt(i);a<128?t++:a<2048?t+=2:a>=55296&&a<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r){return r&&r._delegate?r._delegate:r}class hr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new mc;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(MC(t))try{this.getOrInitializeService({instanceIdentifier:ar})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=ar){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ar){return this.instances.has(t)}getOptions(t=ar){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&h.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:DC(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ar){return this.component?this.component.multipleInstances?t:ar:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DC(r){return r===ar?void 0:r}function MC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new kC(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Re||(Re={}));const jC={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},LC=Re.INFO,UC={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},zC=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=UC[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $h{constructor(t){this.name=t,this._logLevel=LC,this._logHandler=zC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?jC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...t),this._logHandler(this,Re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...t),this._logHandler(this,Re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...t),this._logHandler(this,Re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...t),this._logHandler(this,Re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...t),this._logHandler(this,Re.ERROR,...t)}}const PC=(r,t)=>t.some(i=>r instanceof i);let c0,u0;function HC(){return c0||(c0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BC(){return u0||(u0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F_=new WeakMap,bh=new WeakMap,Y_=new WeakMap,ih=new WeakMap,ef=new WeakMap;function VC(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{i(Ri(r.result)),o()},h=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&F_.set(i,r)}).catch(()=>{}),ef.set(t,r),t}function qC(r){if(bh.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{i(),o()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});bh.set(r,t)}let xh={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return bh.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Y_.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ri(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function GC(r){xh=r(xh)}function FC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(rh(this),t,...i);return Y_.set(a,t.sort?t.sort():[t]),Ri(a)}:BC().includes(r)?function(...t){return r.apply(rh(this),t),Ri(F_.get(this))}:function(...t){return Ri(r.apply(rh(this),t))}}function YC(r){return typeof r=="function"?FC(r):(r instanceof IDBTransaction&&qC(r),PC(r,HC())?new Proxy(r,xh):r)}function Ri(r){if(r instanceof IDBRequest)return VC(r);if(ih.has(r))return ih.get(r);const t=YC(r);return t!==r&&(ih.set(r,t),ef.set(t,r)),t}const rh=r=>ef.get(r);function QC(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const h=indexedDB.open(r,t),m=Ri(h);return a&&h.addEventListener("upgradeneeded",g=>{a(Ri(h.result),g.oldVersion,g.newVersion,Ri(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),m}const KC=["get","getKey","getAll","getAllKeys","count"],WC=["put","add","delete","clear"],sh=new Map;function d0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(sh.get(t))return sh.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=WC.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||KC.includes(i)))return;const c=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let f=g.store;return a&&(f=f.index(m.shift())),(await Promise.all([f[i](...m),o&&g.done]))[0]};return sh.set(t,c),c}GC(r=>({...r,get:(t,i,a)=>d0(t,i)||r.get(t,i,a),has:(t,i)=>!!d0(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ZC(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function ZC(r){return r.getComponent()?.type==="VERSION"}const Sh="@firebase/app",h0="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new $h("@firebase/app"),JC="@firebase/app-compat",$C="@firebase/analytics-compat",ew="@firebase/analytics",tw="@firebase/app-check-compat",nw="@firebase/app-check",iw="@firebase/auth",rw="@firebase/auth-compat",sw="@firebase/database",aw="@firebase/data-connect",lw="@firebase/database-compat",ow="@firebase/functions",cw="@firebase/functions-compat",uw="@firebase/installations",dw="@firebase/installations-compat",hw="@firebase/messaging",fw="@firebase/messaging-compat",mw="@firebase/performance",pw="@firebase/performance-compat",gw="@firebase/remote-config",yw="@firebase/remote-config-compat",_w="@firebase/storage",vw="@firebase/storage-compat",bw="@firebase/firestore",xw="@firebase/ai",Sw="@firebase/firestore-compat",Ew="firebase",Cw="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="[DEFAULT]",ww={[Sh]:"fire-core",[JC]:"fire-core-compat",[ew]:"fire-analytics",[$C]:"fire-analytics-compat",[nw]:"fire-app-check",[tw]:"fire-app-check-compat",[iw]:"fire-auth",[rw]:"fire-auth-compat",[sw]:"fire-rtdb",[aw]:"fire-data-connect",[lw]:"fire-rtdb-compat",[ow]:"fire-fn",[cw]:"fire-fn-compat",[uw]:"fire-iid",[dw]:"fire-iid-compat",[hw]:"fire-fcm",[fw]:"fire-fcm-compat",[mw]:"fire-perf",[pw]:"fire-perf-compat",[gw]:"fire-rc",[yw]:"fire-rc-compat",[_w]:"fire-gcs",[vw]:"fire-gcs-compat",[bw]:"fire-fst",[Sw]:"fire-fst-compat",[xw]:"fire-vertex","fire-js":"fire-js",[Ew]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Map,Tw=new Map,Ch=new Map;function f0(r,t){try{r.container.addComponent(t)}catch(i){Kn.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function ds(r){const t=r.name;if(Ch.has(t))return Kn.debug(`There were multiple attempts to register component ${t}.`),!1;Ch.set(t,r);for(const i of Yo.values())f0(i,r);for(const i of Tw.values())f0(i,r);return!0}function tf(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Vt(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new Ja("app","Firebase",Nw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=Cw;function Q_(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Eh,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Oi.create("bad-app-name",{appName:String(o)});if(i||(i=P_()),!i)throw Oi.create("no-options");const c=Yo.get(o);if(c){if(dr(i,c.options)&&dr(a,c.config))return c;throw Oi.create("duplicate-app",{appName:o})}const h=new IC(o);for(const g of Ch.values())h.addComponent(g);const m=new Aw(i,a,h);return Yo.set(o,m),m}function K_(r=Eh){const t=Yo.get(r);if(!t&&r===Eh&&P_())return Q_();if(!t)throw Oi.create("no-app",{appName:r});return t}function ki(r,t,i){let a=ww[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const h=[`Unable to register library "${a}" with version "${t}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Kn.warn(h.join(" "));return}ds(new hr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="firebase-heartbeat-database",Ow=1,za="firebase-heartbeat-store";let ah=null;function W_(){return ah||(ah=QC(Rw,Ow,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(za)}catch(i){console.warn(i)}}}}).catch(r=>{throw Oi.create("idb-open",{originalErrorMessage:r.message})})),ah}async function kw(r){try{const i=(await W_()).transaction(za),a=await i.objectStore(za).get(X_(r));return await i.done,a}catch(t){if(t instanceof Ui)Kn.warn(t.message);else{const i=Oi.create("idb-get",{originalErrorMessage:t?.message});Kn.warn(i.message)}}}async function m0(r,t){try{const a=(await W_()).transaction(za,"readwrite");await a.objectStore(za).put(t,X_(r)),await a.done}catch(i){if(i instanceof Ui)Kn.warn(i.message);else{const a=Oi.create("idb-set",{originalErrorMessage:i?.message});Kn.warn(a.message)}}}function X_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=1024,Mw=30;class Iw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Lw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=p0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Mw){const o=Uw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Kn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=p0(),{heartbeatsToSend:i,unsentEntries:a}=jw(this._heartbeatsCache.heartbeats),o=qo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Kn.warn(t),""}}}function p0(){return new Date().toISOString().substring(0,10)}function jw(r,t=Dw){const i=[];let a=r.slice();for(const o of r){const c=i.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),g0(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),g0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Lw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vC()?bC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await kw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return m0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return m0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function g0(r){return qo(JSON.stringify({version:2,heartbeats:r})).length}function Uw(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(r){ds(new hr("platform-logger",t=>new XC(t),"PRIVATE")),ds(new hr("heartbeat",t=>new Iw(t),"PRIVATE")),ki(Sh,h0,r),ki(Sh,h0,"esm2020"),ki("fire-js","")}zw("");var Pw="firebase",Hw="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(Pw,Hw,"app");var y0={};const _0="@firebase/database",v0="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z_="";function Bw(r){Z_=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),tt(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Ua(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Jn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const t=window[r];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Vw(t)}}catch{}return new qw},or=J_("localStorage"),Gw=J_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new $h("@firebase/database"),Fw=(function(){let r=1;return function(){return r++}})(),$_=function(r){const t=OC(r),i=new TC;i.update(t);const a=i.digest();return Wh.encodeByteArray(a)},$a=function(...r){let t="";for(let i=0;i<r.length;i++){const a=r[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?t+=$a.apply(null,a):typeof a=="object"?t+=tt(a):t+=a,t+=" "}return t};let Oa=null,b0=!0;const Yw=function(r,t){H(!0,"Can't turn on custom loggers persistently."),ss.logLevel=Re.VERBOSE,Oa=ss.log.bind(ss)},pt=function(...r){if(b0===!0&&(b0=!1,Oa===null&&Gw.get("logging_enabled")===!0&&Yw()),Oa){const t=$a.apply(null,r);Oa(t)}},el=function(r){return function(...t){pt(r,...t)}},wh=function(...r){const t="FIREBASE INTERNAL ERROR: "+$a(...r);ss.error(t)},Wn=function(...r){const t=`FIREBASE FATAL ERROR: ${$a(...r)}`;throw ss.error(t),new Error(t)},Ot=function(...r){const t="FIREBASE WARNING: "+$a(...r);ss.warn(t)},Qw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ot("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ev=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},Kw=function(r){if(document.readyState==="complete")r();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},hs="[MIN_NAME]",fr="[MAX_NAME]",Ss=function(r,t){if(r===t)return 0;if(r===hs||t===fr)return-1;if(t===hs||r===fr)return 1;{const i=x0(r),a=x0(t);return i!==null?a!==null?i-a===0?r.length-t.length:i-a:-1:a!==null?1:r<t?-1:1}},Ww=function(r,t){return r===t?0:r<t?-1:1},Sa=function(r,t){if(t&&r in t)return t[r];throw new Error("Missing required key ("+r+") in object: "+tt(t))},nf=function(r){if(typeof r!="object"||r===null)return tt(r);const t=[];for(const a in r)t.push(a);t.sort();let i="{";for(let a=0;a<t.length;a++)a!==0&&(i+=","),i+=tt(t[a]),i+=":",i+=nf(r[t[a]]);return i+="}",i},tv=function(r,t){const i=r.length;if(i<=t)return[r];const a=[];for(let o=0;o<i;o+=t)o+t>i?a.push(r.substring(o,i)):a.push(r.substring(o,o+t));return a};function kt(r,t){for(const i in r)r.hasOwnProperty(i)&&t(i,r[i])}const nv=function(r){H(!ev(r),"Invalid JSON number");const t=11,i=52,a=(1<<t-1)-1;let o,c,h,m,g;r===0?(c=0,h=0,o=1/r===-1/0?1:0):(o=r<0,r=Math.abs(r),r>=Math.pow(2,1-a)?(m=Math.min(Math.floor(Math.log(r)/Math.LN2),a),c=m+a,h=Math.round(r*Math.pow(2,i-m)-Math.pow(2,i))):(c=0,h=Math.round(r/Math.pow(2,1-a-i))));const f=[];for(g=i;g;g-=1)f.push(h%2?1:0),h=Math.floor(h/2);for(g=t;g;g-=1)f.push(c%2?1:0),c=Math.floor(c/2);f.push(o?1:0),f.reverse();const _=f.join("");let b="";for(g=0;g<64;g+=8){let x=parseInt(_.substr(g,8),2).toString(16);x.length===1&&(x="0"+x),b=b+x}return b.toLowerCase()},Xw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Zw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Jw(r,t){let i="Unknown Error";r==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":r==="permission_denied"?i="Client doesn't have permission to access the desired data.":r==="unavailable"&&(i="The service is unavailable");const a=new Error(r+" at "+t._path.toString()+": "+i);return a.code=r.toUpperCase(),a}const $w=new RegExp("^-?(0*)\\d{1,10}$"),eT=-2147483648,tT=2147483647,x0=function(r){if($w.test(r)){const t=Number(r);if(t>=eT&&t<=tT)return t}return null},Es=function(r){try{r()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Ot("Exception was thrown by user callback.",i),t},Math.floor(0))}},nT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ka=function(r,t){const i=setTimeout(r,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,Vt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(a=>this.appCheck=a)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,a):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ot(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(t,i,a){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,a):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ot(t)}}class Lo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Lo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="5",iv="v",rv="s",sv="r",av="f",lv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ov="ls",cv="p",Th="ac",uv="websocket",dv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(t,i,a,o,c=!1,h="",m=!1,g=!1,f=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=g,this.emulatorOptions=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=or.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&or.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function sT(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function fv(r,t,i){H(typeof t=="string","typeof type must == string"),H(typeof i=="object","typeof params must == object");let a;if(t===uv)a=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(t===dv)a=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);sT(r)&&(i.ns=r.namespace);const o=[];return kt(i,(c,h)=>{o.push(c+"="+h)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.counters_={}}incrementCounter(t,i=1){Jn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return sC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh={},oh={};function sf(r){const t=r.toString();return lh[t]||(lh[t]=new aT),lh[t]}function lT(r,t){const i=r.toString();return oh[i]||(oh[i]=t()),oh[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&Es(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="start",cT="close",uT="pLPCommand",dT="pRTLPCB",mv="id",pv="pw",gv="ser",hT="cb",fT="seg",mT="ts",pT="d",gT="dframe",yv=1870,_v=30,yT=yv-_v,_T=25e3,vT=3e4;class rs{constructor(t,i,a,o,c,h,m){this.connId=t,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=el(t),this.stats_=sf(i),this.urlFn=g=>(this.appCheckToken&&(g[Th]=this.appCheckToken),fv(i,dv,g))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new oT(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vT)),Kw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new af((...c)=>{const[h,m,g,f,_]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===S0)this.id=m,this.password=g;else if(h===cT)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...c)=>{const[h,m]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const a={};a[S0]="t",a[gv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[hT]=this.scriptTagHolder.uniqueCallbackIdentifier),a[iv]=rf,this.transportSessionId&&(a[rv]=this.transportSessionId),this.lastSessionId&&(a[ov]=this.lastSessionId),this.applicationId&&(a[cv]=this.applicationId),this.appCheckToken&&(a[Th]=this.appCheckToken),typeof location<"u"&&location.hostname&&lv.test(location.hostname)&&(a[sv]=av);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rs.forceAllow_=!0}static forceDisallow(){rs.forceDisallow_=!0}static isAvailable(){return rs.forceAllow_?!0:!rs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Xw()&&!Zw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=tt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=L_(i),o=tv(a,yT);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[gT]="t",a[mv]=t,a[pv]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=tt(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class af{constructor(t,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Fw(),window[uT+this.uniqueCallbackIdentifier]=t,window[dT+this.uniqueCallbackIdentifier]=i,this.myIFrame=af.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){pt("frame writing exception"),m.stack&&pt(m.stack),pt(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||pt("No IE domain setting required")}catch{const a=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[mv]=this.myID,t[pv]=this.myPW,t[gv]=this.currentSerial;let i=this.urlFn(t),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+_v+a.length<=yv;){const h=this.pendingSegs.shift();a=a+"&"+fT+o+"="+h.seg+"&"+mT+o+"="+h.ts+"&"+pT+o+"="+h.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,a){this.pendingSegs.push({seg:t,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(_T)),c=()=>{clearTimeout(o),a()};this.addTag(t,c)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=t,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{pt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=16384,xT=45e3;let Qo=null;typeof MozWebSocket<"u"?Qo=MozWebSocket:typeof WebSocket<"u"&&(Qo=WebSocket);class rn{constructor(t,i,a,o,c,h,m){this.connId=t,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=el(this.connId),this.stats_=sf(i),this.connURL=rn.connectionURL_(i,h,m,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,a,o,c){const h={};return h[iv]=rf,typeof location<"u"&&location.hostname&&lv.test(location.hostname)&&(h[sv]=av),i&&(h[rv]=i),a&&(h[ov]=a),o&&(h[Th]=o),c&&(h[cv]=c),fv(t,uv,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,or.set("previous_websocket_failure",!0);try{let a;_C(),this.mySock=new Qo(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){rn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(t=!0)}return!t&&Qo!==null&&!rn.forceDisallow_}static previouslyFailed(){return or.isInMemoryStorage||or.get("previous_websocket_failure")===!0}markConnectionHealthy(){or.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=Ua(i);this.onMessage(a)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(H(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(t){this.resetKeepAlive();const i=tt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=tv(i,bT);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(xT))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}rn.responsesRequiredToBeHealthy=2;rn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{static get ALL_TRANSPORTS(){return[rs,rn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=rn&&rn.isAvailable();let a=i&&!rn.previouslyFailed();if(t.webSocketOnly&&(i||Ot("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[rn];else{const o=this.transports_=[];for(const c of Pa.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);Pa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Pa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=6e4,ET=5e3,CT=10*1024,wT=100*1024,ch="t",E0="d",TT="s",C0="r",NT="e",w0="o",T0="a",N0="n",A0="p",AT="h";class RT{constructor(t,i,a,o,c,h,m,g,f,_){this.id=t,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=g,this.onKill_=f,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=el("c:"+this.id+":"),this.transportManager_=new Pa(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=ka(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>wT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>CT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(ch in t){const i=t[ch];i===T0?this.upgradeIfSecondaryHealthy_():i===C0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===w0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=Sa("t",t),a=Sa("d",t);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:A0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:T0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:N0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=Sa("t",t),a=Sa("d",t);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=Sa(ch,t);if(E0 in t){const a=t[E0];if(i===AT){const o={...a};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===N0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===TT?this.onConnectionShutdown_(a):i===C0?this.onReset_(a):i===NT?wh("Server Error: "+a):i===w0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wh("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,a=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),rf!==a&&Ot("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),ka(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ST))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ka(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ET))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:A0,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(or.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{put(t,i,a,o){}merge(t,i,a,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,a){}onDisconnectMerge(t,i,a){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t){this.allowedEvents_=t,this.listeners_={},H(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const a=[...this.listeners_[t]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(t,i,a){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:a});const o=this.getInitialEvent(t);o&&i.apply(a,o)}off(t,i,a){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!a||a===o[c].context)){o.splice(c,1);return}}validateEventType_(t){H(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends bv{static getInstance(){return new Ko}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Zh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return H(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=32,O0=768;class ke{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function ve(){return new ke("")}function ae(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function Ii(r){return r.pieces_.length-r.pieceNum_}function De(r){let t=r.pieceNum_;return t<r.pieces_.length&&t++,new ke(r.pieces_,t)}function xv(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function OT(r){let t="";for(let i=r.pieceNum_;i<r.pieces_.length;i++)r.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(r.pieces_[i])));return t||"/"}function Sv(r,t=0){return r.pieces_.slice(r.pieceNum_+t)}function Ev(r){if(r.pieceNum_>=r.pieces_.length)return null;const t=[];for(let i=r.pieceNum_;i<r.pieces_.length-1;i++)t.push(r.pieces_[i]);return new ke(t,0)}function nt(r,t){const i=[];for(let a=r.pieceNum_;a<r.pieces_.length;a++)i.push(r.pieces_[a]);if(t instanceof ke)for(let a=t.pieceNum_;a<t.pieces_.length;a++)i.push(t.pieces_[a]);else{const a=t.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new ke(i,0)}function de(r){return r.pieceNum_>=r.pieces_.length}function vt(r,t){const i=ae(r),a=ae(t);if(i===null)return t;if(i===a)return vt(De(r),De(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+r+")")}function lf(r,t){if(Ii(r)!==Ii(t))return!1;for(let i=r.pieceNum_,a=t.pieceNum_;i<=r.pieces_.length;i++,a++)if(r.pieces_[i]!==t.pieces_[a])return!1;return!0}function sn(r,t){let i=r.pieceNum_,a=t.pieceNum_;if(Ii(r)>Ii(t))return!1;for(;i<r.pieces_.length;){if(r.pieces_[i]!==t.pieces_[a])return!1;++i,++a}return!0}class kT{constructor(t,i){this.errorPrefix_=i,this.parts_=Sv(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=pc(this.parts_[a]);Cv(this)}}function DT(r,t){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=pc(t),Cv(r)}function MT(r){const t=r.parts_.pop();r.byteLength_-=pc(t),r.parts_.length>0&&(r.byteLength_-=1)}function Cv(r){if(r.byteLength_>O0)throw new Error(r.errorPrefix_+"has a key path longer than "+O0+" bytes ("+r.byteLength_+").");if(r.parts_.length>R0)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+R0+") or object contains a cycle "+lr(r))}function lr(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends bv{static getInstance(){return new of}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[t];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(t){return H(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=1e3,IT=300*1e3,k0=30*1e3,jT=1.3,LT=3e4,UT="server_kill",D0=3;class Gn extends vv{constructor(t,i,a,o,c,h,m,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=Gn.nextPersistentConnectionId_++,this.log_=el("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ea,this.maxReconnectDelay_=IT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");of.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ko.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,a){const o=++this.requestNumber_,c={r:o,a:t,b:i};this.log_(tt(c)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),a&&(this.requestCBHash_[o]=a)}get(t){this.initConnection_();const i=new mc,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(t,i,a,o){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:a};this.listens.get(h).set(c,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(t){const i=t.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const c={p:a},h="q";t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(h,c,m=>{const g=m.d,f=m.s;Gn.warnOnListenWarnings_(g,i),(this.listens.get(a)&&this.listens.get(a).get(o))===t&&(this.log_("listen response",m),f!=="ok"&&this.removeListen_(a,o),t.onComplete&&t.onComplete(f,g))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Jn(t,"w")){const a=us(t,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Ot(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||wC(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=k0)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=CC(t)?"auth":"gauth",a={cred:t};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const c=o.s,h=o.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,a=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(t,i){const a=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,t._queryObject,i)}sendUnlisten_(t,i,a,o){this.log_("Unlisten on "+t+" for "+i);const c={p:t},h="n";o&&(c.q=a,c.t=o),this.sendRequest(h,c)}onDisconnectPut(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:a})}onDisconnectMerge(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:a})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,a,o){const c={p:i,d:a};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,a,o){this.putInternal("p",t,i,a,o)}merge(t,i,a,o){this.putInternal("m",t,i,a,o)}putInternal(t,i,a,o,c){this.initConnection_();const h={p:i,d:a};c!==void 0&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,a=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,a,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const c=a.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+tt(t));const i=t.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):wh("Unrecognized action received from server: "+tt(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ea,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ea,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>LT&&(this.reconnectDelay_=Ea),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Gn.nextConnectionId_++,c=this.lastSessionId;let h=!1,m=null;const g=function(){m?m.close():(h=!0,a())},f=function(b){H(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(b)};this.realtime_={close:g,sendRequest:f};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,x]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);h?pt("getToken() completed but was canceled"):(pt("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=x&&x.token,m=new RT(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,a,A=>{Ot(A+" ("+this.repoInfo_.toString()+")"),this.interrupt(UT)},c))}catch(b){this.log_("Failed to get token: "+b),h||(this.repoInfo_.nodeAdmin&&Ot(b),g())}}}interrupt(t){pt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){pt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],vh(this.interruptReasons_)&&(this.reconnectDelay_=Ea,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let a;i?a=i.map(c=>nf(c)).join("$"):a="default";const o=this.removeListen_(t,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const a=new ke(t).toString();let o;if(this.listens.has(a)){const c=this.listens.get(a);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(t,i){pt("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=D0&&(this.reconnectDelay_=k0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){pt("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=D0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Z_.replace(/\./g,"-")]=1,Zh()?t["framework.cordova"]=1:q_()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ko.getInstance().currentlyOnline();return vh(this.interruptReasons_)&&t}}Gn.nextPersistentConnectionId_=0;Gn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new le(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const a=new le(hs,t),o=new le(hs,i);return this.compare(a,o)!==0}minPost(){return le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko;class wv extends gc{static get __EMPTY_NODE(){return ko}static set __EMPTY_NODE(t){ko=t}compare(t,i){return Ss(t.name,i.name)}isDefinedOn(t){throw _s("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return le.MIN}maxPost(){return new le(fr,ko)}makePost(t,i){return H(typeof t=="string","KeyIndex indexValue must always be a string."),new le(t,ko)}toString(){return".key"}}const as=new wv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t,i,a,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?a(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class at{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??at.RED,this.left=o??At.EMPTY_NODE,this.right=c??At.EMPTY_NODE}copy(t,i,a,o,c){return new at(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return At.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let a,o;if(a=this,i(t,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(t,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(t,a.key)===0){if(a.right.isEmpty())return At.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(t,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class zT{copy(t,i,a,o,c){return this}insert(t,i,a){return new at(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class At{constructor(t,i=At.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new At(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(t){return new At(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,at.BLACK,null,null))}get(t){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(t,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(t){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(t,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Do(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new Do(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new Do(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new Do(this.root_,null,this.comparator_,!0,t)}}At.EMPTY_NODE=new zT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(r,t){return Ss(r.name,t.name)}function cf(r,t){return Ss(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh;function HT(r){Nh=r}const Tv=function(r){return typeof r=="number"?"number:"+nv(r):"string:"+r},Nv=function(r){if(r.isLeafNode()){const t=r.val();H(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Jn(t,".sv"),"Priority must be a string or number.")}else H(r===Nh||r.isEmpty(),"priority of unexpected type.");H(r===Nh||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M0;class st{static set __childrenNodeConstructor(t){M0=t}static get __childrenNodeConstructor(){return M0}constructor(t,i=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Nv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new st(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return de(t)?this:ae(t)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const a=ae(t);return a===null?i:i.isEmpty()&&a!==".priority"?this:(H(a!==".priority"||Ii(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(De(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Tv(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=nv(this.value_):t+=this.value_,this.lazyHash_=$_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===st.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof st.__childrenNodeConstructor?-1:(H(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,a=typeof this.value_,o=st.VALUE_TYPE_ORDER.indexOf(i),c=st.VALUE_TYPE_ORDER.indexOf(a);return H(o>=0,"Unknown leaf type: "+i),H(c>=0,"Unknown leaf type: "+a),o===c?a==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Av,Rv;function BT(r){Av=r}function VT(r){Rv=r}class qT extends gc{compare(t,i){const a=t.node.getPriority(),o=i.node.getPriority(),c=a.compareTo(o);return c===0?Ss(t.name,i.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return le.MIN}maxPost(){return new le(fr,new st("[PRIORITY-POST]",Rv))}makePost(t,i){const a=Av(t);return new le(i,new st("[PRIORITY-POST]",a))}toString(){return".priority"}}const qe=new qT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=Math.log(2);class FT{constructor(t){const i=c=>parseInt(Math.log(c)/GT,10),a=c=>parseInt(Array(c+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=a(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Wo=function(r,t,i,a){r.sort(t);const o=function(g,f){const _=f-g;let b,x;if(_===0)return null;if(_===1)return b=r[g],x=i?i(b):b,new at(x,b.node,at.BLACK,null,null);{const A=parseInt(_/2,10)+g,D=o(g,A),P=o(A+1,f);return b=r[A],x=i?i(b):b,new at(x,b.node,at.BLACK,D,P)}},c=function(g){let f=null,_=null,b=r.length;const x=function(D,P){const U=b-D,B=b;b-=D;const V=o(U+1,B),W=r[U],ge=i?i(W):W;A(new at(ge,W.node,P,null,V))},A=function(D){f?(f.left=D,f=D):(_=D,f=D)};for(let D=0;D<g.count;++D){const P=g.nextBitIsOne(),U=Math.pow(2,g.count-(D+1));P?x(U,at.BLACK):(x(U,at.BLACK),x(U,at.RED))}return _},h=new FT(r.length),m=c(h);return new At(a||t,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh;const is={};class Hn{static get Default(){return H(is&&qe,"ChildrenNode.ts has not been loaded"),uh=uh||new Hn({".priority":is},{".priority":qe}),uh}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=us(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof At?i:null}hasIndex(t){return Jn(this.indexSet_,t.toString())}addIndex(t,i){H(t!==as,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const c=i.getIterator(le.Wrap);let h=c.getNext();for(;h;)o=o||t.isDefinedOn(h.node),a.push(h),h=c.getNext();let m;o?m=Wo(a,t.getCompare()):m=is;const g=t.toString(),f={...this.indexSet_};f[g]=t;const _={...this.indexes_};return _[g]=m,new Hn(_,f)}addToIndexes(t,i){const a=Fo(this.indexes_,(o,c)=>{const h=us(this.indexSet_,c);if(H(h,"Missing index implementation for "+c),o===is)if(h.isDefinedOn(t.node)){const m=[],g=i.getIterator(le.Wrap);let f=g.getNext();for(;f;)f.name!==t.name&&m.push(f),f=g.getNext();return m.push(t),Wo(m,h.getCompare())}else return is;else{const m=i.get(t.name);let g=o;return m&&(g=g.remove(new le(t.name,m))),g.insert(t,t.node)}});return new Hn(a,this.indexSet_)}removeFromIndexes(t,i){const a=Fo(this.indexes_,o=>{if(o===is)return o;{const c=i.get(t.name);return c?o.remove(new le(t.name,c)):o}});return new Hn(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca;class ee{static get EMPTY_NODE(){return Ca||(Ca=new ee(new At(cf),null,Hn.Default))}constructor(t,i,a){this.children_=t,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&Nv(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ca}updatePriority(t){return this.children_.isEmpty()?this:new ee(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?Ca:i}}getChild(t){const i=ae(t);return i===null?this:this.getImmediateChild(i).getChild(De(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(H(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const a=new le(t,i);let o,c;i.isEmpty()?(o=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(a,this.children_));const h=o.isEmpty()?Ca:this.priorityNode_;return new ee(o,h,c)}}updateChild(t,i){const a=ae(t);if(a===null)return i;{H(ae(t)!==".priority"||Ii(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(De(t),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let a=0,o=0,c=!0;if(this.forEachChild(qe,(h,m)=>{i[h]=m.val(t),a++,c&&ee.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!t&&c&&o<2*a){const h=[];for(const m in i)h[m]=i[m];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Tv(this.getPriority().val())+":"),this.forEachChild(qe,(i,a)=>{const o=a.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":$_(t)}return this.lazyHash_}getPredecessorChildName(t,i,a){const o=this.resolveIndex_(a);if(o){const c=o.getPredecessorKey(new le(t,i));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new le(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new le(i,this.children_.get(i)):null}forEachChild(t,i){const a=this.resolveIndex_(t);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,le.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,le.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)>0;)o.getNext(),c=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===tl?-1:0}withIndex(t){if(t===as||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new ee(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===as||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(qe),o=i.getIterator(qe);let c=a.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=a.getNext(),h=o.getNext()}return c===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===as?null:this.indexMap_.get(t.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class YT extends ee{constructor(){super(new At(cf),ee.EMPTY_NODE,Hn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ee.EMPTY_NODE}isEmpty(){return!1}}const tl=new YT;Object.defineProperties(le,{MIN:{value:new le(hs,ee.EMPTY_NODE)},MAX:{value:new le(fr,tl)}});wv.__EMPTY_NODE=ee.EMPTY_NODE;st.__childrenNodeConstructor=ee;HT(tl);VT(tl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=!0;function lt(r,t=null){if(r===null)return ee.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(t=r[".priority"]),H(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const i=r;return new st(i,lt(t))}if(!(r instanceof Array)&&QT){const i=[];let a=!1;if(kt(r,(h,m)=>{if(h.substring(0,1)!=="."){const g=lt(m);g.isEmpty()||(a=a||!g.getPriority().isEmpty(),i.push(new le(h,g)))}}),i.length===0)return ee.EMPTY_NODE;const c=Wo(i,PT,h=>h.name,cf);if(a){const h=Wo(i,qe.getCompare());return new ee(c,lt(t),new Hn({".priority":h},{".priority":qe}))}else return new ee(c,lt(t),Hn.Default)}else{let i=ee.EMPTY_NODE;return kt(r,(a,o)=>{if(Jn(r,a)&&a.substring(0,1)!=="."){const c=lt(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(a,c))}}),i.updatePriority(lt(t))}}BT(lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT extends gc{constructor(t){super(),this.indexPath_=t,H(!de(t)&&ae(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const a=this.extractChild(t.node),o=this.extractChild(i.node),c=a.compareTo(o);return c===0?Ss(t.name,i.name):c}makePost(t,i){const a=lt(t),o=ee.EMPTY_NODE.updateChild(this.indexPath_,a);return new le(i,o)}maxPost(){const t=ee.EMPTY_NODE.updateChild(this.indexPath_,tl);return new le(fr,t)}toString(){return Sv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends gc{compare(t,i){const a=t.node.compareTo(i.node);return a===0?Ss(t.name,i.name):a}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(t,i){const a=lt(t);return new le(i,a)}toString(){return".value"}}const XT=new WT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(r){return{type:"value",snapshotNode:r}}function fs(r,t){return{type:"child_added",snapshotNode:t,childName:r}}function Ha(r,t){return{type:"child_removed",snapshotNode:t,childName:r}}function Ba(r,t,i){return{type:"child_changed",snapshotNode:t,childName:r,oldSnap:i}}function ZT(r,t){return{type:"child_moved",snapshotNode:t,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t){this.index_=t}updateChild(t,i,a,o,c,h){H(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(a.getChild(o))&&m.isEmpty()===a.isEmpty()||(h!=null&&(a.isEmpty()?t.hasChild(i)?h.trackChildChange(Ha(i,m)):H(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(fs(i,a)):h.trackChildChange(Ba(i,a,m))),t.isLeafNode()&&a.isEmpty())?t:t.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(t,i,a){return a!=null&&(t.isLeafNode()||t.forEachChild(qe,(o,c)=>{i.hasChild(o)||a.trackChildChange(Ha(o,c))}),i.isLeafNode()||i.forEachChild(qe,(o,c)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(c)||a.trackChildChange(Ba(o,c,h))}else a.trackChildChange(fs(o,c))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?ee.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this.indexedFilter_=new uf(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Va.getStartPost_(t),this.endPost_=Va.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,a=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&a}updateChild(t,i,a,o,c,h){return this.matches(new le(i,a))||(a=ee.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,a,o,c,h)}updateFullNode(t,i,a){i.isLeafNode()&&(i=ee.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(ee.EMPTY_NODE);const c=this;return i.forEachChild(qe,(h,m)=>{c.matches(new le(h,m))||(o=o.updateImmediateChild(h,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,a)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Va(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,a,o,c,h){return this.rangedFilter_.matches(new le(i,a))||(a=ee.EMPTY_NODE),t.getImmediateChild(i).equals(a)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,a,o,c,h):this.fullLimitUpdateChild_(t,i,a,c,h)}updateFullNode(t,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=ee.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const m=c.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(ee.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let h=0;for(;c.hasNext();){const m=c.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,a)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,a,o,c){let h;if(this.reverse_){const b=this.index_.getCompare();h=(x,A)=>b(A,x)}else h=this.index_.getCompare();const m=t;H(m.numChildren()===this.limit_,"");const g=new le(i,a),f=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),_=this.rangedFilter_.matches(g);if(m.hasChild(i)){const b=m.getImmediateChild(i);let x=o.getChildAfterChild(this.index_,f,this.reverse_);for(;x!=null&&(x.name===i||m.hasChild(x.name));)x=o.getChildAfterChild(this.index_,x,this.reverse_);const A=x==null?1:h(x,g);if(_&&!a.isEmpty()&&A>=0)return c?.trackChildChange(Ba(i,a,b)),m.updateImmediateChild(i,a);{c?.trackChildChange(Ha(i,b));const P=m.updateImmediateChild(i,ee.EMPTY_NODE);return x!=null&&this.rangedFilter_.matches(x)?(c?.trackChildChange(fs(x.name,x.node)),P.updateImmediateChild(x.name,x.node)):P}}else return a.isEmpty()?t:_&&h(f,g)>=0?(c!=null&&(c.trackChildChange(Ha(f.name,f.node)),c.trackChildChange(fs(i,a))),m.updateImmediateChild(i,a).updateImmediateChild(f.name,ee.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:hs}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qe}copy(){const t=new df;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function $T(r){return r.loadsAllData()?new uf(r.getIndex()):r.hasLimit()?new JT(r):new Va(r)}function I0(r){const t={};if(r.isDefault())return t;let i;if(r.index_===qe?i="$priority":r.index_===XT?i="$value":r.index_===as?i="$key":(H(r.index_ instanceof KT,"Unrecognized index type!"),i=r.index_.toString()),t.orderBy=tt(i),r.startSet_){const a=r.startAfterSet_?"startAfter":"startAt";t[a]=tt(r.indexStartValue_),r.startNameSet_&&(t[a]+=","+tt(r.indexStartName_))}if(r.endSet_){const a=r.endBeforeSet_?"endBefore":"endAt";t[a]=tt(r.indexEndValue_),r.endNameSet_&&(t[a]+=","+tt(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?t.limitToFirst=r.limit_:t.limitToLast=r.limit_),t}function j0(r){const t={};if(r.startSet_&&(t.sp=r.indexStartValue_,r.startNameSet_&&(t.sn=r.indexStartName_),t.sin=!r.startAfterSet_),r.endSet_&&(t.ep=r.indexEndValue_,r.endNameSet_&&(t.en=r.indexEndName_),t.ein=!r.endBeforeSet_),r.limitSet_){t.l=r.limit_;let i=r.viewFrom_;i===""&&(r.isViewFromLeft()?i="l":i="r"),t.vf=i}return r.index_!==qe&&(t.i=r.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends vv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(H(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,a,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=el("p:rest:"),this.listens_={}}listen(t,i,a,o){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const h=Xo.getListenId_(t,a),m={};this.listens_[h]=m;const g=I0(t._queryParams);this.restRequest_(c+".json",g,(f,_)=>{let b=_;if(f===404&&(b=null,f=null),f===null&&this.onDataUpdate_(c,b,!1,a),us(this.listens_,h)===m){let x;f?f===401?x="permission_denied":x="rest_error:"+f:x="ok",o(x,null)}})}unlisten(t,i){const a=Xo.getListenId_(t,i);delete this.listens_[a]}get(t){const i=I0(t._queryParams),a=t._path.toString(),o=new mc;return this.restRequest_(a+".json",i,(c,h)=>{let m=h;c===404&&(m=null,c=null),c===null?(this.onDataUpdate_(a,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+bs(i);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(a&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let g=null;if(m.status>=200&&m.status<300){try{g=Ua(m.responseText)}catch{Ot("Failed to parse JSON response for "+h+": "+m.responseText)}a(null,g)}else m.status!==401&&m.status!==404&&Ot("Got unsuccessful REST response for "+h+" Status: "+m.status),a(m.status);a=null}},m.open("GET",h,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(){return{value:null,children:new Map}}function kv(r,t,i){if(de(t))r.value=i,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(t,i);else{const a=ae(t);r.children.has(a)||r.children.set(a,Zo());const o=r.children.get(a);t=De(t),kv(o,t,i)}}function Ah(r,t,i){r.value!==null?i(t,r.value):t2(r,(a,o)=>{const c=new ke(t.toString()+"/"+a);Ah(o,c,i)})}function t2(r,t){r.children.forEach((i,a)=>{t(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&kt(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=10*1e3,i2=30*1e3,r2=300*1e3;class s2{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new n2(t);const a=L0+(i2-L0)*Math.random();ka(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const t=this.statsListener_.get(),i={};let a=!1;kt(t,(o,c)=>{c>0&&Jn(this.statsToReport_,o)&&(i[o]=c,a=!0)}),a&&this.server_.reportStats(i),ka(this.reportStats_.bind(this),Math.floor(Math.random()*2*r2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(an||(an={}));function Dv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function hf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ff(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t,i,a){this.path=t,this.affectedTree=i,this.revert=a,this.type=an.ACK_USER_WRITE,this.source=Dv()}operationForChild(t){if(de(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new ke(t));return new Jo(ve(),i,this.revert)}}else return H(ae(this.path)===t,"operationForChild called for unrelated child."),new Jo(De(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,i){this.source=t,this.path=i,this.type=an.LISTEN_COMPLETE}operationForChild(t){return de(this.path)?new qa(this.source,ve()):new qa(this.source,De(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t,i,a){this.source=t,this.path=i,this.snap=a,this.type=an.OVERWRITE}operationForChild(t){return de(this.path)?new mr(this.source,ve(),this.snap.getImmediateChild(t)):new mr(this.source,De(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,i,a){this.source=t,this.path=i,this.children=a,this.type=an.MERGE}operationForChild(t){if(de(this.path)){const i=this.children.subtree(new ke(t));return i.isEmpty()?null:i.value?new mr(this.source,ve(),i.value):new Ga(this.source,ve(),i)}else return H(ae(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ga(this.source,De(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t,i,a){this.node_=t,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(de(t))return this.isFullyInitialized()&&!this.filtered_;const i=ae(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function l2(r,t,i,a){const o=[],c=[];return t.forEach(h=>{h.type==="child_changed"&&r.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(ZT(h.childName,h.snapshotNode))}),wa(r,o,"child_removed",t,a,i),wa(r,o,"child_added",t,a,i),wa(r,o,"child_moved",c,a,i),wa(r,o,"child_changed",t,a,i),wa(r,o,"value",t,a,i),o}function wa(r,t,i,a,o,c){const h=a.filter(m=>m.type===i);h.sort((m,g)=>c2(r,m,g)),h.forEach(m=>{const g=o2(r,m,c);o.forEach(f=>{f.respondsTo(m.type)&&t.push(f.createEvent(g,r.query_))})})}function o2(r,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,r.index_)),t}function c2(r,t,i){if(t.childName==null||i.childName==null)throw _s("Should only compare child_ events.");const a=new le(t.childName,t.snapshotNode),o=new le(i.childName,i.snapshotNode);return r.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(r,t){return{eventCache:r,serverCache:t}}function Da(r,t,i,a){return yc(new ji(t,i,a),r.serverCache)}function Mv(r,t,i,a){return yc(r.eventCache,new ji(t,i,a))}function $o(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function pr(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh;const u2=()=>(dh||(dh=new At(Ww)),dh);class Le{static fromObject(t){let i=new Le(null);return kt(t,(a,o)=>{i=i.set(new ke(a),o)}),i}constructor(t,i=u2()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:ve(),value:this.value};if(de(t))return null;{const a=ae(t),o=this.children.get(a);if(o!==null){const c=o.findRootMostMatchingPathAndValue(De(t),i);return c!=null?{path:nt(new ke(a),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(de(t))return this;{const i=ae(t),a=this.children.get(i);return a!==null?a.subtree(De(t)):new Le(null)}}set(t,i){if(de(t))return new Le(i,this.children);{const a=ae(t),c=(this.children.get(a)||new Le(null)).set(De(t),i),h=this.children.insert(a,c);return new Le(this.value,h)}}remove(t){if(de(t))return this.children.isEmpty()?new Le(null):new Le(null,this.children);{const i=ae(t),a=this.children.get(i);if(a){const o=a.remove(De(t));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new Le(null):new Le(this.value,c)}else return this}}get(t){if(de(t))return this.value;{const i=ae(t),a=this.children.get(i);return a?a.get(De(t)):null}}setTree(t,i){if(de(t))return i;{const a=ae(t),c=(this.children.get(a)||new Le(null)).setTree(De(t),i);let h;return c.isEmpty()?h=this.children.remove(a):h=this.children.insert(a,c),new Le(this.value,h)}}fold(t){return this.fold_(ve(),t)}fold_(t,i){const a={};return this.children.inorderTraversal((o,c)=>{a[o]=c.fold_(nt(t,o),i)}),i(t,this.value,a)}findOnPath(t,i){return this.findOnPath_(t,ve(),i)}findOnPath_(t,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(de(t))return null;{const c=ae(t),h=this.children.get(c);return h?h.findOnPath_(De(t),nt(i,c),a):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,ve(),i)}foreachOnPath_(t,i,a){if(de(t))return this;{this.value&&a(i,this.value);const o=ae(t),c=this.children.get(o);return c?c.foreachOnPath_(De(t),nt(i,o),a):new Le(null)}}foreach(t){this.foreach_(ve(),t)}foreach_(t,i){this.children.inorderTraversal((a,o)=>{o.foreach_(nt(t,a),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,a)=>{a.value&&t(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.writeTree_=t}static empty(){return new on(new Le(null))}}function Ma(r,t,i){if(de(t))return new on(new Le(i));{const a=r.writeTree_.findRootMostValueAndPath(t);if(a!=null){const o=a.path;let c=a.value;const h=vt(o,t);return c=c.updateChild(h,i),new on(r.writeTree_.set(o,c))}else{const o=new Le(i),c=r.writeTree_.setTree(t,o);return new on(c)}}}function U0(r,t,i){let a=r;return kt(i,(o,c)=>{a=Ma(a,nt(t,o),c)}),a}function z0(r,t){if(de(t))return on.empty();{const i=r.writeTree_.setTree(t,new Le(null));return new on(i)}}function Rh(r,t){return _r(r,t)!=null}function _r(r,t){const i=r.writeTree_.findRootMostValueAndPath(t);return i!=null?r.writeTree_.get(i.path).getChild(vt(i.path,t)):null}function P0(r){const t=[],i=r.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(qe,(a,o)=>{t.push(new le(a,o))}):r.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&t.push(new le(a,o.value))}),t}function Di(r,t){if(de(t))return r;{const i=_r(r,t);return i!=null?new on(new Le(i)):new on(r.writeTree_.subtree(t))}}function Oh(r){return r.writeTree_.isEmpty()}function ms(r,t){return Iv(ve(),r.writeTree_,t)}function Iv(r,t,i){if(t.value!=null)return i.updateChild(r,t.value);{let a=null;return t.children.inorderTraversal((o,c)=>{o===".priority"?(H(c.value!==null,"Priority writes must always be leaf nodes"),a=c.value):i=Iv(nt(r,o),c,i)}),!i.getChild(r).isEmpty()&&a!==null&&(i=i.updateChild(nt(r,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(r,t){return zv(t,r)}function d2(r,t,i,a,o){H(a>r.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),r.allWrites.push({path:t,snap:i,writeId:a,visible:o}),o&&(r.visibleWrites=Ma(r.visibleWrites,t,i)),r.lastWriteId=a}function h2(r,t){for(let i=0;i<r.allWrites.length;i++){const a=r.allWrites[i];if(a.writeId===t)return a}return null}function f2(r,t){const i=r.allWrites.findIndex(m=>m.writeId===t);H(i>=0,"removeWrite called with nonexistent writeId.");const a=r.allWrites[i];r.allWrites.splice(i,1);let o=a.visible,c=!1,h=r.allWrites.length-1;for(;o&&h>=0;){const m=r.allWrites[h];m.visible&&(h>=i&&m2(m,a.path)?o=!1:sn(a.path,m.path)&&(c=!0)),h--}if(o){if(c)return p2(r),!0;if(a.snap)r.visibleWrites=z0(r.visibleWrites,a.path);else{const m=a.children;kt(m,g=>{r.visibleWrites=z0(r.visibleWrites,nt(a.path,g))})}return!0}else return!1}function m2(r,t){if(r.snap)return sn(r.path,t);for(const i in r.children)if(r.children.hasOwnProperty(i)&&sn(nt(r.path,i),t))return!0;return!1}function p2(r){r.visibleWrites=jv(r.allWrites,g2,ve()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function g2(r){return r.visible}function jv(r,t,i){let a=on.empty();for(let o=0;o<r.length;++o){const c=r[o];if(t(c)){const h=c.path;let m;if(c.snap)sn(i,h)?(m=vt(i,h),a=Ma(a,m,c.snap)):sn(h,i)&&(m=vt(h,i),a=Ma(a,ve(),c.snap.getChild(m)));else if(c.children){if(sn(i,h))m=vt(i,h),a=U0(a,m,c.children);else if(sn(h,i))if(m=vt(h,i),de(m))a=U0(a,ve(),c.children);else{const g=us(c.children,ae(m));if(g){const f=g.getChild(De(m));a=Ma(a,ve(),f)}}}else throw _s("WriteRecord should have .snap or .children")}}return a}function Lv(r,t,i,a,o){if(!a&&!o){const c=_r(r.visibleWrites,t);if(c!=null)return c;{const h=Di(r.visibleWrites,t);if(Oh(h))return i;if(i==null&&!Rh(h,ve()))return null;{const m=i||ee.EMPTY_NODE;return ms(h,m)}}}else{const c=Di(r.visibleWrites,t);if(!o&&Oh(c))return i;if(!o&&i==null&&!Rh(c,ve()))return null;{const h=function(f){return(f.visible||o)&&(!a||!~a.indexOf(f.writeId))&&(sn(f.path,t)||sn(t,f.path))},m=jv(r.allWrites,h,t),g=i||ee.EMPTY_NODE;return ms(m,g)}}}function y2(r,t,i){let a=ee.EMPTY_NODE;const o=_r(r.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(qe,(c,h)=>{a=a.updateImmediateChild(c,h)}),a;if(i){const c=Di(r.visibleWrites,t);return i.forEachChild(qe,(h,m)=>{const g=ms(Di(c,new ke(h)),m);a=a.updateImmediateChild(h,g)}),P0(c).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}else{const c=Di(r.visibleWrites,t);return P0(c).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}}function _2(r,t,i,a,o){H(a||o,"Either existingEventSnap or existingServerSnap must exist");const c=nt(t,i);if(Rh(r.visibleWrites,c))return null;{const h=Di(r.visibleWrites,c);return Oh(h)?o.getChild(i):ms(h,o.getChild(i))}}function v2(r,t,i,a){const o=nt(t,i),c=_r(r.visibleWrites,o);if(c!=null)return c;if(a.isCompleteForChild(i)){const h=Di(r.visibleWrites,o);return ms(h,a.getNode().getImmediateChild(i))}else return null}function b2(r,t){return _r(r.visibleWrites,t)}function x2(r,t,i,a,o,c,h){let m;const g=Di(r.visibleWrites,t),f=_r(g,ve());if(f!=null)m=f;else if(i!=null)m=ms(g,i);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const _=[],b=h.getCompare(),x=c?m.getReverseIteratorFrom(a,h):m.getIteratorFrom(a,h);let A=x.getNext();for(;A&&_.length<o;)b(A,a)!==0&&_.push(A),A=x.getNext();return _}else return[]}function S2(){return{visibleWrites:on.empty(),allWrites:[],lastWriteId:-1}}function ec(r,t,i,a){return Lv(r.writeTree,r.treePath,t,i,a)}function mf(r,t){return y2(r.writeTree,r.treePath,t)}function H0(r,t,i,a){return _2(r.writeTree,r.treePath,t,i,a)}function tc(r,t){return b2(r.writeTree,nt(r.treePath,t))}function E2(r,t,i,a,o,c){return x2(r.writeTree,r.treePath,t,i,a,o,c)}function pf(r,t,i){return v2(r.writeTree,r.treePath,t,i)}function Uv(r,t){return zv(nt(r.treePath,t),r.writeTree)}function zv(r,t){return{treePath:r,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,a=t.childName;H(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),H(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(a,Ba(a,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(a,Ha(a,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(a,fs(a,t.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(a,Ba(a,t.snapshotNode,o.oldSnap));else throw _s("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(a,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{getCompleteChild(t){return null}getChildAfterChild(t,i,a){return null}}const Pv=new w2;class gf{constructor(t,i,a=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const a=this.optCompleteServerCache_!=null?new ji(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pf(this.writes_,t,a)}}getChildAfterChild(t,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:pr(this.viewCache_),c=E2(this.writes_,o,i,1,a,t);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(r){return{filter:r}}function N2(r,t){H(t.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),H(t.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function A2(r,t,i,a,o){const c=new C2;let h,m;if(i.type===an.OVERWRITE){const f=i;f.source.fromUser?h=kh(r,t,f.path,f.snap,a,o,c):(H(f.source.fromServer,"Unknown source."),m=f.source.tagged||t.serverCache.isFiltered()&&!de(f.path),h=nc(r,t,f.path,f.snap,a,o,m,c))}else if(i.type===an.MERGE){const f=i;f.source.fromUser?h=O2(r,t,f.path,f.children,a,o,c):(H(f.source.fromServer,"Unknown source."),m=f.source.tagged||t.serverCache.isFiltered(),h=Dh(r,t,f.path,f.children,a,o,m,c))}else if(i.type===an.ACK_USER_WRITE){const f=i;f.revert?h=M2(r,t,f.path,a,o,c):h=k2(r,t,f.path,f.affectedTree,a,o,c)}else if(i.type===an.LISTEN_COMPLETE)h=D2(r,t,i.path,a,c);else throw _s("Unknown operation type: "+i.type);const g=c.getChanges();return R2(t,h,g),{viewCache:h,changes:g}}function R2(r,t,i){const a=t.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),c=$o(r);(i.length>0||!r.eventCache.isFullyInitialized()||o&&!a.getNode().equals(c)||!a.getNode().getPriority().equals(c.getPriority()))&&i.push(Ov($o(t)))}}function Hv(r,t,i,a,o,c){const h=t.eventCache;if(tc(a,i)!=null)return t;{let m,g;if(de(i))if(H(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const f=pr(t),_=f instanceof ee?f:ee.EMPTY_NODE,b=mf(a,_);m=r.filter.updateFullNode(t.eventCache.getNode(),b,c)}else{const f=ec(a,pr(t));m=r.filter.updateFullNode(t.eventCache.getNode(),f,c)}else{const f=ae(i);if(f===".priority"){H(Ii(i)===1,"Can't have a priority with additional path components");const _=h.getNode();g=t.serverCache.getNode();const b=H0(a,i,_,g);b!=null?m=r.filter.updatePriority(_,b):m=h.getNode()}else{const _=De(i);let b;if(h.isCompleteForChild(f)){g=t.serverCache.getNode();const x=H0(a,i,h.getNode(),g);x!=null?b=h.getNode().getImmediateChild(f).updateChild(_,x):b=h.getNode().getImmediateChild(f)}else b=pf(a,f,t.serverCache);b!=null?m=r.filter.updateChild(h.getNode(),f,b,_,o,c):m=h.getNode()}}return Da(t,m,h.isFullyInitialized()||de(i),r.filter.filtersNodes())}}function nc(r,t,i,a,o,c,h,m){const g=t.serverCache;let f;const _=h?r.filter:r.filter.getIndexedFilter();if(de(i))f=_.updateFullNode(g.getNode(),a,null);else if(_.filtersNodes()&&!g.isFiltered()){const A=g.getNode().updateChild(i,a);f=_.updateFullNode(g.getNode(),A,null)}else{const A=ae(i);if(!g.isCompleteForPath(i)&&Ii(i)>1)return t;const D=De(i),U=g.getNode().getImmediateChild(A).updateChild(D,a);A===".priority"?f=_.updatePriority(g.getNode(),U):f=_.updateChild(g.getNode(),A,U,D,Pv,null)}const b=Mv(t,f,g.isFullyInitialized()||de(i),_.filtersNodes()),x=new gf(o,b,c);return Hv(r,b,i,o,x,m)}function kh(r,t,i,a,o,c,h){const m=t.eventCache;let g,f;const _=new gf(o,t,c);if(de(i))f=r.filter.updateFullNode(t.eventCache.getNode(),a,h),g=Da(t,f,!0,r.filter.filtersNodes());else{const b=ae(i);if(b===".priority")f=r.filter.updatePriority(t.eventCache.getNode(),a),g=Da(t,f,m.isFullyInitialized(),m.isFiltered());else{const x=De(i),A=m.getNode().getImmediateChild(b);let D;if(de(x))D=a;else{const P=_.getCompleteChild(b);P!=null?xv(x)===".priority"&&P.getChild(Ev(x)).isEmpty()?D=P:D=P.updateChild(x,a):D=ee.EMPTY_NODE}if(A.equals(D))g=t;else{const P=r.filter.updateChild(m.getNode(),b,D,x,_,h);g=Da(t,P,m.isFullyInitialized(),r.filter.filtersNodes())}}}return g}function B0(r,t){return r.eventCache.isCompleteForChild(t)}function O2(r,t,i,a,o,c,h){let m=t;return a.foreach((g,f)=>{const _=nt(i,g);B0(t,ae(_))&&(m=kh(r,m,_,f,o,c,h))}),a.foreach((g,f)=>{const _=nt(i,g);B0(t,ae(_))||(m=kh(r,m,_,f,o,c,h))}),m}function V0(r,t,i){return i.foreach((a,o)=>{t=t.updateChild(a,o)}),t}function Dh(r,t,i,a,o,c,h,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,f;de(i)?f=a:f=new Le(null).setTree(i,a);const _=t.serverCache.getNode();return f.children.inorderTraversal((b,x)=>{if(_.hasChild(b)){const A=t.serverCache.getNode().getImmediateChild(b),D=V0(r,A,x);g=nc(r,g,new ke(b),D,o,c,h,m)}}),f.children.inorderTraversal((b,x)=>{const A=!t.serverCache.isCompleteForChild(b)&&x.value===null;if(!_.hasChild(b)&&!A){const D=t.serverCache.getNode().getImmediateChild(b),P=V0(r,D,x);g=nc(r,g,new ke(b),P,o,c,h,m)}}),g}function k2(r,t,i,a,o,c,h){if(tc(o,i)!=null)return t;const m=t.serverCache.isFiltered(),g=t.serverCache;if(a.value!=null){if(de(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return nc(r,t,i,g.getNode().getChild(i),o,c,m,h);if(de(i)){let f=new Le(null);return g.getNode().forEachChild(as,(_,b)=>{f=f.set(new ke(_),b)}),Dh(r,t,i,f,o,c,m,h)}else return t}else{let f=new Le(null);return a.foreach((_,b)=>{const x=nt(i,_);g.isCompleteForPath(x)&&(f=f.set(_,g.getNode().getChild(x)))}),Dh(r,t,i,f,o,c,m,h)}}function D2(r,t,i,a,o){const c=t.serverCache,h=Mv(t,c.getNode(),c.isFullyInitialized()||de(i),c.isFiltered());return Hv(r,h,i,a,Pv,o)}function M2(r,t,i,a,o,c){let h;if(tc(a,i)!=null)return t;{const m=new gf(a,t,o),g=t.eventCache.getNode();let f;if(de(i)||ae(i)===".priority"){let _;if(t.serverCache.isFullyInitialized())_=ec(a,pr(t));else{const b=t.serverCache.getNode();H(b instanceof ee,"serverChildren would be complete if leaf node"),_=mf(a,b)}_=_,f=r.filter.updateFullNode(g,_,c)}else{const _=ae(i);let b=pf(a,_,t.serverCache);b==null&&t.serverCache.isCompleteForChild(_)&&(b=g.getImmediateChild(_)),b!=null?f=r.filter.updateChild(g,_,b,De(i),m,c):t.eventCache.getNode().hasChild(_)?f=r.filter.updateChild(g,_,ee.EMPTY_NODE,De(i),m,c):f=g,f.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=ec(a,pr(t)),h.isLeafNode()&&(f=r.filter.updateFullNode(f,h,c)))}return h=t.serverCache.isFullyInitialized()||tc(a,ve())!=null,Da(t,f,h,r.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new uf(a.getIndex()),c=$T(a);this.processor_=T2(c);const h=i.serverCache,m=i.eventCache,g=o.updateFullNode(ee.EMPTY_NODE,h.getNode(),null),f=c.updateFullNode(ee.EMPTY_NODE,m.getNode(),null),_=new ji(g,h.isFullyInitialized(),o.filtersNodes()),b=new ji(f,m.isFullyInitialized(),c.filtersNodes());this.viewCache_=yc(b,_),this.eventGenerator_=new a2(this.query_)}get query(){return this.query_}}function j2(r){return r.viewCache_.serverCache.getNode()}function L2(r){return $o(r.viewCache_)}function U2(r,t){const i=pr(r.viewCache_);return i&&(r.query._queryParams.loadsAllData()||!de(t)&&!i.getImmediateChild(ae(t)).isEmpty())?i.getChild(t):null}function q0(r){return r.eventRegistrations_.length===0}function z2(r,t){r.eventRegistrations_.push(t)}function G0(r,t,i){const a=[];if(i){H(t==null,"A cancel should cancel all event registrations.");const o=r.query._path;r.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(i,o);h&&a.push(h)})}if(t){let o=[];for(let c=0;c<r.eventRegistrations_.length;++c){const h=r.eventRegistrations_[c];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(r.eventRegistrations_.slice(c+1));break}}r.eventRegistrations_=o}else r.eventRegistrations_=[];return a}function F0(r,t,i,a){t.type===an.MERGE&&t.source.queryId!==null&&(H(pr(r.viewCache_),"We should always have a full cache before handling merges"),H($o(r.viewCache_),"Missing event cache, even though we have a server cache"));const o=r.viewCache_,c=A2(r.processor_,o,t,i,a);return N2(r.processor_,c.viewCache),H(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=c.viewCache,Bv(r,c.changes,c.viewCache.eventCache.getNode(),null)}function P2(r,t){const i=r.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(qe,(c,h)=>{a.push(fs(c,h))}),i.isFullyInitialized()&&a.push(Ov(i.getNode())),Bv(r,a,i.getNode(),t)}function Bv(r,t,i,a){const o=a?[a]:r.eventRegistrations_;return l2(r.eventGenerator_,t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic;class Vv{constructor(){this.views=new Map}}function H2(r){H(!ic,"__referenceConstructor has already been defined"),ic=r}function B2(){return H(ic,"Reference.ts has not been loaded"),ic}function V2(r){return r.views.size===0}function yf(r,t,i,a){const o=t.source.queryId;if(o!==null){const c=r.views.get(o);return H(c!=null,"SyncTree gave us an op for an invalid query."),F0(c,t,i,a)}else{let c=[];for(const h of r.views.values())c=c.concat(F0(h,t,i,a));return c}}function qv(r,t,i,a,o){const c=t._queryIdentifier,h=r.views.get(c);if(!h){let m=ec(i,o?a:null),g=!1;m?g=!0:a instanceof ee?(m=mf(i,a),g=!1):(m=ee.EMPTY_NODE,g=!1);const f=yc(new ji(m,g,!1),new ji(a,o,!1));return new I2(t,f)}return h}function q2(r,t,i,a,o,c){const h=qv(r,t,a,o,c);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,h),z2(h,i),P2(h,i)}function G2(r,t,i,a){const o=t._queryIdentifier,c=[];let h=[];const m=Li(r);if(o==="default")for(const[g,f]of r.views.entries())h=h.concat(G0(f,i,a)),q0(f)&&(r.views.delete(g),f.query._queryParams.loadsAllData()||c.push(f.query));else{const g=r.views.get(o);g&&(h=h.concat(G0(g,i,a)),q0(g)&&(r.views.delete(o),g.query._queryParams.loadsAllData()||c.push(g.query)))}return m&&!Li(r)&&c.push(new(B2())(t._repo,t._path)),{removed:c,events:h}}function Gv(r){const t=[];for(const i of r.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Mi(r,t){let i=null;for(const a of r.views.values())i=i||U2(a,t);return i}function Fv(r,t){if(t._queryParams.loadsAllData())return vc(r);{const a=t._queryIdentifier;return r.views.get(a)}}function Yv(r,t){return Fv(r,t)!=null}function Li(r){return vc(r)!=null}function vc(r){for(const t of r.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc;function F2(r){H(!rc,"__referenceConstructor has already been defined"),rc=r}function Y2(){return H(rc,"Reference.ts has not been loaded"),rc}let Q2=1;class Y0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Le(null),this.pendingWriteTree_=S2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Qv(r,t,i,a,o){return d2(r.pendingWriteTree_,t,i,a,o),o?il(r,new mr(Dv(),t,i)):[]}function cr(r,t,i=!1){const a=h2(r.pendingWriteTree_,t);if(f2(r.pendingWriteTree_,t)){let c=new Le(null);return a.snap!=null?c=c.set(ve(),!0):kt(a.children,h=>{c=c.set(new ke(h),!0)}),il(r,new Jo(a.path,c,i))}else return[]}function nl(r,t,i){return il(r,new mr(hf(),t,i))}function K2(r,t,i){const a=Le.fromObject(i);return il(r,new Ga(hf(),t,a))}function W2(r,t){return il(r,new qa(hf(),t))}function X2(r,t,i){const a=vf(r,i);if(a){const o=bf(a),c=o.path,h=o.queryId,m=vt(c,t),g=new qa(ff(h),m);return xf(r,c,g)}else return[]}function sc(r,t,i,a,o=!1){const c=t._path,h=r.syncPointTree_.get(c);let m=[];if(h&&(t._queryIdentifier==="default"||Yv(h,t))){const g=G2(h,t,i,a);V2(h)&&(r.syncPointTree_=r.syncPointTree_.remove(c));const f=g.removed;if(m=g.events,!o){const _=f.findIndex(x=>x._queryParams.loadsAllData())!==-1,b=r.syncPointTree_.findOnPath(c,(x,A)=>Li(A));if(_&&!b){const x=r.syncPointTree_.subtree(c);if(!x.isEmpty()){const A=$2(x);for(let D=0;D<A.length;++D){const P=A[D],U=P.query,B=Zv(r,P);r.listenProvider_.startListening(Ia(U),Fa(r,U),B.hashFn,B.onComplete)}}}!b&&f.length>0&&!a&&(_?r.listenProvider_.stopListening(Ia(t),null):f.forEach(x=>{const A=r.queryToTagMap.get(bc(x));r.listenProvider_.stopListening(Ia(x),A)}))}eN(r,f)}return m}function Kv(r,t,i,a){const o=vf(r,a);if(o!=null){const c=bf(o),h=c.path,m=c.queryId,g=vt(h,t),f=new mr(ff(m),g,i);return xf(r,h,f)}else return[]}function Z2(r,t,i,a){const o=vf(r,a);if(o){const c=bf(o),h=c.path,m=c.queryId,g=vt(h,t),f=Le.fromObject(i),_=new Ga(ff(m),g,f);return xf(r,h,_)}else return[]}function Mh(r,t,i,a=!1){const o=t._path;let c=null,h=!1;r.syncPointTree_.foreachOnPath(o,(x,A)=>{const D=vt(x,o);c=c||Mi(A,D),h=h||Li(A)});let m=r.syncPointTree_.get(o);m?(h=h||Li(m),c=c||Mi(m,ve())):(m=new Vv,r.syncPointTree_=r.syncPointTree_.set(o,m));let g;c!=null?g=!0:(g=!1,c=ee.EMPTY_NODE,r.syncPointTree_.subtree(o).foreachChild((A,D)=>{const P=Mi(D,ve());P&&(c=c.updateImmediateChild(A,P))}));const f=Yv(m,t);if(!f&&!t._queryParams.loadsAllData()){const x=bc(t);H(!r.queryToTagMap.has(x),"View does not exist, but we have a tag");const A=tN();r.queryToTagMap.set(x,A),r.tagToQueryMap.set(A,x)}const _=_c(r.pendingWriteTree_,o);let b=q2(m,t,i,_,c,g);if(!f&&!h&&!a){const x=Fv(m,t);b=b.concat(nN(r,t,x))}return b}function _f(r,t,i){const o=r.pendingWriteTree_,c=r.syncPointTree_.findOnPath(t,(h,m)=>{const g=vt(h,t),f=Mi(m,g);if(f)return f});return Lv(o,t,c,i,!0)}function J2(r,t){const i=t._path;let a=null;r.syncPointTree_.foreachOnPath(i,(f,_)=>{const b=vt(f,i);a=a||Mi(_,b)});let o=r.syncPointTree_.get(i);o?a=a||Mi(o,ve()):(o=new Vv,r.syncPointTree_=r.syncPointTree_.set(i,o));const c=a!=null,h=c?new ji(a,!0,!1):null,m=_c(r.pendingWriteTree_,t._path),g=qv(o,t,m,c?h.getNode():ee.EMPTY_NODE,c);return L2(g)}function il(r,t){return Wv(t,r.syncPointTree_,null,_c(r.pendingWriteTree_,ve()))}function Wv(r,t,i,a){if(de(r.path))return Xv(r,t,i,a);{const o=t.get(ve());i==null&&o!=null&&(i=Mi(o,ve()));let c=[];const h=ae(r.path),m=r.operationForChild(h),g=t.children.get(h);if(g&&m){const f=i?i.getImmediateChild(h):null,_=Uv(a,h);c=c.concat(Wv(m,g,f,_))}return o&&(c=c.concat(yf(o,r,a,i))),c}}function Xv(r,t,i,a){const o=t.get(ve());i==null&&o!=null&&(i=Mi(o,ve()));let c=[];return t.children.inorderTraversal((h,m)=>{const g=i?i.getImmediateChild(h):null,f=Uv(a,h),_=r.operationForChild(h);_&&(c=c.concat(Xv(_,m,g,f)))}),o&&(c=c.concat(yf(o,r,a,i))),c}function Zv(r,t){const i=t.query,a=Fa(r,i);return{hashFn:()=>(j2(t)||ee.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?X2(r,i._path,a):W2(r,i._path);{const c=Jw(o,i);return sc(r,i,null,c)}}}}function Fa(r,t){const i=bc(t);return r.queryToTagMap.get(i)}function bc(r){return r._path.toString()+"$"+r._queryIdentifier}function vf(r,t){return r.tagToQueryMap.get(t)}function bf(r){const t=r.indexOf("$");return H(t!==-1&&t<r.length-1,"Bad queryKey."),{queryId:r.substr(t+1),path:new ke(r.substr(0,t))}}function xf(r,t,i){const a=r.syncPointTree_.get(t);H(a,"Missing sync point for query tag that we're tracking");const o=_c(r.pendingWriteTree_,t);return yf(a,i,o,null)}function $2(r){return r.fold((t,i,a)=>{if(i&&Li(i))return[vc(i)];{let o=[];return i&&(o=Gv(i)),kt(a,(c,h)=>{o=o.concat(h)}),o}})}function Ia(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(Y2())(r._repo,r._path):r}function eN(r,t){for(let i=0;i<t.length;++i){const a=t[i];if(!a._queryParams.loadsAllData()){const o=bc(a),c=r.queryToTagMap.get(o);r.queryToTagMap.delete(o),r.tagToQueryMap.delete(c)}}}function tN(){return Q2++}function nN(r,t,i){const a=t._path,o=Fa(r,t),c=Zv(r,i),h=r.listenProvider_.startListening(Ia(t),o,c.hashFn,c.onComplete),m=r.syncPointTree_.subtree(a);if(o)H(!Li(m.value),"If we're adding a query, it shouldn't be shadowed");else{const g=m.fold((f,_,b)=>{if(!de(f)&&_&&Li(_))return[vc(_).query];{let x=[];return _&&(x=x.concat(Gv(_).map(A=>A.query))),kt(b,(A,D)=>{x=x.concat(D)}),x}});for(let f=0;f<g.length;++f){const _=g[f];r.listenProvider_.stopListening(Ia(_),Fa(r,_))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Sf(i)}node(){return this.node_}}class Ef{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=nt(this.path_,t);return new Ef(this.syncTree_,i)}node(){return _f(this.syncTree_,this.path_)}}const iN=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},Q0=function(r,t,i){if(!r||typeof r!="object")return r;if(H(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return rN(r[".sv"],t,i);if(typeof r[".sv"]=="object")return sN(r[".sv"],t);H(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},rN=function(r,t,i){switch(r){case"timestamp":return i.timestamp;default:H(!1,"Unexpected server value: "+r)}},sN=function(r,t,i){r.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const a=r.increment;typeof a!="number"&&H(!1,"Unexpected increment value: "+a);const o=t.node();if(H(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const h=o.getValue();return typeof h!="number"?a:h+a},aN=function(r,t,i,a){return Cf(t,new Ef(i,r),a)},Jv=function(r,t,i){return Cf(r,new Sf(t),i)};function Cf(r,t,i){const a=r.getPriority().val(),o=Q0(a,t.getImmediateChild(".priority"),i);let c;if(r.isLeafNode()){const h=r,m=Q0(h.getValue(),t,i);return m!==h.getValue()||o!==h.getPriority().val()?new st(m,lt(o)):r}else{const h=r;return c=h,o!==h.getPriority().val()&&(c=c.updatePriority(new st(o))),h.forEachChild(qe,(m,g)=>{const f=Cf(g,t.getImmediateChild(m),i);f!==g&&(c=c.updateImmediateChild(m,f))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t="",i=null,a={children:{},childCount:0}){this.name=t,this.parent=i,this.node=a}}function Tf(r,t){let i=t instanceof ke?t:new ke(t),a=r,o=ae(i);for(;o!==null;){const c=us(a.node.children,o)||{children:{},childCount:0};a=new wf(o,a,c),i=De(i),o=ae(i)}return a}function Cs(r){return r.node.value}function $v(r,t){r.node.value=t,Ih(r)}function eb(r){return r.node.childCount>0}function lN(r){return Cs(r)===void 0&&!eb(r)}function xc(r,t){kt(r.node.children,(i,a)=>{t(new wf(i,r,a))})}function tb(r,t,i,a){i&&t(r),xc(r,o=>{tb(o,t,!0)})}function oN(r,t,i){let a=r.parent;for(;a!==null;){if(t(a))return!0;a=a.parent}return!1}function rl(r){return new ke(r.parent===null?r.name:rl(r.parent)+"/"+r.name)}function Ih(r){r.parent!==null&&cN(r.parent,r.name,r)}function cN(r,t,i){const a=lN(i),o=Jn(r.node.children,t);a&&o?(delete r.node.children[t],r.node.childCount--,Ih(r)):!a&&!o&&(r.node.children[t]=i.node,r.node.childCount++,Ih(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=/[\[\].#$\/\u0000-\u001F\u007F]/,dN=/[\[\].#$\u0000-\u001F\u007F]/,hh=10*1024*1024,nb=function(r){return typeof r=="string"&&r.length!==0&&!uN.test(r)},ib=function(r){return typeof r=="string"&&r.length!==0&&!dN.test(r)},hN=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),ib(r)},rb=function(r,t,i,a){a&&t===void 0||Nf(Jh(r,"value"),t,i)},Nf=function(r,t,i){const a=i instanceof ke?new kT(i,r):i;if(t===void 0)throw new Error(r+"contains undefined "+lr(a));if(typeof t=="function")throw new Error(r+"contains a function "+lr(a)+" with contents = "+t.toString());if(ev(t))throw new Error(r+"contains "+t.toString()+" "+lr(a));if(typeof t=="string"&&t.length>hh/3&&pc(t)>hh)throw new Error(r+"contains a string greater than "+hh+" utf8 bytes "+lr(a)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,c=!1;if(kt(t,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(c=!0,!nb(h)))throw new Error(r+" contains an invalid key ("+h+") "+lr(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);DT(a,h),Nf(r,m,a),MT(a)}),o&&c)throw new Error(r+' contains ".value" child '+lr(a)+" in addition to actual children.")}},sb=function(r,t,i,a){if(!ib(i))throw new Error(Jh(r,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},fN=function(r,t,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),sb(r,t,i)},ab=function(r,t){if(ae(t)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},mN=function(r,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!nb(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!hN(i))throw new Error(Jh(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Af(r,t){let i=null;for(let a=0;a<t.length;a++){const o=t[a],c=o.getPath();i!==null&&!lf(c,i.path)&&(r.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&r.eventLists_.push(i)}function lb(r,t,i){Af(r,i),ob(r,a=>lf(a,t))}function vn(r,t,i){Af(r,i),ob(r,a=>sn(a,t)||sn(t,a))}function ob(r,t){r.recursionDepth_++;let i=!0;for(let a=0;a<r.eventLists_.length;a++){const o=r.eventLists_[a];if(o){const c=o.path;t(c)?(gN(r.eventLists_[a]),r.eventLists_[a]=null):i=!1}}i&&(r.eventLists_=[]),r.recursionDepth_--}function gN(r){for(let t=0;t<r.events.length;t++){const i=r.events[t];if(i!==null){r.events[t]=null;const a=i.getEventRunner();Oa&&pt("event: "+i.toString()),Es(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="repo_interrupt",_N=25;class vN{constructor(t,i,a,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zo(),this.transactionQueueTree_=new wf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bN(r,t,i){if(r.stats_=sf(r.repoInfo_),r.forceRestClient_||nT())r.server_=new Xo(r.repoInfo_,(a,o,c,h)=>{K0(r,a,o,c,h)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>W0(r,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}r.persistentConnection_=new Gn(r.repoInfo_,t,(a,o,c,h)=>{K0(r,a,o,c,h)},a=>{W0(r,a)},a=>{xN(r,a)},r.authTokenProvider_,r.appCheckProvider_,i),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(a=>{r.server_.refreshAuthToken(a)}),r.appCheckProvider_.addTokenChangeListener(a=>{r.server_.refreshAppCheckToken(a.token)}),r.statsReporter_=lT(r.repoInfo_,()=>new s2(r.stats_,r.server_)),r.infoData_=new e2,r.infoSyncTree_=new Y0({startListening:(a,o,c,h)=>{let m=[];const g=r.infoData_.getNode(a._path);return g.isEmpty()||(m=nl(r.infoSyncTree_,a._path,g),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),Of(r,"connected",!1),r.serverSyncTree_=new Y0({startListening:(a,o,c,h)=>(r.server_.listen(a,c,o,(m,g)=>{const f=h(m,g);vn(r.eventQueue_,a._path,f)}),[]),stopListening:(a,o)=>{r.server_.unlisten(a,o)}})}function cb(r){const i=r.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Rf(r){return iN({timestamp:cb(r)})}function K0(r,t,i,a,o){r.dataUpdateCount++;const c=new ke(t);i=r.interceptServerDataCallback_?r.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(a){const g=Fo(i,f=>lt(f));h=Z2(r.serverSyncTree_,c,g,o)}else{const g=lt(i);h=Kv(r.serverSyncTree_,c,g,o)}else if(a){const g=Fo(i,f=>lt(f));h=K2(r.serverSyncTree_,c,g)}else{const g=lt(i);h=nl(r.serverSyncTree_,c,g)}let m=c;h.length>0&&(m=Ec(r,c)),vn(r.eventQueue_,m,h)}function W0(r,t){Of(r,"connected",t),t===!1&&CN(r)}function xN(r,t){kt(t,(i,a)=>{Of(r,i,a)})}function Of(r,t,i){const a=new ke("/.info/"+t),o=lt(i);r.infoData_.updateSnapshot(a,o);const c=nl(r.infoSyncTree_,a,o);vn(r.eventQueue_,a,c)}function ub(r){return r.nextWriteId_++}function SN(r,t,i){const a=J2(r.serverSyncTree_,t);return a!=null?Promise.resolve(a):r.server_.get(t).then(o=>{const c=lt(o).withIndex(t._queryParams.getIndex());Mh(r.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=nl(r.serverSyncTree_,t._path,c);else{const m=Fa(r.serverSyncTree_,t);h=Kv(r.serverSyncTree_,t._path,c,m)}return vn(r.eventQueue_,t._path,h),sc(r.serverSyncTree_,t,i,null,!0),c},o=>(Sc(r,"get for query "+tt(t)+" failed: "+o),Promise.reject(new Error(o))))}function EN(r,t,i,a,o){Sc(r,"set",{path:t.toString(),value:i,priority:a});const c=Rf(r),h=lt(i,a),m=_f(r.serverSyncTree_,t),g=Jv(h,m,c),f=ub(r),_=Qv(r.serverSyncTree_,t,g,f,!0);Af(r.eventQueue_,_),r.server_.put(t.toString(),h.val(!0),(x,A)=>{const D=x==="ok";D||Ot("set at "+t+" failed: "+x);const P=cr(r.serverSyncTree_,f,!D);vn(r.eventQueue_,t,P),NN(r,o,x,A)});const b=pb(r,t);Ec(r,b),vn(r.eventQueue_,b,[])}function CN(r){Sc(r,"onDisconnectEvents");const t=Rf(r),i=Zo();Ah(r.onDisconnect_,ve(),(o,c)=>{const h=aN(o,c,r.serverSyncTree_,t);kv(i,o,h)});let a=[];Ah(i,ve(),(o,c)=>{a=a.concat(nl(r.serverSyncTree_,o,c));const h=pb(r,o);Ec(r,h)}),r.onDisconnect_=Zo(),vn(r.eventQueue_,ve(),a)}function wN(r,t,i){let a;ae(t._path)===".info"?a=Mh(r.infoSyncTree_,t,i):a=Mh(r.serverSyncTree_,t,i),lb(r.eventQueue_,t._path,a)}function X0(r,t,i){let a;ae(t._path)===".info"?a=sc(r.infoSyncTree_,t,i):a=sc(r.serverSyncTree_,t,i),lb(r.eventQueue_,t._path,a)}function TN(r){r.persistentConnection_&&r.persistentConnection_.interrupt(yN)}function Sc(r,...t){let i="";r.persistentConnection_&&(i=r.persistentConnection_.id+":"),pt(i,...t)}function NN(r,t,i,a){t&&Es(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let c=o;a&&(c+=": "+a);const h=new Error(c);h.code=o,t(h)}})}function db(r,t,i){return _f(r.serverSyncTree_,t,i)||ee.EMPTY_NODE}function kf(r,t=r.transactionQueueTree_){if(t||Cc(r,t),Cs(t)){const i=fb(r,t);H(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&AN(r,rl(t),i)}else eb(t)&&xc(t,i=>{kf(r,i)})}function AN(r,t,i){const a=i.map(f=>f.currentWriteId),o=db(r,t,a);let c=o;const h=o.hash();for(let f=0;f<i.length;f++){const _=i[f];H(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const b=vt(t,_.path);c=c.updateChild(b,_.currentOutputSnapshotRaw)}const m=c.val(!0),g=t;r.server_.put(g.toString(),m,f=>{Sc(r,"transaction put response",{path:g.toString(),status:f});let _=[];if(f==="ok"){const b=[];for(let x=0;x<i.length;x++)i[x].status=2,_=_.concat(cr(r.serverSyncTree_,i[x].currentWriteId)),i[x].onComplete&&b.push(()=>i[x].onComplete(null,!0,i[x].currentOutputSnapshotResolved)),i[x].unwatcher();Cc(r,Tf(r.transactionQueueTree_,t)),kf(r,r.transactionQueueTree_),vn(r.eventQueue_,t,_);for(let x=0;x<b.length;x++)Es(b[x])}else{if(f==="datastale")for(let b=0;b<i.length;b++)i[b].status===3?i[b].status=4:i[b].status=0;else{Ot("transaction at "+g.toString()+" failed: "+f);for(let b=0;b<i.length;b++)i[b].status=4,i[b].abortReason=f}Ec(r,t)}},h)}function Ec(r,t){const i=hb(r,t),a=rl(i),o=fb(r,i);return RN(r,o,a),a}function RN(r,t,i){if(t.length===0)return;const a=[];let o=[];const h=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const g=t[m],f=vt(i,g.path);let _=!1,b;if(H(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)_=!0,b=g.abortReason,o=o.concat(cr(r.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=_N)_=!0,b="maxretry",o=o.concat(cr(r.serverSyncTree_,g.currentWriteId,!0));else{const x=db(r,g.path,h);g.currentInputSnapshot=x;const A=t[m].update(x.val());if(A!==void 0){Nf("transaction failed: Data returned ",A,g.path);let D=lt(A);typeof A=="object"&&A!=null&&Jn(A,".priority")||(D=D.updatePriority(x.getPriority()));const U=g.currentWriteId,B=Rf(r),V=Jv(D,x,B);g.currentOutputSnapshotRaw=D,g.currentOutputSnapshotResolved=V,g.currentWriteId=ub(r),h.splice(h.indexOf(U),1),o=o.concat(Qv(r.serverSyncTree_,g.path,V,g.currentWriteId,g.applyLocally)),o=o.concat(cr(r.serverSyncTree_,U,!0))}else _=!0,b="nodata",o=o.concat(cr(r.serverSyncTree_,g.currentWriteId,!0))}vn(r.eventQueue_,i,o),o=[],_&&(t[m].status=2,(function(x){setTimeout(x,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(b==="nodata"?a.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):a.push(()=>t[m].onComplete(new Error(b),!1,null))))}Cc(r,r.transactionQueueTree_);for(let m=0;m<a.length;m++)Es(a[m]);kf(r,r.transactionQueueTree_)}function hb(r,t){let i,a=r.transactionQueueTree_;for(i=ae(t);i!==null&&Cs(a)===void 0;)a=Tf(a,i),t=De(t),i=ae(t);return a}function fb(r,t){const i=[];return mb(r,t,i),i.sort((a,o)=>a.order-o.order),i}function mb(r,t,i){const a=Cs(t);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);xc(t,o=>{mb(r,o,i)})}function Cc(r,t){const i=Cs(t);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,$v(t,i.length>0?i:void 0)}xc(t,a=>{Cc(r,a)})}function pb(r,t){const i=rl(hb(r,t)),a=Tf(r.transactionQueueTree_,t);return oN(a,o=>{fh(r,o)}),fh(r,a),tb(a,o=>{fh(r,o)}),i}function fh(r,t){const i=Cs(t);if(i){const a=[];let o=[],c=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(H(c===h-1,"All SENT items should be at beginning of queue."),c=h,i[h].status=3,i[h].abortReason="set"):(H(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(cr(r.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&a.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));c===-1?$v(t,void 0):i.length=c+1,vn(r.eventQueue_,rl(t),o);for(let h=0;h<a.length;h++)Es(a[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(r){let t="";const i=r.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function kN(r){const t={};r.charAt(0)==="?"&&(r=r.substring(1));for(const i of r.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Ot(`Invalid query segment '${i}' in query '${r}'`)}return t}const Z0=function(r,t){const i=DN(r),a=i.namespace;i.domain==="firebase.com"&&Wn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&Wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||Qw();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new hv(i.host,i.secure,a,o,t,"",a!==i.subdomain),path:new ke(i.pathString)}},DN=function(r){let t="",i="",a="",o="",c="",h=!0,m="https",g=443;if(typeof r=="string"){let f=r.indexOf("//");f>=0&&(m=r.substring(0,f-1),r=r.substring(f+2));let _=r.indexOf("/");_===-1&&(_=r.length);let b=r.indexOf("?");b===-1&&(b=r.length),t=r.substring(0,Math.min(_,b)),_<b&&(o=ON(r.substring(_,b)));const x=kN(r.substring(Math.min(r.length,b)));f=t.indexOf(":"),f>=0?(h=m==="https"||m==="wss",g=parseInt(t.substring(f+1),10)):f=t.length;const A=t.slice(0,f);if(A.toLowerCase()==="localhost")i="localhost";else if(A.split(".").length<=2)i=A;else{const D=t.indexOf(".");a=t.substring(0,D).toLowerCase(),i=t.substring(D+1),c=a}"ns"in x&&(c=x.ns)}return{host:t,port:g,domain:i,subdomain:a,secure:h,scheme:m,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",MN=(function(){let r=0;const t=[];return function(i){const a=i===r;r=i;let o;const c=new Array(8);for(o=7;o>=0;o--)c[o]=J0.charAt(i%64),i=Math.floor(i/64);H(i===0,"Cannot push at time == 0");let h=c.join("");if(a){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=J0.charAt(t[o]);return H(h.length===20,"nextPushId: Length should be 20."),h}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t,i,a,o){this.eventType=t,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tt(this.snapshot.exportVal())}}class jN{constructor(t,i,a){this.eventRegistration=t,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(t,i,a,o){this._repo=t,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return de(this._path)?null:xv(this._path)}get ref(){return new $n(this._repo,this._path)}get _queryIdentifier(){const t=j0(this._queryParams),i=nf(t);return i==="{}"?"default":i}get _queryObject(){return j0(this._queryParams)}isEqual(t){if(t=gt(t),!(t instanceof Df))return!1;const i=this._repo===t._repo,a=lf(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+OT(this._path)}}class $n extends Df{constructor(t,i){super(t,i,new df,!1)}get parent(){const t=Ev(this._path);return t===null?null:new $n(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ya{constructor(t,i,a){this._node=t,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new ke(t),a=Qa(this.ref,t);return new Ya(this._node.getChild(i),a,qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>t(new Ya(o,Qa(this.ref,a),qe)))}hasChild(t){const i=new ke(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Rt(r,t){return r=gt(r),r._checkNotDeleted("ref"),t!==void 0?Qa(r._root,t):r._root}function Qa(r,t){return r=gt(r),ae(r._path)===null?fN("child","path",t):sb("child","path",t),new $n(r._repo,nt(r._path,t))}function LN(r,t){r=gt(r),ab("push",r._path),rb("push",t,r._path,!0);const i=cb(r._repo),a=MN(i),o=Qa(r,a),c=Qa(r,a);let h;return h=Promise.resolve(c),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function Fn(r,t){r=gt(r),ab("set",r._path),rb("set",t,r._path,!1);const i=new mc;return EN(r._repo,r._path,t,null,i.wrapCallback(()=>{})),i.promise}function $0(r){r=gt(r);const t=new gb(()=>{}),i=new wc(t);return SN(r._repo,r,i).then(a=>new Ya(a,new $n(r._repo,r._path),r._queryParams.getIndex()))}class wc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const a=i._queryParams.getIndex();return new IN("value",this,new Ya(t.snapshotNode,new $n(i._repo,i._path),a))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new jN(this,t,i):null}matches(t){return t instanceof wc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function UN(r,t,i,a,o){let c;if(typeof a=="object"&&(c=void 0,o=a),typeof a=="function"&&(c=a),o&&o.onlyOnce){const g=i,f=(_,b)=>{X0(r._repo,r,m),g(_,b)};f.userCallback=i.userCallback,f.context=i.context,i=f}const h=new gb(i,c||void 0),m=new wc(h);return wN(r._repo,r,m),()=>X0(r._repo,r,m)}function zN(r,t,i,a){return UN(r,"value",t,i,a)}H2($n);F2($n);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="FIREBASE_DATABASE_EMULATOR_HOST",jh={};let HN=!1;function BN(r,t,i,a){const o=t.lastIndexOf(":"),c=t.substring(0,o),h=vs(c);r.repoInfo_=new hv(t,h,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(r.authTokenProvider_=a)}function VN(r,t,i,a,o){let c=a||r.options.databaseURL;c===void 0&&(r.options.projectId||Wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pt("Using default host for project ",r.options.projectId),c=`${r.options.projectId}-default-rtdb.firebaseio.com`);let h=Z0(c,o),m=h.repoInfo,g;typeof process<"u"&&y0&&(g=y0[PN]),g?(c=`http://${g}?ns=${m.namespace}`,h=Z0(c,o),m=h.repoInfo):h.repoInfo.secure;const f=new rT(r.name,r.options,t);mN("Invalid Firebase Database URL",h),de(h.path)||Wn("Database URL must point to the root of a Firebase Database (not including a child path).");const _=GN(m,r,f,new iT(r,i));return new FN(_,r)}function qN(r,t){const i=jh[t];(!i||i[r.key]!==r)&&Wn(`Database ${t}(${r.repoInfo_}) has already been deleted.`),TN(r),delete i[r.key]}function GN(r,t,i,a){let o=jh[t.name];o||(o={},jh[t.name]=o);let c=o[r.toURLString()];return c&&Wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new vN(r,HN,i,a),o[r.toURLString()]=c,c}class FN{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $n(this._repo,ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(qN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Wn("Cannot call "+t+" on a deleted database.")}}function sl(r=K_(),t){const i=tf(r,"database").getImmediate({identifier:t});if(!i._instanceStarted){const a=dC("database");a&&YN(i,...a)}return i}function YN(r,t,i,a={}){r=gt(r),r._checkNotDeleted("useEmulator");const o=`${t}:${i}`,c=r._repoInternal;if(r._instanceStarted){if(o===r._repoInternal.repoInfo_.host&&dr(a,c.repoInfo_.emulatorOptions))return;Wn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(c.repoInfo_.nodeAdmin)a.mockUserToken&&Wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Lo(Lo.OWNER);else if(a.mockUserToken){const m=typeof a.mockUserToken=="string"?a.mockUserToken:hC(a.mockUserToken,r.app.options.projectId);h=new Lo(m)}vs(t)&&(B_(t),V_("Database",!0)),BN(c,o,a,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(r){Bw(xs),ds(new hr("database",(t,{instanceIdentifier:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return VN(a,o,c,i)},"PUBLIC").setMultipleInstances(!0)),ki(_0,v0,r),ki(_0,v0,"esm2020")}Gn.prototype.simpleListen=function(r,t){this.sendRequest("q",{p:r},t)};Gn.prototype.echo=function(r,t){this.sendRequest("echo",{d:r},t)};QN();function yb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KN=yb,_b=new Ja("auth","Firebase",yb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new $h("@firebase/auth");function WN(r,...t){ac.logLevel<=Re.WARN&&ac.warn(`Auth (${xs}): ${r}`,...t)}function Uo(r,...t){ac.logLevel<=Re.ERROR&&ac.error(`Auth (${xs}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(r,...t){throw If(r,...t)}function cn(r,...t){return If(r,...t)}function Mf(r,t,i){const a={...KN(),[t]:i};return new Ja("auth","Firebase",a).create(t,{appName:r.name})}function Yn(r){return Mf(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XN(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&$t(r,"argument-error"),Mf(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function If(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return _b.create(r,...t)}function $(r,t,...i){if(!r)throw If(t,...i)}function Bn(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Uo(t),new Error(t)}function Xn(r,t){r||Bn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(){return typeof self<"u"&&self.location?.href||""}function ZN(){return e_()==="http:"||e_()==="https:"}function e_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZN()||gC()||"connection"in navigator)?navigator.onLine:!0}function $N(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t,i){this.shortDelay=t,this.longDelay=i,Xn(i>t,"Short delay should be less than long delay!"),this.isMobile=Zh()||q_()}get(){return JN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(r,t){Xn(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nA=new al(3e4,6e4);function zi(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Pi(r,t,i,a,o={}){return bb(r,o,async()=>{let c={},h={};a&&(t==="GET"?h=a:c={body:JSON.stringify(a)});const m=bs({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const f={method:t,headers:g,...c};return pC()||(f.referrerPolicy="no-referrer"),r.emulatorConfig&&vs(r.emulatorConfig.host)&&(f.credentials="include"),vb.fetch()(await xb(r,r.config.apiHost,i,m),f)})}async function bb(r,t,i){r._canInitEmulator=!1;const a={...eA,...t};try{const o=new rA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Mo(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[g,f]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mo(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Mo(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Mo(r,"user-disabled",h);const _=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Mf(r,_,f);$t(r,_)}}catch(o){if(o instanceof Ui)throw o;$t(r,"network-request-failed",{message:String(o)})}}async function ll(r,t,i,a,o={}){const c=await Pi(r,t,i,a,o);return"mfaPendingCredential"in c&&$t(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function xb(r,t,i,a){const o=`${t}${i}?${a}`,c=r,h=c.config.emulator?jf(r.config,o):`${r.config.apiScheme}://${o}`;return tA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function iA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(cn(this.auth,"network-request-failed")),nA.get())})}}function Mo(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=cn(r,t,a);return o.customData._tokenResponse=i,o}function t_(r){return r!==void 0&&r.enterprise!==void 0}class sA{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return iA(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aA(r,t){return Pi(r,"GET","/v2/recaptchaConfig",zi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(r,t){return Pi(r,"POST","/v1/accounts:delete",t)}async function lc(r,t){return Pi(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oA(r,t=!1){const i=gt(r),a=await i.getIdToken(t),o=Lf(a);$(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:a,authTime:ja(mh(o.auth_time)),issuedAtTime:ja(mh(o.iat)),expirationTime:ja(mh(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function mh(r){return Number(r)*1e3}function Lf(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Uo("JWT malformed, contained fewer than 3 sections"),null;try{const o=Go(i);return o?JSON.parse(o):(Uo("Failed to decode base64 JWT payload"),null)}catch(o){return Uo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function n_(r){const t=Lf(r);return $(t,"internal-error"),$(typeof t.exp<"u","internal-error"),$(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Ui&&cA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function cA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(r){const t=r.auth,i=await r.getIdToken(),a=await Ka(r,lc(t,{idToken:i}));$(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Sb(o.providerUserInfo):[],h=hA(r.providerData,c),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,f=m?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Uh(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(r,_)}async function dA(r){const t=gt(r);await oc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hA(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function Sb(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(r,t){const i=await bb(r,{},async()=>{const a=bs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,h=await xb(r,o,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:a};return r.emulatorConfig&&vs(r.emulatorConfig.host)&&(g.credentials="include"),vb.fetch()(h,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function mA(r,t){return Pi(r,"POST","/v2/accounts:revokeToken",zi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){$(t.idToken,"internal-error"),$(typeof t.idToken<"u","internal-error"),$(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):n_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){$(t.length!==0,"internal-error");const i=n_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await fA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,h=new ls;return a&&($(typeof a=="string","internal-error",{appName:t}),h.refreshToken=a),o&&($(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),c&&($(typeof c=="number","internal-error",{appName:t}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ls,this.toJSON())}_performRefresh(){return Bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(r,t){$(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ln{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new uA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Uh(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Ka(this,this.stsTokenManager.getToken(this.auth,t));return $(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return oA(this,t)}reload(){return dA(this)}_assign(t){this!==t&&($(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ln({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await oc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vt(this.auth.app))return Promise.reject(Yn(this.auth));const t=await this.getIdToken();return await Ka(this,lA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,h=i.photoURL??void 0,m=i.tenantId??void 0,g=i._redirectEventId??void 0,f=i.createdAt??void 0,_=i.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:A,providerData:D,stsTokenManager:P}=i;$(b&&P,t,"internal-error");const U=ls.fromJSON(this.name,P);$(typeof b=="string",t,"internal-error"),wi(a,t.name),wi(o,t.name),$(typeof x=="boolean",t,"internal-error"),$(typeof A=="boolean",t,"internal-error"),wi(c,t.name),wi(h,t.name),wi(m,t.name),wi(g,t.name),wi(f,t.name),wi(_,t.name);const B=new ln({uid:b,auth:t,email:o,emailVerified:x,displayName:a,isAnonymous:A,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:U,createdAt:f,lastLoginAt:_});return D&&Array.isArray(D)&&(B.providerData=D.map(V=>({...V}))),g&&(B._redirectEventId=g),B}static async _fromIdTokenResponse(t,i,a=!1){const o=new ls;o.updateFromServerResponse(i);const c=new ln({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await oc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];$(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Sb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,m=new ls;m.updateFromIdToken(a);const g=new ln({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Uh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,f),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map;function Vn(r){Xn(r instanceof Function,"Expected a class definition");let t=i_.get(r);return t?(Xn(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,i_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Eb.type="NONE";const r_=Eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(r,t,i){return`firebase:${r}:${t}:${i}`}class os{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=zo(this.userKey,o.apiKey,c),this.fullPersistenceKey=zo("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await lc(this.auth,{idToken:t}).catch(()=>{});return i?ln._fromGetAccountInfoResponse(this.auth,i,t):null}return ln._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new os(Vn(r_),t,a);const o=(await Promise.all(i.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let c=o[0]||Vn(r_);const h=zo(a,t.config.apiKey,t.name);let m=null;for(const f of i)try{const _=await f._get(h);if(_){let b;if(typeof _=="string"){const x=await lc(t,{idToken:_}).catch(()=>{});if(!x)break;b=await ln._fromGetAccountInfoResponse(t,x,_)}else b=ln._fromJSON(t,_);f!==c&&(m=b),c=f;break}}catch{}const g=o.filter(f=>f._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new os(c,t,a):(c=g[0],m&&await c._set(h,m.toJSON()),await Promise.all(i.map(async f=>{if(f!==c)try{await f._remove(h)}catch{}})),new os(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Nb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Cb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Rb(t))return"Blackberry";if(Ob(t))return"Webos";if(wb(t))return"Safari";if((t.includes("chrome/")||Tb(t))&&!t.includes("edge/"))return"Chrome";if(Ab(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Cb(r=bt()){return/firefox\//i.test(r)}function wb(r=bt()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Tb(r=bt()){return/crios\//i.test(r)}function Nb(r=bt()){return/iemobile/i.test(r)}function Ab(r=bt()){return/android/i.test(r)}function Rb(r=bt()){return/blackberry/i.test(r)}function Ob(r=bt()){return/webos/i.test(r)}function Uf(r=bt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function pA(r=bt()){return Uf(r)&&!!window.navigator?.standalone}function gA(){return yC()&&document.documentMode===10}function kb(r=bt()){return Uf(r)||Ab(r)||Ob(r)||Rb(r)||/windows phone/i.test(r)||Nb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(r,t=[]){let i;switch(r){case"Browser":i=s_(bt());break;case"Worker":i=`${s_(bt())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${xs}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((h,m)=>{try{const g=t(c);h(g)}catch(g){m(g)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _A(r,t={}){return Pi(r,"GET","/v2/passwordPolicy",zi(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=6;class bA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??vA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a_(this),this.idTokenSubscription=new a_(this),this.beforeStateQueue=new yA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Vn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await os.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await lc(this,{idToken:t}),a=await ln._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Vt(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=a?._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===h)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await oc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$N()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vt(this.app))return Promise.reject(Yn(this));const i=t?gt(t):null;return i&&$(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&$(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vt(this.app)?Promise.reject(Yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vt(this.app)?Promise.reject(Yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _A(this),i=new bA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ja("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await mA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Vn(t)||this._popupRedirectResolver;$(i,this,"argument-error"),this.redirectPersistenceManager=await os.create(this,[Vn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if($(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,a,o);return()=>{h=!0,g()}}else{const g=t.addObserver(i);return()=>{h=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Db(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Vt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&WN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Hi(r){return gt(r)}class a_{constructor(t){this.auth=t,this.observer=null,this.addObserver=NC(i=>this.observer=i)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SA(r){Tc=r}function Mb(r){return Tc.loadJS(r)}function EA(){return Tc.recaptchaEnterpriseScript}function CA(){return Tc.gapiScript}function wA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class TA{constructor(){this.enterprise=new NA}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class NA{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const AA="recaptcha-enterprise",Ib="NO_RECAPTCHA";class RA{constructor(t){this.type=AA,this.auth=Hi(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{aA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const f=new sA(g);return c.tenantId==null?c._agentRecaptchaConfig=f:c._tenantRecaptchaConfigs[c.tenantId]=f,h(f.siteKey)}}).catch(g=>{m(g)})})}function o(c,h,m){const g=window.grecaptcha;t_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:t}).then(f=>{h(f)}).catch(()=>{h(Ib)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TA().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{a(this.auth).then(m=>{if(!i&&t_(window.grecaptcha))o(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=EA();g.length!==0&&(g+=m),Mb(g).then(()=>{o(m,c,h)}).catch(f=>{h(f)})}}).catch(m=>{h(m)})})}}async function l_(r,t,i,a=!1,o=!1){const c=new RA(r);let h;if(o)h=Ib;else try{h=await c.verify(i)}catch{h=await c.verify(i,!0)}const m={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,f=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:f,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function zh(r,t,i,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await l_(r,t,i,i==="getOobCode");return a(r,c)}else return a(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await l_(r,t,i,i==="getOobCode");return a(r,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(r,t){const i=tf(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(dr(c,t??{}))return o;$t(o,"already-initialized")}return i.initialize({options:t})}function kA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Vn);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function DA(r,t,i){const a=Hi(r);$(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=jb(t),{host:h,port:m}=MA(t),g=m===null?"":`:${m}`,f={url:`${c}//${h}${g}/`},_=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){$(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),$(dr(f,a.config.emulator)&&dr(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=f,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,vs(h)?(B_(`${c}//${h}${g}`),V_("Auth",!0)):IA()}function jb(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function MA(r){const t=jb(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:o_(a.substr(c.length+1))}}else{const[c,h]=a.split(":");return{host:c,port:o_(h)}}}function o_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function IA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Bn("not implemented")}_getIdTokenResponse(t){return Bn("not implemented")}_linkToIdToken(t,i){return Bn("not implemented")}_getReauthenticationResolver(t){return Bn("not implemented")}}async function jA(r,t){return Pi(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(r,t){return ll(r,"POST","/v1/accounts:signInWithPassword",zi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(r,t){return ll(r,"POST","/v1/accounts:signInWithEmailLink",zi(r,t))}async function zA(r,t){return ll(r,"POST","/v1/accounts:signInWithEmailLink",zi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends zf{constructor(t,i,a,o=null){super("password",a),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new Wa(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Wa(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zh(t,i,"signInWithPassword",LA);case"emailLink":return UA(t,{email:this._email,oobCode:this._password});default:$t(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zh(t,a,"signUpPassword",jA);case"emailLink":return zA(t,{idToken:i,email:this._email,oobCode:this._password});default:$t(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cs(r,t){return ll(r,"POST","/v1/accounts:signInWithIdp",zi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="http://localhost";class gr extends zf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new gr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):$t("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const h=new gr(a,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return cs(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,cs(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,cs(t,i)}buildRequest(){const t={requestUri:PA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=bs(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BA(r){const t=Na(Aa(r)).link,i=t?Na(Aa(t)).deep_link_id:null,a=Na(Aa(r)).deep_link_id;return(a?Na(Aa(a)).link:null)||a||i||t||r}class Pf{constructor(t){const i=Na(Aa(t)),a=i.apiKey??null,o=i.oobCode??null,c=HA(i.mode??null);$(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=BA(t);try{return new Pf(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.providerId=ws.PROVIDER_ID}static credential(t,i){return Wa._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Pf.parseLink(i);return $(a,"argument-error"),Wa._fromEmailAndCode(t,a.code,a.tenantId)}}ws.PROVIDER_ID="password";ws.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ws.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends Hf{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends ol{constructor(){super("facebook.com")}static credential(t){return gr._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ti.credentialFromTaggedObject(t)}static credentialFromError(t){return Ti.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ti.credential(t.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn extends ol{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return gr._fromParams({providerId:Pn.PROVIDER_ID,signInMethod:Pn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Pn.credentialFromTaggedObject(t)}static credentialFromError(t){return Pn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Pn.credential(i,a)}catch{return null}}}Pn.GOOGLE_SIGN_IN_METHOD="google.com";Pn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends ol{constructor(){super("github.com")}static credential(t){return gr._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ni.credentialFromTaggedObject(t)}static credentialFromError(t){return Ni.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ni.credential(t.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends ol{constructor(){super("twitter.com")}static credential(t,i){return gr._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ai.credentialFromTaggedObject(t)}static credentialFromError(t){return Ai.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Ai.credential(i,a)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(r,t){return ll(r,"POST","/v1/accounts:signUp",zi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await ln._fromIdTokenResponse(t,a,o),h=c_(a);return new yr({user:c,providerId:h,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=c_(a);return new yr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function c_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Ui{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new cc(t,i,a,o)}}function Lb(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?cc._fromErrorAndOperation(r,c,t,a):c})}async function qA(r,t,i=!1){const a=await Ka(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return yr._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(r,t,i=!1){const{auth:a}=r;if(Vt(a.app))return Promise.reject(Yn(a));const o="reauthenticate";try{const c=await Ka(r,Lb(a,o,t,r),i);$(c.idToken,a,"internal-error");const h=Lf(c.idToken);$(h,a,"internal-error");const{sub:m}=h;return $(r.uid===m,a,"user-mismatch"),yr._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&$t(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ub(r,t,i=!1){if(Vt(r.app))return Promise.reject(Yn(r));const a="signIn",o=await Lb(r,a,t),c=await yr._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function FA(r,t){return Ub(Hi(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(r){const t=Hi(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function YA(r,t,i){if(Vt(r.app))return Promise.reject(Yn(r));const a=Hi(r),h=await zh(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VA).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&zb(r),g}),m=await yr._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(m.user),m}function QA(r,t,i){return Vt(r.app)?Promise.reject(Yn(r)):FA(gt(r),ws.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&zb(r),a})}function KA(r,t,i,a){return gt(r).onIdTokenChanged(t,i,a)}function WA(r,t,i){return gt(r).beforeAuthStateChanged(t,i)}function XA(r,t,i,a){return gt(r).onAuthStateChanged(t,i,a)}function ZA(r){return gt(r).signOut()}const uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uc,"1"),this.storage.removeItem(uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=1e3,$A=10;class Hb extends Pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!i&&this.localCache[a]===h||this.notifyListeners(a,h)},c=this.storage.getItem(a);gA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,$A):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},JA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Hb.type="LOCAL";const eR=Hb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb extends Pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Bb.type="SESSION";const Vb=Bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new Nc(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(h).map(async f=>f(i.origin,c)),g=await tR(m);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((m,g)=>{const f=Bf("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(b){const x=b;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(x.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:f,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function iR(r){_n().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function rR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sR(){return navigator?.serviceWorker?.controller||null}function aR(){return qb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="firebaseLocalStorageDb",lR=1,dc="firebaseLocalStorage",Fb="fbase_key";class cl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ac(r,t){return r.transaction([dc],t?"readwrite":"readonly").objectStore(dc)}function oR(){const r=indexedDB.deleteDatabase(Gb);return new cl(r).toPromise()}function Ph(){const r=indexedDB.open(Gb,lR);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(dc,{keyPath:Fb})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(dc)?t(a):(a.close(),await oR(),t(await Ph()))})})}async function u_(r,t,i){const a=Ac(r,!0).put({[Fb]:t,value:i});return new cl(a).toPromise()}async function cR(r,t){const i=Ac(r,!1).get(t),a=await new cl(i).toPromise();return a===void 0?null:a.value}function d_(r,t){const i=Ac(r,!0).delete(t);return new cl(i).toPromise()}const uR=800,dR=3;class Yb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ph(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>dR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nc._getInstance(aR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rR(),!this.activeServiceWorker)return;this.sender=new nR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ph();return await u_(t,uc,"1"),await d_(t,uc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>u_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>cR(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>d_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Ac(o,!1).getAll();return new cl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yb.type="LOCAL";const hR=Yb;new al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(r,t){return t?Vn(t):($(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends zf{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return cs(t,this._buildIdpRequest())}_linkToIdToken(t,i){return cs(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return cs(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function fR(r){return Ub(r.auth,new Vf(r),r.bypassAuthState)}function mR(r){const{auth:t,user:i}=r;return $(i,t,"internal-error"),GA(i,new Vf(r),r.bypassAuthState)}async function pR(r){const{auth:t,user:i}=r;return $(i,t,"internal-error"),qA(i,new Vf(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:h,type:m}=t;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fR;case"linkViaPopup":case"linkViaRedirect":return pR;case"reauthViaPopup":case"reauthViaRedirect":return mR;default:$t(this.auth,"internal-error")}}resolve(t){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new al(2e3,1e4);async function yR(r,t,i){if(Vt(r.app))return Promise.reject(cn(r,"operation-not-supported-in-this-environment"));const a=Hi(r);XN(r,t,Hf);const o=Qb(a,i);return new ur(a,"signInViaPopup",t,o).executeNotNull()}class ur extends Kb{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ur.currentPopupAction&&ur.currentPopupAction.cancel(),ur.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return $(t,this.auth,"internal-error"),t}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const t=Bf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ur.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gR.get())};t()}}ur.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="pendingRedirect",Po=new Map;class vR extends Kb{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Po.get(this.auth._key());if(!t){try{const a=await bR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Po.set(this.auth._key(),t)}return this.bypassAuthState||Po.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bR(r,t){const i=ER(t),a=SR(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function xR(r,t){Po.set(r._key(),t)}function SR(r){return Vn(r._redirectPersistence)}function ER(r){return zo(_R,r.config.apiKey,r.name)}async function CR(r,t,i=!1){if(Vt(r.app))return Promise.reject(Yn(r));const a=Hi(r),o=Qb(a,t),h=await new vR(a,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=600*1e3;class TR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!NR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!Wb(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(cn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wR&&this.cachedEventUids.clear(),this.cachedEventUids.has(h_(t))}saveEventToCache(t){this.cachedEventUids.add(h_(t)),this.lastProcessedEventTime=Date.now()}}function h_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function Wb({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function NR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(r,t={}){return Pi(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OR=/^https?/;async function kR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await AR(r);for(const i of t)try{if(DR(i))return}catch{}$t(r,"unauthorized-domain")}function DR(r){const t=Lh(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===a}if(!OR.test(i))return!1;if(RR.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new al(3e4,6e4);function f_(){const r=_n().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function IR(r){return new Promise((t,i)=>{function a(){f_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{f_(),i(cn(r,"network-request-failed"))},timeout:MR.get()})}if(_n().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(_n().gapi?.load)a();else{const o=wA("iframefcb");return _n()[o]=()=>{gapi.load?a():i(cn(r,"network-request-failed"))},Mb(`${CA()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Ho=null,t})}let Ho=null;function jR(r){return Ho=Ho||IR(r),Ho}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new al(5e3,15e3),UR="__/auth/iframe",zR="emulator/auth/iframe",PR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BR(r){const t=r.config;$(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?jf(t,zR):`https://${r.config.authDomain}/${UR}`,a={apiKey:t.apiKey,appName:r.name,v:xs},o=HR.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${bs(a).slice(1)}`}async function VR(r){const t=await jR(r),i=_n().gapi;return $(i,r,"internal-error"),t.open({where:document.body,url:BR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PR,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const h=cn(r,"network-request-failed"),m=_n().setTimeout(()=>{c(h)},LR.get());function g(){_n().clearTimeout(m),o(a)}a.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GR=500,FR=600,YR="_blank",QR="http://localhost";class m_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KR(r,t,i,a=GR,o=FR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g={...qR,width:a.toString(),height:o.toString(),top:c,left:h},f=bt().toLowerCase();i&&(m=Tb(f)?YR:i),Cb(f)&&(t=t||QR,g.scrollbars="yes");const _=Object.entries(g).reduce((x,[A,D])=>`${x}${A}=${D},`,"");if(pA(f)&&m!=="_self")return WR(t||"",m),new m_(null);const b=window.open(t||"",m,_);$(b,r,"popup-blocked");try{b.focus()}catch{}return new m_(b)}function WR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="__/auth/handler",ZR="emulator/auth/handler",JR=encodeURIComponent("fac");async function p_(r,t,i,a,o,c){$(r.config.authDomain,r,"auth-domain-config-required"),$(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:xs,eventId:o};if(t instanceof Hf){t.setDefaultLanguage(r.languageCode),h.providerId=t.providerId||"",vh(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,b]of Object.entries({}))h[_]=b}if(t instanceof ol){const _=t.getScopes().filter(b=>b!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await r._getAppCheckToken(),f=g?`#${JR}=${encodeURIComponent(g)}`:"";return`${$R(r)}?${bs(m).slice(1)}${f}`}function $R({config:r}){return r.emulator?jf(r,ZR):`https://${r.authDomain}/${XR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="webStorageSupport";class e6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vb,this._completeRedirectFn=CR,this._overrideRedirectResult=xR}async _openPopup(t,i,a,o){Xn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await p_(t,i,a,Lh(),o);return KR(t,c,Bf())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await p_(t,i,a,Lh(),o);return iR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Xn(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await VR(t),a=new TR(t);return i.register("authEvent",o=>($(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(ph,{type:ph},o=>{const c=o?.[0]?.[ph];c!==void 0&&i(!!c),$t(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=kR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return kb()||wb()||Uf()}}const t6=e6;var g_="@firebase/auth",y_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r6(r){ds(new hr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;$(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Db(r)},f=new xA(a,o,c,g);return kA(f,i),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ds(new hr("auth-internal",t=>{const i=Hi(t.getProvider("auth").getImmediate());return(a=>new n6(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(g_,y_,i6(r)),ki(g_,y_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=300,a6=H_("authIdTokenMaxAge")||s6;let __=null;const l6=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>a6)return;const o=i?.token;__!==o&&(__=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function o6(r=K_()){const t=tf(r,"auth");if(t.isInitialized())return t.getImmediate();const i=OA(r,{popupRedirectResolver:t6,persistence:[hR,eR,Vb]}),a=H_("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const h=l6(c.toString());WA(i,h,()=>h(i.currentUser)),KA(i,m=>h(m))}}const o=z_("auth");return o&&DA(i,`http://${o}`),i}function c6(){return document.getElementsByTagName("head")?.[0]??document}SA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=cn("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",c6().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r6("Browser");const u6={apiKey:"AIzaSyCsTlPcKD0Nq8ZE3vIp5NdFHZA_Uv-FMmE",authDomain:"my-skyn.firebaseapp.com",databaseURL:"https://my-skyn-default-rtdb.firebaseio.com",projectId:"my-skyn",storageBucket:"my-skyn.firebasestorage.app",messagingSenderId:"644781679411",appId:"1:644781679411:web:bb6eed31139fef0b77d446",measurementId:"G-CV9J8QNHV5"},Xb=Q_(u6),qf=sl(Xb),Ta=o6(Xb),Zb=R.createContext(),Rc=()=>R.useContext(Zb);function d6({children:r}){const[t,i]=R.useState(null),[a,o]=R.useState(!0);R.useEffect(()=>XA(Ta,m=>{i(m),o(!1)}),[]);const c={currentUser:t,signup:(h,m)=>YA(Ta,h,m),login:(h,m)=>QA(Ta,h,m),logout:()=>ZA(Ta),googleSignIn:()=>{const h=new Pn;return yR(Ta,h)}};return p.jsx(Zb.Provider,{value:c,children:!a&&r})}const Jb=R.createContext(),ul=()=>{const r=R.useContext(Jb);if(!r)throw new Error("useCart must be used within a CartProvider");return r},h6=({children:r})=>{const[t,i]=R.useState([]),[a,o]=R.useState(!1);R.useEffect(()=>{const x=localStorage.getItem("myskyn-cart");x&&i(JSON.parse(x))},[]),R.useEffect(()=>{localStorage.setItem("myskyn-cart",JSON.stringify(t))},[t]);const c=(x,A=1)=>{i(D=>D.find(U=>U.id===x.id)?D.map(U=>U.id===x.id?{...U,quantity:U.quantity+A}:U):[...D,{...x,quantity:A}]),o(!0),setTimeout(()=>o(!1),2e3)},h=x=>{i(A=>A.filter(D=>D.id!==x))},b={cartItems:t,addToCart:c,removeFromCart:h,updateQuantity:(x,A)=>{if(A<=0){h(x);return}i(D=>D.map(P=>P.id===x?{...P,quantity:A}:P))},clearCart:()=>{i([])},getTotalPrice:()=>t.reduce((x,A)=>x+A.price*A.quantity,0),getTotalItems:()=>t.reduce((x,A)=>x+A.quantity,0),isCartOpen:a,setIsCartOpen:o};return p.jsx(Jb.Provider,{value:b,children:r})};function f6(){const{currentUser:r,logout:t}=Rc(),{getTotalItems:i,setIsCartOpen:a}=ul(),[o,c]=R.useState(!1),h=Zn(),m=f=>h.pathname===f,g=({to:f,label:_,onClick:b})=>p.jsx(Vo,{to:f,onClick:()=>{b&&b(),c(!1)},className:`block w-full md:w-auto text-left md:text-center px-4 py-2 md:px-3 md:py-1 rounded-md transition-colors ${m(f)?"bg-pink-600 text-white md:bg-transparent md:text-pink-600 font-semibold":"text-gray-700 hover:bg-gray-100 md:hover:bg-transparent md:hover:text-pink-600"}`,children:_});return p.jsx("nav",{className:"bg-gradient-to-r from-white via-pink-50 to-gray-50 shadow-lg sticky top-0 z-50 backdrop-blur-sm bg-opacity-80",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"flex justify-between items-center h-16",children:[p.jsx(Vo,{to:"/",onClick:()=>c(!1),className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-gray-600 to-pink-600 bg-clip-text text-transparent hover:from-pink-600 hover:to-gray-600 transition-all duration-300",children:"MYSKYN"}),p.jsxs("div",{className:"hidden md:flex md:items-center md:space-x-2",children:[p.jsx(g,{to:"/",label:"Home"}),p.jsx(g,{to:"/pairing",label:"Pairing Tool"}),p.jsx(g,{to:"/products",label:"Products"}),p.jsx(g,{to:"/routine",label:"Routines"}),p.jsx(g,{to:"/feedback",label:"Feedback"}),p.jsxs("button",{onClick:()=>a(!0),className:"relative p-2 text-gray-700 hover:text-pink-600 transition-colors",children:[p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),i()>0&&p.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:i()})]}),r?p.jsxs(p.Fragment,{children:[p.jsx(g,{to:"/profile",label:"Profile"}),p.jsx(g,{to:"/admin",label:"Admin"}),p.jsx("button",{onClick:()=>{t(),c(!1)},className:"px-4 py-2 text-white bg-red-500 hover:bg-red-600 rounded-md transition-colors",children:"Logout"})]}):p.jsx(g,{to:"/login",label:"Login"})]}),p.jsx("button",{onClick:()=>c(!o),className:"md:hidden p-2 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-600",children:p.jsx("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o?p.jsx("path",{d:"M6 18L18 6M6 6l12 12"}):p.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})]}),o&&p.jsxs("div",{className:"md:hidden py-4 space-y-2 border-t border-gray-200",children:[p.jsx(g,{to:"/",label:"Home"}),p.jsx(g,{to:"/pairing",label:"Pairing Tool"}),p.jsx(g,{to:"/products",label:"Products"}),p.jsx(g,{to:"/routine",label:"Routines"}),p.jsx(g,{to:"/feedback",label:"Feedback"}),p.jsxs("button",{onClick:()=>{a(!0),c(!1)},className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md transition-colors flex items-center justify-between",children:[p.jsx("span",{children:"Cart"}),i()>0&&p.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:i()})]}),r?p.jsxs(p.Fragment,{children:[p.jsx(g,{to:"/profile",label:"Profile"}),p.jsx(g,{to:"/admin",label:"Admin"}),p.jsx("button",{onClick:()=>{t(),c(!1)},className:"w-full text-left px-4 py-2 text-white bg-red-500 hover:bg-red-600 rounded-md transition-colors",children:"Logout"})]}):p.jsx(g,{to:"/login",label:"Login"})]})]})})}const m6=()=>{const{cartItems:r,removeFromCart:t,updateQuantity:i,clearCart:a,getTotalPrice:o,getTotalItems:c,isCartOpen:h,setIsCartOpen:m}=ul(),g=()=>{alert("Checkout functionality would be implemented here!"),a(),m(!1)};return h?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[p.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-6 flex justify-between items-center",children:[p.jsxs("h2",{className:"text-2xl font-bold",children:["Shopping Cart (",c()," items)"]}),p.jsx("button",{onClick:()=>m(!1),className:"text-white hover:text-gray-200 transition-colors",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsx("div",{className:"p-6",children:r.length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),p.jsx("p",{className:"text-gray-500 text-lg",children:"Your cart is empty"}),p.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Add some products to get started!"})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:r.map(f=>p.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-2xl",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-bold text-lg text-gray-800",children:f.name}),p.jsx("p",{className:"text-gray-600",children:f.brand}),p.jsxs("p",{className:"text-purple-600 font-semibold",children:["$",f.price]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("button",{onClick:()=>i(f.id,f.quantity-1),className:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition-colors",children:p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),p.jsx("span",{className:"w-8 text-center font-semibold",children:f.quantity}),p.jsx("button",{onClick:()=>i(f.id,f.quantity+1),className:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition-colors",children:p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),p.jsx("button",{onClick:()=>t(f.id),className:"text-red-500 hover:text-red-700 transition-colors",children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},f.id))}),p.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"Total:"}),p.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["$",o().toFixed(2)]})]}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx("button",{onClick:a,className:"flex-1 py-3 px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-xl transition-colors font-medium",children:"Clear Cart"}),p.jsx("button",{onClick:g,className:"flex-1 py-3 px-4 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-blue-600 hover:to-purple-600 text-white rounded-xl transition-all duration-300 transform hover:scale-[1.02] font-medium shadow-lg",children:"Checkout"})]})]})]})})]})}):null};function p6(){return p.jsx("div",{className:"min-h-[calc(100vh-4rem)] bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center w-full",children:p.jsxs("div",{className:"w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20 text-center",children:[p.jsxs("div",{className:"mb-16",children:[p.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Welcome to ",p.jsx("span",{className:"text-blue-600",children:"MYSKYN"}),""]}),p.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-700 max-w-3xl mx-auto",children:"Your personal skincare assistant for smarter, safer product combinations"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 max-w-5xl mx-auto",children:[p.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-shadow text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4 mx-auto",children:p.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Smart Pairing"}),p.jsx("p",{className:"text-gray-600",children:"Discover which products work well together based on ingredient compatibility"})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-shadow text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4 mx-auto",children:p.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ingredient Analysis"}),p.jsx("p",{className:"text-gray-600",children:"Real-time analysis of ingredient interactions and compatibility warnings"})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-shadow text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mb-4 mx-auto",children:p.jsx("svg",{className:"w-6 h-6 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Personalized Recommendations"}),p.jsx("p",{className:"text-gray-600",children:"Get tailored product suggestions based on your current skincare routine"})]})]})]})})}function g6(){const[r,t]=R.useState([]),[i,a]=R.useState(!0),[o,c]=R.useState(""),[h,m]=R.useState("all"),[g,f]=R.useState(null),[_,b]=R.useState("grid"),{addToCart:x}=ul(),A=U=>{x(U),f(U.id),setTimeout(()=>{f(null)},2e3)};R.useEffect(()=>{const U=Rt(qf,"products"),B=zN(U,V=>{if(V.exists()){const W=V.val(),ge=Object.values(W);t(ge)}else t([]);a(!1)},V=>{c("Failed to load products. Please check your database."),a(!1),console.error(V)});return()=>B()},[]);const D=h==="all"?r:r.filter(U=>U.category===h),P=["all",...new Set(r.map(U=>U.category))];return i?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Loading products..."})]})}):p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 py-12 px-4",children:p.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent mb-4",children:"Our Products"}),p.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Discover premium skincare products curated for your unique skin needs"})]}),o&&p.jsx("div",{className:"bg-red-50/80 backdrop-blur-sm border border-red-200 rounded-2xl p-6 mb-8 shadow-lg",children:p.jsx("p",{className:"text-red-700 font-medium",children:o})}),r.length===0?p.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-12 text-center border border-white/20",children:[p.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:p.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),p.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"No products found in the database."}),p.jsxs("p",{className:"text-sm text-gray-500",children:["Go to ",p.jsx("a",{href:"/admin",className:"text-purple-600 underline hover:text-purple-700 transition-colors font-medium",children:"Admin Panel"})," to add products."]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8 gap-4",children:[p.jsx("div",{className:"flex flex-wrap gap-3 justify-center lg:justify-start",children:P.map(U=>p.jsx("button",{onClick:()=>m(U),className:`px-6 py-3 rounded-2xl font-semibold transition-all duration-300 transform hover:scale-105 ${h===U?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg":"bg-white/80 backdrop-blur-sm text-gray-700 hover:bg-white border border-white/30 shadow-md"}`,children:U.charAt(0).toUpperCase()+U.slice(1)},U))}),p.jsxs("div",{className:"flex items-center gap-2 justify-center lg:justify-end",children:[p.jsx("span",{className:"text-sm font-medium text-gray-600 mr-2",children:"View:"}),p.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-1 shadow-md border border-white/30",children:[p.jsx("button",{onClick:()=>b("grid"),className:`p-2 rounded-lg transition-all duration-200 ${_==="grid"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,title:"Grid View",children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),p.jsx("button",{onClick:()=>b("list"),className:`p-2 rounded-lg transition-all duration-200 ${_==="list"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,title:"List View",children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]})]}),p.jsx("div",{className:_==="grid"?"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6 md:gap-8":"space-y-6",children:D.map(U=>p.jsxs("div",{className:_==="grid"?"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-3 hover:scale-[1.02] border border-white/20 group":"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-500 border border-white/20 group flex",children:[p.jsxs("div",{className:_==="grid"?"relative overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100":"relative overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100 w-48 flex-shrink-0",children:[p.jsx("img",{src:U.image||"https://via.placeholder.com/300x300/f3f4f6/6b7280?text=No+Image",alt:U.name,className:_==="grid"?"w-full h-64 object-cover transition-transform duration-500 group-hover:scale-110":"w-full h-48 object-cover transition-transform duration-500 group-hover:scale-110"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),p.jsxs("div",{className:_==="grid"?"p-6 relative":"p-6 relative flex-1",children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsx("h3",{className:_==="grid"?"text-lg font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent flex-1 mr-2 leading-tight":"text-xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent flex-1 mr-2 leading-tight",children:U.name}),p.jsx("div",{className:"text-right",children:p.jsxs("span",{className:_==="grid"?"text-xl font-bold text-green-600":"text-2xl font-bold text-green-600",children:["$",U.price]})})]}),p.jsx("p",{className:"text-sm text-gray-600 font-medium mb-3",children:U.brand}),p.jsx("p",{className:_==="grid"?"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed":"text-gray-600 text-sm mb-4 leading-relaxed",children:U.description}),p.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[p.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-purple-100 to-blue-100 text-purple-700 text-xs rounded-full font-semibold border border-purple-200",children:U.category}),U.skinType&&U.skinType.map(B=>p.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-green-100 to-emerald-100 text-green-700 text-xs rounded-full font-semibold border border-green-200",children:B},B))]}),p.jsx("button",{onClick:()=>A(U),className:`w-full py-3 rounded-xl transition-all duration-300 transform hover:scale-[1.02] font-medium shadow-md ${g===U.id?"bg-green-600 text-white":"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-blue-600 hover:to-purple-600 text-white"}`,children:g===U.id?p.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),p.jsx("span",{children:"Added to Cart!"})]}):"Add to Cart"})]})]},U.id))})]})]})})}function y6(){const{currentUser:r}=Rc();return p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-8",children:p.jsxs("div",{className:"w-full max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8",children:"My Profile"}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[p.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-32 sm:h-40"}),p.jsxs("div",{className:"px-6 py-8 sm:px-8",children:[p.jsx("div",{className:"-mt-20 sm:-mt-24 mb-6 flex justify-center",children:p.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 bg-white rounded-full border-4 border-white shadow-lg flex items-center justify-center text-4xl sm:text-5xl",children:""})}),p.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),p.jsx("p",{className:"text-lg text-gray-900 bg-gray-50 px-4 py-2 rounded-md",children:r?.email})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User ID"}),p.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 px-4 py-2 rounded-md font-mono break-all",children:r?.uid})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Status"}),p.jsx("div",{className:"flex justify-center",children:p.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:" Active"})})]})]})]})]})]})})}const _6=()=>{const[r,t]=R.useState({name:"",email:"",rating:5,category:"general",subject:"",message:"",wouldRecommend:!0}),[i,a]=R.useState(!1),[o,c]=R.useState(!1),h=f=>{const{name:_,value:b,type:x,checked:A}=f.target;t(D=>({...D,[_]:x==="checkbox"?A:b}))},m=async f=>{f.preventDefault(),a(!0),await new Promise(_=>setTimeout(_,2e3)),a(!1),c(!0),setTimeout(()=>{c(!1),t({name:"",email:"",rating:5,category:"general",subject:"",message:"",wouldRecommend:!0})},3e3)},g=({rating:f,onRatingChange:_})=>p.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(b=>p.jsx("button",{type:"button",onClick:()=>_(b),className:`text-2xl transition-all duration-200 hover:scale-110 ${b<=f?"text-yellow-400 filter drop-shadow-sm":"text-gray-300 hover:text-yellow-300"}`,children:""},b)),p.jsxs("span",{className:"ml-3 text-sm text-gray-600 font-medium",children:[f===1&&"Poor",f===2&&"Fair",f===3&&"Good",f===4&&"Very Good",f===5&&"Excellent"]})]});return o?p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 flex items-center justify-center p-4",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-bounce mb-6",children:p.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full flex items-center justify-center mx-auto shadow-lg",children:p.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),p.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-4",children:"Thank You!"}),p.jsx("p",{className:"text-gray-600 text-lg",children:"Your feedback has been submitted successfully. We appreciate your input!"})]})}):p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 py-12 px-4",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent mb-4",children:"We Value Your Feedback"}),p.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Help us improve MySKYN by sharing your thoughts, suggestions, and experiences with our skincare recommendation platform."})]}),p.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 md:p-12 border border-white/20",children:p.jsxs("form",{onSubmit:m,className:"space-y-8",children:[p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Name *"}),p.jsx("input",{type:"text",name:"name",required:!0,value:r.name,onChange:h,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 bg-white/50",placeholder:"Your full name"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Email *"}),p.jsx("input",{type:"email",name:"email",required:!0,value:r.email,onChange:h,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 bg-white/50",placeholder:"your.email@example.com"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Overall Rating *"}),p.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-6 rounded-2xl border border-purple-100",children:p.jsx(g,{rating:r.rating,onRatingChange:f=>t(_=>({..._,rating:f}))})})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Feedback Category"}),p.jsxs("select",{name:"category",value:r.category,onChange:h,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 bg-white/50",children:[p.jsx("option",{value:"general",children:"General Feedback"}),p.jsx("option",{value:"product-recommendations",children:"Product Recommendations"}),p.jsx("option",{value:"user-interface",children:"User Interface"}),p.jsx("option",{value:"technical-issues",children:"Technical Issues"}),p.jsx("option",{value:"feature-request",children:"Feature Request"}),p.jsx("option",{value:"skincare-advice",children:"Skincare Advice"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Subject *"}),p.jsx("input",{type:"text",name:"subject",required:!0,value:r.subject,onChange:h,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 bg-white/50",placeholder:"Brief summary of your feedback"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Your Message *"}),p.jsx("textarea",{name:"message",required:!0,rows:6,value:r.message,onChange:h,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 bg-white/50 resize-none",placeholder:"Please share your detailed feedback, suggestions, or concerns..."})]}),p.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-2xl border border-indigo-100",children:p.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[p.jsx("input",{type:"checkbox",name:"wouldRecommend",checked:r.wouldRecommend,onChange:h,className:"w-5 h-5 text-purple-600 border-2 border-gray-300 rounded focus:ring-purple-500 focus:ring-2"}),p.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"I would recommend MySKYN to friends and family"})]})}),p.jsx("div",{className:"text-center pt-4",children:p.jsx("button",{type:"submit",disabled:i,className:`
                  px-12 py-4 rounded-2xl font-bold text-lg transition-all duration-300 transform
                  ${i?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-blue-600 hover:to-purple-600 hover:scale-105 shadow-lg hover:shadow-xl"}
                  text-white
                `,children:i?p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),p.jsx("span",{children:"Submitting..."})]}):"Submit Feedback"})})]})}),p.jsxs("div",{className:"mt-12 grid md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-6 text-center border border-white/30",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-1l-4 4z"})})}),p.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Quick Response"}),p.jsx("p",{className:"text-sm text-gray-600",children:"We typically respond to feedback within 24-48 hours"})]}),p.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-6 text-center border border-white/30",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),p.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Privacy Protected"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Your feedback is confidential and helps us improve"})]}),p.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-6 text-center border border-white/30",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),p.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Continuous Improvement"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Your input directly influences our product development"})]})]})]})})},$b=R.createContext(),e1=()=>{const r=R.useContext($b);if(!r)throw new Error("useRoutine must be used within a RoutineProvider");return r},v6=({children:r})=>{const[t,i]=R.useState({morning:[],night:[]});R.useEffect(()=>{const g=localStorage.getItem("myskyn-routines");g&&i(JSON.parse(g))},[]),R.useEffect(()=>{localStorage.setItem("myskyn-routines",JSON.stringify(t))},[t]);const m={routines:t,addToRoutine:(g,f)=>{console.log("Adding to routine:",g.name,"to",f),i(_=>{if(_[f].find(A=>A.id===g.id))return console.log("Product already in routine"),_;const x={..._,[f]:[..._[f],{...g,addedAt:new Date().toISOString()}]};return console.log("New routines:",x),x})},removeFromRoutine:(g,f)=>{i(_=>({..._,[f]:_[f].filter(b=>b.id!==g)}))},reorderRoutine:(g,f,_)=>{i(b=>{const x=Array.from(b[g]),[A]=x.splice(f,1);return x.splice(_,0,A),{...b,[g]:x}})},clearRoutine:g=>{i(f=>({...f,[g]:[]}))}};return p.jsx($b.Provider,{value:m,children:r})},b6=()=>{const{routines:r,addToRoutine:t,removeFromRoutine:i,clearRoutine:a}=e1(),{addToCart:o}=ul(),[c,h]=R.useState("morning"),m=[{id:"cleanser-1",name:"Gentle Daily Cleanser",brand:"SkinCare Pro",price:24.99,type:"cleanser",description:"A gentle, sulfate-free cleanser perfect for daily use"},{id:"toner-1",name:"Hydrating Toner",brand:"Pure Beauty",price:18.99,type:"toner",description:"Alcohol-free toner that balances and hydrates skin"},{id:"serum-1",name:"Vitamin C Serum",brand:"Glow Labs",price:34.99,type:"serum",description:"Brightening serum with 20% Vitamin C"},{id:"moisturizer-1",name:"Daily Moisturizer SPF 30",brand:"SunShield",price:28.99,type:"moisturizer",description:"Lightweight moisturizer with broad-spectrum SPF protection"},{id:"moisturizer-2",name:"Night Repair Cream",brand:"Renewal",price:42.99,type:"moisturizer",description:"Rich night cream with retinol and peptides"},{id:"oil-1",name:"Facial Oil Blend",brand:"Natural Glow",price:36.99,type:"oil",description:"Nourishing blend of jojoba and rosehip oils"}],g=f=>r[f].map((b,x)=>({...b,step:x+1}));return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 py-12 px-4",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent mb-4",children:"My Skincare Routines"}),p.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Build and customize your perfect morning and evening skincare routines"})]}),p.jsx("div",{className:"flex justify-center mb-8",children:p.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-2 shadow-lg border border-white/20",children:[p.jsx("button",{onClick:()=>h("morning"),className:`px-8 py-3 rounded-xl font-semibold transition-all duration-300 ${c==="morning"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,children:" Morning Routine"}),p.jsx("button",{onClick:()=>h("night"),className:`px-8 py-3 rounded-xl font-semibold transition-all duration-300 ${c==="night"?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,children:" Night Routine"})]})}),p.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 border border-white/20",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[c==="morning"?" Morning":" Night"," Routine"]}),r[c].length>0&&p.jsx("button",{onClick:()=>a(c),className:"text-red-500 hover:text-red-700 transition-colors text-sm font-medium",children:"Clear All"})]}),r[c].length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})})}),p.jsxs("p",{className:"text-gray-500 text-lg",children:["No products in your ",c," routine yet"]}),p.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Add products from the suggestions below!"})]}):p.jsx("div",{className:"space-y-4",children:g(c).map((f,_)=>p.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-gray-50 to-white rounded-2xl border border-gray-100",children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-white text-sm ${c==="morning"?"bg-gradient-to-r from-yellow-400 to-orange-500":"bg-gradient-to-r from-indigo-500 to-purple-600"}`,children:_+1}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-bold text-gray-800",children:f.name}),p.jsx("p",{className:"text-gray-600 text-sm",children:f.brand}),p.jsxs("p",{className:"text-purple-600 font-semibold",children:["$",f.price]})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>o(f),className:"p-2 bg-green-100 hover:bg-green-200 text-green-700 rounded-lg transition-colors",title:"Add to cart",children:p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),p.jsx("button",{onClick:()=>i(f.id,c),className:"p-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg transition-colors",title:"Remove from routine",children:p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},f.id))})]}),p.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 border border-white/20",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Suggested Products"}),p.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:m.map(f=>{const _=r[c].some(b=>b.id===f.id);return p.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-white rounded-2xl border border-gray-100",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-bold text-gray-800",children:f.name}),p.jsx("p",{className:"text-gray-600 text-sm",children:f.brand}),p.jsxs("p",{className:"text-purple-600 font-semibold",children:["$",f.price]})]}),p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.type==="cleanser"?"bg-blue-100 text-blue-700":f.type==="toner"?"bg-green-100 text-green-700":f.type==="serum"?"bg-purple-100 text-purple-700":f.type==="moisturizer"?"bg-orange-100 text-orange-700":f.type==="oil"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:f.type})]}),p.jsx("p",{className:"text-gray-600 text-sm mb-3",children:f.description}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>t(f,c),disabled:_,className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all duration-300 ${_?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-blue-600 hover:to-purple-600 text-white transform hover:scale-[1.02]"}`,children:_?"In Routine":"Add to Routine"}),p.jsx("button",{onClick:()=>o(f),className:"py-2 px-4 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-colors font-medium",children:"Cart"})]})]},f.id)})})]})]}),p.jsxs("div",{className:"mt-12 bg-white/60 backdrop-blur-sm rounded-3xl p-8 border border-white/30",children:[p.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:[c==="morning"?" Morning":" Night"," Routine Tips"]}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:c==="morning"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx("span",{className:"text-white font-bold",children:"1"})}),p.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Cleanse"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Start with a gentle cleanser to remove overnight buildup"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx("span",{className:"text-white font-bold",children:"2"})}),p.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Tone"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Balance your skin's pH and prep for products"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx("span",{className:"text-white font-bold",children:"3"})}),p.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Treat"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Apply serums for specific skin concerns"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx("span",{className:"text-white font-bold",children:"4"})}),p.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Protect"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Moisturize and always use SPF during the day"})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx("span",{className:"text-white font-bold",children:"1"})}),p.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Double Cleanse"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Remove makeup and sunscreen thoroughly"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx("span",{className:"text-white font-bold",children:"2"})}),p.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Tone & Treat"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Use stronger actives like retinol or AHA/BHA"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx("span",{className:"text-white font-bold",children:"3"})}),p.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Nourish"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Apply facial oils for deep nourishment"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-500 to-rose-500 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx("span",{className:"text-white font-bold",children:"4"})}),p.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Moisturize"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Lock in moisture with a rich night cream"})]})]})})]})]})})};function x6(){const[r,t]=R.useState(""),[i,a]=R.useState(""),[o,c]=R.useState(""),{login:h,googleSignIn:m}=Rc(),g=Gh(),f=async b=>{b.preventDefault(),c("");try{await h(r,i),g("/")}catch{c("Failed to login. Please check your credentials.")}},_=async()=>{c("");try{await m(),g("/")}catch{c("Failed to sign in with Google.")}};return p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 px-4 py-8",children:p.jsxs("form",{onSubmit:f,className:"bg-white p-6 sm:p-8 md:p-10 rounded-2xl shadow-xl w-full max-w-md",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),p.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Sign in to continue to MYSKYN"})]}),o&&p.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 mb-4 rounded",children:p.jsx("p",{className:"text-red-700 text-sm",children:o})}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),p.jsx("input",{type:"email",value:r,onChange:b=>t(b.target.value),placeholder:"you@example.com",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),p.jsx("input",{type:"password",value:i,onChange:b=>a(b.target.value),placeholder:"",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),p.jsx("button",{type:"submit",className:"w-full mt-6 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors font-medium",children:"Sign In"}),p.jsxs("div",{className:"relative my-6",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-gray-300"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),p.jsxs("button",{type:"button",onClick:_,className:"w-full bg-white border-2 border-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all flex items-center justify-center gap-3 font-medium",children:[p.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",className:"w-5 h-5"}),p.jsx("span",{className:"hidden sm:inline",children:"Sign in with Google"}),p.jsx("span",{className:"sm:hidden",children:"Google"})]})]})})}function gh({children:r}){const{currentUser:t}=Rc();return t?r:p.jsx(A_,{to:"/login"})}function S6(){const[r,t]=R.useState(1),[i,a]=R.useState([]),[o,c]=R.useState([]),[h,m]=R.useState(null),[g,f]=R.useState(""),[_,b]=R.useState([]),[x,A]=R.useState(!1),[D,P]=R.useState(""),{addToCart:U}=ul(),{addToRoutine:B}=e1(),V=sl();R.useEffect(()=>{(async()=>{try{const he=Rt(V,"products"),ze=await $0(he);if(ze.exists()){const $e=ze.val(),Ke=Object.keys($e).map(ft=>({id:ft,...$e[ft]}));a(Ke);const hn=[...new Set(Ke.map(ft=>ft.category))];c(hn)}}catch(he){console.error("Error fetching products:",he)}})()},[]);const W=async()=>{A(!0);try{const K=Rt(V,"compatibilityRules"),he=await $0(K);if(!h){console.error("No product selected"),A(!1);return}console.log("Selected Product:",h);let ze={};he.exists()?ze=he.val():(console.warn("No compatibility rules found in database, using default rules"),ze={retinol_vitamin_c:{ingredient1:"retinol",ingredient2:"vitamin_c",compatibility:"incompatible",reason:"pH conflict and potential irritation",severity:"high",recommendation:"Use vitamin C in the morning and retinol at night"},retinol_ha:{ingredient1:"retinol",ingredient2:"hyaluronic_acid",compatibility:"compatible",reason:"HA helps buffer retinol irritation",severity:"none",recommendation:"Layer hyaluronic acid after retinol"},niacinamide_vitamin_c:{ingredient1:"niacinamide",ingredient2:"vitamin_c",compatibility:"caution",reason:"May cause flushing in sensitive skin",severity:"low",recommendation:"Use at different times or test for sensitivity"}});const $e=h.ingredients?Object.keys(h.ingredients):h.activeIngredients?h.activeIngredients:[];console.log("Product Ingredients:",$e);const Ke=i.filter(Me=>(console.log("Checking product:",Me.name,"Category:",Me.category,"Selected:",g),Me.category?.toLowerCase()===g?.toLowerCase()&&Me.id!==h.id));console.log("Category Products:",Ke);const ft=Ke.map(Me=>{const M=Me.ingredients?Object.keys(Me.ingredients):Me.activeIngredients?Me.activeIngredients:[];console.log(`Checking ingredients for ${Me.name}:`,M);let q=100,Z=[],be=[];return $e.forEach(xe=>{M.forEach(C=>{const j=Object.values(ze).find(G=>G.ingredient1.toLowerCase()===xe.toLowerCase()&&G.ingredient2.toLowerCase()===C.toLowerCase()||G.ingredient1.toLowerCase()===C.toLowerCase()&&G.ingredient2.toLowerCase()===xe.toLowerCase());j&&(console.log(`Found rule for ${xe} + ${C}:`,j),j.compatibility==="incompatible"?(q-=30,Z.push({severity:j.severity,message:j.reason,recommendation:j.recommendation})):j.compatibility==="caution"?(q-=10,Z.push({severity:j.severity,message:j.reason,recommendation:j.recommendation})):j.compatibility==="compatible"&&be.push(j.reason))})}),{...Me,compatibilityScore:Math.max(0,q),warnings:Z,benefits:be}}).sort((Me,M)=>M.compatibilityScore-Me.compatibilityScore);b(ft)}catch(K){console.error("Error getting recommendations:",K)}A(!1)},ge=K=>{m(K),t(2)},Ue=K=>{console.log("Selected category:",K);const he=K.toLowerCase();f(he),t(3),W()},Ge=i.filter(K=>K.name.toLowerCase().includes(D.toLowerCase())||K.brand.toLowerCase().includes(D.toLowerCase())),ne=()=>{t(1),m(null),f(""),b([]),P("")};return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 py-12 px-4",children:p.jsxs("div",{className:"max-w-5xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-16 animate-fade-in relative",children:[p.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(45%_35%_at_50%_10%,rgba(156,39,176,0.1),transparent)] pointer-events-none"}),p.jsx("h1",{className:"text-6xl font-black bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent mb-6 animate-text-gradient",children:"Find Your Perfect Pair "}),p.jsx("p",{className:"text-xl text-gray-600 bg-white/70 backdrop-blur-md rounded-2xl py-3 px-8 inline-block shadow-xl border border-white/20",children:"Smart ingredient matching for safer, more effective skincare"})]}),p.jsx("div",{className:"flex justify-center items-center mb-8",children:p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${r>=1?"bg-purple-600 text-white":"bg-gray-200 text-gray-500"}`,children:"1"}),p.jsx("div",{className:`h-1 w-20 ${r>=2?"bg-purple-600":"bg-gray-200"}`}),p.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${r>=2?"bg-purple-600 text-white":"bg-gray-200 text-gray-500"}`,children:"2"}),p.jsx("div",{className:`h-1 w-20 ${r>=3?"bg-purple-600":"bg-gray-200"}`}),p.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${r>=3?"bg-purple-600 text-white":"bg-gray-200 text-gray-500"}`,children:"3"})]})}),r===1&&p.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/20",children:[p.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-8",children:"Which product do you already have?"}),p.jsxs("div",{className:"relative mb-8 group",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl blur opacity-25 group-hover:opacity-40 transition-opacity"}),p.jsx("input",{type:"text",placeholder:"Search by product name or brand...",value:D,onChange:K=>P(K.target.value),className:"w-full p-5 bg-white/80 backdrop-blur-sm rounded-2xl shadow-inner border border-white/40 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20 text-lg placeholder-gray-400 relative z-10"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-h-[32rem] overflow-y-auto pr-4 styled-scrollbar",children:Ge.map(K=>p.jsx("div",{onClick:()=>ge(K),className:"border-2 border-gray-200 rounded-lg p-4 hover:border-purple-500 hover:shadow-md cursor-pointer transition-all",children:p.jsx("div",{className:"flex items-start space-x-3",children:p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-semibold text-gray-800",children:K.name}),p.jsx("p",{className:"text-sm text-gray-500",children:K.brand}),p.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-purple-100 text-purple-700 text-xs rounded-full",children:K.category})]})})},K.id))})]}),r===2&&p.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[p.jsx("div",{className:"mb-6",children:p.jsx("button",{onClick:()=>t(1),className:"text-purple-600 hover:text-purple-700 flex items-center",children:" Back"})}),p.jsxs("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Selected:"}),p.jsx("h3",{className:"font-bold text-gray-800",children:h?.name}),p.jsx("p",{className:"text-sm text-gray-500",children:h?.brand})]}),p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"What type of product are you looking for?"}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:o.map(K=>p.jsx("button",{onClick:()=>Ue(K),className:"p-6 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all capitalize font-medium text-gray-700",children:K},K))})]}),r===3&&p.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[p.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[p.jsx("button",{onClick:()=>t(2),className:"text-purple-600 hover:text-purple-700 flex items-center",children:" Back"}),p.jsx("button",{onClick:ne,className:"text-gray-600 hover:text-gray-700",children:"Start Over"})]}),p.jsxs("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Pairing with:"}),p.jsx("h3",{className:"font-bold text-gray-800",children:h?.name}),p.jsx("p",{className:"text-sm text-gray-500",children:h?.brand})]}),p.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:["Recommended ",g,"s"]}),x?p.jsx("div",{className:"flex justify-center py-12",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):_.length===0?p.jsx("div",{className:"text-center py-12 text-gray-500",children:"No products found in this category"}):p.jsx("div",{className:"space-y-4",children:_.map(K=>p.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border border-gray-100",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-xl bg-gradient-to-r from-gray-600 to-pink-600 bg-clip-text text-transparent",children:K.name}),p.jsx("p",{className:"text-gray-600 font-medium",children:K.brand}),p.jsxs("p",{className:"text-purple-600 font-semibold mt-2",children:["$",K.price]})]}),p.jsx("div",{className:"text-right",children:p.jsxs("div",{className:`inline-flex items-center px-4 py-2 rounded-full font-semibold shadow-sm ${K.compatibilityScore>=80?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":K.compatibilityScore>=60?"bg-gradient-to-r from-yellow-500 to-orange-500 text-white":"bg-gradient-to-r from-red-500 to-pink-500 text-white"}`,children:[K.compatibilityScore,"% Match"]})})]}),K.benefits.length>0&&p.jsxs("div",{className:"mb-3",children:[p.jsx("p",{className:"text-sm font-semibold text-green-700 mb-1",children:" Benefits:"}),K.benefits.map((he,ze)=>p.jsxs("p",{className:"text-sm text-gray-600 ml-4",children:[" ",he]},ze))]}),K.warnings.length>0&&p.jsxs("div",{className:"mb-3",children:[p.jsx("p",{className:"text-sm font-semibold text-orange-700 mb-1",children:" Warnings:"}),K.warnings.map((he,ze)=>p.jsxs("div",{className:"ml-4 mb-2",children:[p.jsx("p",{className:"text-sm text-gray-700",children:he.message}),p.jsx("p",{className:"text-xs text-gray-500 italic",children:he.recommendation})]},ze))]}),p.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:K.description}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>U(K),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 rounded-xl transition-all duration-300 transform hover:scale-[1.02] font-medium shadow-md",children:"Add to Cart"}),p.jsx("button",{onClick:()=>B(K,"morning"),className:"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-blue-600 hover:to-purple-600 text-white py-3 rounded-xl transition-all duration-300 transform hover:scale-[1.02] font-medium shadow-md",children:"Add to Routine"})]})]},K.id))})]})]})})}const E6=JSON.parse(`{"prod1":{"id":"prod1","name":"Hydrating Facial Cleanser","category":"cleanser","brand":"CeraVe","price":14.99,"skinType":["dry","normal","sensitive"],"ingredients":["ceramides","hyaluronic acid","glycerin"],"description":"Non-foaming cleanser that gently removes dirt and oil while maintaining skin's natural moisture barrier","image":"https://images.unsplash.com/photo-1556228720-195a672e8a03?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod2":{"id":"prod2","name":"Foaming Facial Cleanser","category":"cleanser","brand":"CeraVe","price":13.99,"skinType":["oily","combination","normal"],"ingredients":["ceramides","niacinamide","hyaluronic acid"],"description":"Refreshing gel cleanser that removes excess oil without disrupting the skin barrier","image":"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod3":{"id":"prod3","name":"Kind to Skin Refreshing Facial Wash","category":"cleanser","brand":"Simple","price":6.99,"skinType":["all","sensitive"],"ingredients":["vitamin B5","vitamin E","glycerin"],"description":"Gentle cleanser perfect for sensitive skin, with no harsh chemicals or artificial perfumes","image":"https://images.unsplash.com/photo-1571781418606-70265b9cce90?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod4":{"id":"prod4","name":"Micellar Cleansing Water","category":"cleanser","brand":"Garnier","price":8.99,"skinType":["all","sensitive"],"ingredients":["micelles","glycerin"],"description":"All-in-one cleanser that removes makeup and impurities without harsh rubbing","image":"https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod5":{"id":"prod5","name":"Brightening Gel Cleanser","category":"cleanser","brand":"Uncover","price":12.99,"skinType":["normal","combination","oily"],"ingredients":["vitamin C","glycolic acid","aloe vera"],"description":"Brightening cleanser that gently exfoliates while cleansing for radiant skin","image":"https://images.unsplash.com/photo-1570194065650-d99fb4a2b6e4?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod6":{"id":"prod6","name":"Radiance Boosting Cleanser","category":"cleanser","brand":"D'ivine","price":11.99,"skinType":["dry","normal","dull"],"ingredients":["papaya extract","vitamin E","honey"],"description":"Nourishing cleanser enriched with natural extracts for glowing skin","image":"https://images.unsplash.com/photo-1585856331426-3145bfa40d4c?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod7":{"id":"prod7","name":"SA Smoothing Cleanser","category":"cleanser","brand":"CeraVe","price":15.99,"skinType":["oily","acne-prone","rough"],"ingredients":["salicylic acid","ceramides","niacinamide"],"description":"Exfoliating cleanser with salicylic acid to smooth rough, bumpy skin","image":"https://images.unsplash.com/photo-1556228852-80c3b5796e6e?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod8":{"id":"prod8","name":"Smoothing Facial Scrub","category":"scrub","brand":"Simple","price":7.99,"skinType":["normal","combination"],"ingredients":["rice granules","vitamin E","glycerin"],"description":"Gentle exfoliating scrub with rice granules to buff away dead skin cells","image":"https://images.unsplash.com/photo-1617897903246-719242758050?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod9":{"id":"prod9","name":"SkinActive Brightening Scrub","category":"scrub","brand":"Garnier","price":9.99,"skinType":["normal","dull","combination"],"ingredients":["vitamin C","apricot kernels","glycerin"],"description":"Vitamin C enriched scrub for brighter, more radiant skin","image":"https://images.unsplash.com/photo-1612817288484-6f916006741a?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod10":{"id":"prod10","name":"Coffee & Cocoa Glow Scrub","category":"scrub","brand":"D'ivine","price":13.99,"skinType":["dry","normal","dull"],"ingredients":["coffee extract","cocoa butter","brown sugar"],"description":"Energizing scrub that exfoliates and nourishes for smooth, glowing skin","image":"https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod11":{"id":"prod11","name":"Charcoal Detox Scrub","category":"scrub","brand":"Uncover","price":14.99,"skinType":["oily","combination","acne-prone"],"ingredients":["activated charcoal","salicylic acid","tea tree oil"],"description":"Deep cleansing scrub that draws out impurities and unclogs pores","image":"https://images.unsplash.com/photo-1556228720-195a672e8a03?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod12":{"id":"prod12","name":"PM Facial Moisturizing Lotion","category":"moisturizer","brand":"CeraVe","price":16.99,"skinType":["all","normal","dry"],"ingredients":["ceramides","niacinamide","hyaluronic acid"],"description":"Lightweight night cream that restores skin barrier while you sleep","image":"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod13":{"id":"prod13","name":"Moisturizing Cream","category":"moisturizer","brand":"CeraVe","price":18.99,"skinType":["dry","very dry","sensitive"],"ingredients":["ceramides","hyaluronic acid","petrolatum"],"description":"Rich, non-greasy cream providing 24-hour hydration for dry skin","image":"https://images.unsplash.com/photo-1556228720-195a672e8a03?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod14":{"id":"prod14","name":"Hydrating Light Moisturizer","category":"moisturizer","brand":"Simple","price":8.99,"skinType":["normal","combination","sensitive"],"ingredients":["vitamin E","glycerin","panthenol"],"description":"Light, fast-absorbing moisturizer perfect for daily use","image":"https://images.unsplash.com/photo-1571781418606-70265b9cce90?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod15":{"id":"prod15","name":"Moisture Bomb Sheet Mask","category":"moisturizer","brand":"Garnier","price":4.99,"skinType":["all","dry"],"ingredients":["hyaluronic acid","glycerin","pomegranate extract"],"description":"Intensely hydrating sheet mask for an instant moisture boost","image":"https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod16":{"id":"prod16","name":"Glow Illuminate Day Cream","category":"moisturizer","brand":"Uncover","price":19.99,"skinType":["normal","dull","combination"],"ingredients":["vitamin C","niacinamide","squalane"],"description":"Brightening day cream that evens skin tone and adds radiance","image":"https://images.unsplash.com/photo-1570194065650-d99fb4a2b6e4?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod17":{"id":"prod17","name":"Shea Butter Nourishing Cream","category":"moisturizer","brand":"D'ivine","price":15.99,"skinType":["dry","mature","normal"],"ingredients":["shea butter","coconut oil","vitamin E"],"description":"Deeply nourishing cream enriched with African shea butter","image":"https://images.unsplash.com/photo-1585856331426-3145bfa40d4c?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod18":{"id":"prod18","name":"Vitamin C Brightening Serum","category":"serum","brand":"Garnier","price":24.99,"skinType":["all","dull","normal"],"ingredients":["vitamin C","niacinamide","salicylic acid"],"description":"Powerful brightening serum to reduce dark spots and even skin tone","image":"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod19":{"id":"prod19","name":"Retinol Renewal Serum","category":"serum","brand":"CeraVe","price":29.99,"skinType":["normal","mature","combination"],"ingredients":["retinol","ceramides","niacinamide"],"description":"Anti-aging serum with retinol to reduce fine lines and wrinkles","image":"https://images.unsplash.com/photo-1556228720-195a672e8a03?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod20":{"id":"prod20","name":"Hyaluronic Acid Hydrating Serum","category":"serum","brand":"Uncover","price":22.99,"skinType":["all","dry","dehydrated"],"ingredients":["hyaluronic acid","glycerin","peptides"],"description":"Intense hydration serum that plumps and smooths skin","image":"https://images.unsplash.com/photo-1570194065650-d99fb4a2b6e4?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod21":{"id":"prod21","name":"Niacinamide Pore Refining Serum","category":"serum","brand":"Simple","price":18.99,"skinType":["oily","combination","large pores"],"ingredients":["niacinamide","zinc","witch hazel"],"description":"Mattifying serum that minimizes pores and controls oil","image":"https://images.unsplash.com/photo-1571781418606-70265b9cce90?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod22":{"id":"prod22","name":"Royal Jelly Radiance Serum","category":"serum","brand":"D'ivine","price":26.99,"skinType":["dry","mature","dull"],"ingredients":["royal jelly","honey","propolis"],"description":"Luxurious serum with royal jelly for nourished, glowing skin","image":"https://images.unsplash.com/photo-1585856331426-3145bfa40d4c?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod23":{"id":"prod23","name":"AM Facial Moisturizing Lotion SPF 30","category":"sunscreen","brand":"CeraVe","price":17.99,"skinType":["all","normal","dry"],"ingredients":["zinc oxide","ceramides","niacinamide","hyaluronic acid"],"description":"Hydrating morning moisturizer with broad-spectrum SPF 30 protection","image":"https://images.unsplash.com/photo-1556228720-195a672e8a03?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod24":{"id":"prod24","name":"Ultra-Light UV Lotion SPF 50","category":"sunscreen","brand":"CeraVe","price":19.99,"skinType":["oily","combination","sensitive"],"ingredients":["zinc oxide","titanium dioxide","niacinamide"],"description":"Lightweight, non-greasy sunscreen perfect for daily use","image":"https://images.unsplash.com/photo-1556228852-80c3b5796e6e?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod25":{"id":"prod25","name":"Protecting Moisturizer SPF 30","category":"sunscreen","brand":"Simple","price":12.99,"skinType":["all","sensitive"],"ingredients":["octinoxate","zinc oxide","vitamin E"],"description":"Gentle daily moisturizer with SPF protection for sensitive skin","image":"https://images.unsplash.com/photo-1571781418606-70265b9cce90?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod26":{"id":"prod26","name":"Bright Complete Vitamin C SPF 30","category":"sunscreen","brand":"Garnier","price":14.99,"skinType":["normal","dull","combination"],"ingredients":["vitamin C","octinoxate","niacinamide"],"description":"Brightening sunscreen that protects and evens skin tone","image":"https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod27":{"id":"prod27","name":"Glow Shield SPF 50","category":"sunscreen","brand":"Uncover","price":21.99,"skinType":["all","normal"],"ingredients":["zinc oxide","vitamin C","hyaluronic acid"],"description":"High protection sunscreen with added skincare benefits","image":"https://images.unsplash.com/photo-1570194065650-d99fb4a2b6e4?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod28":{"id":"prod28","name":"Natural Shield SPF 30","category":"sunscreen","brand":"D'ivine","price":16.99,"skinType":["dry","sensitive","normal"],"ingredients":["zinc oxide","shea butter","coconut oil"],"description":"Natural mineral sunscreen with nourishing African botanicals","image":"https://images.unsplash.com/photo-1585856331426-3145bfa40d4c?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"}}`),C6={rule1:{product1:"prod1",product2:"prod12",product1Name:"CeraVe Hydrating Cleanser",product2Name:"CeraVe PM Moisturizer",compatible:!0,reason:"Both contain ceramides and hyaluronic acid - work together to strengthen skin barrier",note:"Perfect evening routine pairing"},rule2:{product1:"prod2",product2:"prod21",product1Name:"CeraVe Foaming Cleanser",product2Name:"Simple Niacinamide Serum",compatible:!0,reason:"Both contain niacinamide - excellent for oil control and pore refinement",note:"Ideal for oily/combination skin routine"},rule3:{product1:"prod5",product2:"prod19",product1Name:"Uncover Vitamin C Cleanser",product2Name:"CeraVe Retinol Serum",compatible:!1,reason:"Vitamin C and retinol can cause irritation when used together",note:"Use Vitamin C in AM, Retinol in PM"},rule4:{product1:"prod7",product2:"prod11",product1Name:"CeraVe SA Cleanser",product2Name:"Uncover Charcoal Scrub",compatible:!1,reason:"Both contain salicylic acid - double exfoliation can over-strip skin",note:"Use on alternate days to prevent irritation"},rule5:{product1:"prod18",product2:"prod19",product1Name:"Garnier Vitamin C Serum",product2Name:"CeraVe Retinol Serum",compatible:!1,reason:"Vitamin C (AM) and Retinol (PM) should not be layered together",note:"Different pH requirements and potential irritation"},rule6:{product1:"prod3",product2:"prod14",product1Name:"Simple Facial Wash",product2Name:"Simple Moisturizer",compatible:!0,reason:"Both gentle, fragrance-free formulas perfect for sensitive skin",note:"Same brand synergy for sensitive skin"},rule7:{product1:"prod20",product2:"prod13",product1Name:"Uncover Hyaluronic Serum",product2Name:"CeraVe Moisturizing Cream",compatible:!0,reason:"Hyaluronic acid draws moisture, heavy cream seals it in",note:"Layer serum first, then cream for maximum hydration"},rule8:{product1:"prod4",product2:"prod18",product1Name:"Garnier Micellar Water",product2Name:"Garnier Vitamin C Serum",compatible:!0,reason:"Micellar water cleanses without stripping, prepares skin for actives",note:"Cleanse first, apply serum to clean skin"},rule9:{product1:"prod8",product2:"prod19",product1Name:"Simple Facial Scrub",product2Name:"CeraVe Retinol Serum",compatible:!1,reason:"Physical exfoliation + retinol can cause excessive irritation",note:"Use scrub 2-3x/week, retinol on non-scrub days"},rule10:{product1:"prod16",product2:"prod26",product1Name:"Uncover Vitamin C Day Cream",product2Name:"Garnier Vitamin C SPF 30",compatible:!0,reason:"Both contain Vitamin C and work synergistically for brightening + protection",note:"Perfect AM routine for radiant, protected skin"},rule11:{product1:"prod21",product2:"prod24",product1Name:"Simple Niacinamide Serum",product2Name:"CeraVe Ultra-Light SPF 50",compatible:!0,reason:"Niacinamide enhances skin barrier, SPF protects - ideal morning combo",note:"Apply serum, then sunscreen as final step"},rule12:{product1:"prod7",product2:"prod21",product1Name:"CeraVe SA Cleanser",product2Name:"Simple Niacinamide Serum",compatible:!0,reason:"Salicylic acid cleanses pores, niacinamide calms and refines",note:"Great for acne-prone skin routine"},rule13:{product1:"prod11",product2:"prod19",product1Name:"Uncover Charcoal Scrub",product2Name:"CeraVe Retinol Serum",compatible:!1,reason:"Scrub exfoliates physically, retinol chemically - too harsh together",note:"Space out usage by 24-48 hours"},rule14:{product1:"prod6",product2:"prod17",product1Name:"D'ivine Radiance Cleanser",product2Name:"D'ivine Shea Butter Cream",compatible:!0,reason:"Natural ingredients complement each other for nourished, glowing skin",note:"Same brand, natural formulas work in harmony"},rule15:{product1:"prod22",product2:"prod28",product1Name:"D'ivine Royal Jelly Serum",product2Name:"D'ivine Natural Shield SPF",compatible:!0,reason:"Natural, nourishing ingredients layer well under mineral sunscreen",note:"Luxurious AM routine for dry/mature skin"},rule16:{product1:"prod9",product2:"prod18",product1Name:"Garnier Vitamin C Scrub",product2Name:"Garnier Vitamin C Serum",compatible:!1,reason:"Double dose of exfoliation (physical + chemical) can irritate",note:"Use scrub 2x/week, serum daily on non-scrub days"},rule17:{product1:"prod1",product2:"prod23",product1Name:"CeraVe Hydrating Cleanser",product2Name:"CeraVe AM SPF 30",compatible:!0,reason:"Both formulated with ceramides for barrier support, perfect AM routine",note:"Cleanse + protect morning routine"},rule18:{product1:"prod20",product2:"prod23",product1Name:"Uncover Hyaluronic Serum",product2Name:"CeraVe AM SPF 30",compatible:!0,reason:"Hyaluronic acid hydrates, ceramides + SPF protect",note:"Layer serum under moisturizer with SPF"},rule19:{product1:"prod18",product2:"prod7",product1Name:"Garnier Vitamin C Serum",product2Name:"CeraVe SA Cleanser",compatible:!1,reason:"Vitamin C serum and salicylic acid can be too acidic together",note:"Use SA cleanser PM, Vitamin C serum AM"},rule20:{product1:"prod10",product2:"prod22",product1Name:"D'ivine Coffee Scrub",product2Name:"D'ivine Royal Jelly Serum",compatible:!0,reason:"Scrub exfoliates for better serum absorption, natural ingredients complement",note:"Use scrub 2x/week, serum absorbs better on smooth skin"},rule21:{product1:"prod4",product2:"prod20",product1Name:"Garnier Micellar Water",product2Name:"Uncover Hyaluronic Serum",compatible:!0,reason:"Micellar water cleanses gently, hyaluronic acid hydrates on clean skin",note:"Cleanse, then apply serum to damp skin for best absorption"},rule22:{product1:"prod2",product2:"prod24",product1Name:"CeraVe Foaming Cleanser",product2Name:"CeraVe Ultra-Light SPF 50",compatible:!0,reason:"Same ceramide technology, foaming cleanser + lightweight SPF for oily skin",note:"Non-greasy AM routine for combination/oily skin"},rule23:{product1:"prod19",product2:"prod12",product1Name:"CeraVe Retinol Serum",product2Name:"CeraVe PM Moisturizer",compatible:!0,reason:"Retinol works overnight, PM moisturizer with niacinamide supports renewal",note:"Perfect nighttime anti-aging routine"},rule24:{product1:"prod5",product2:"prod27",product1Name:"Uncover Vitamin C Cleanser",product2Name:"Uncover Glow Shield SPF 50",compatible:!0,reason:"Both contain Vitamin C for brightening, SPF protects from sun damage",note:"Brightening + protection morning routine"},rule25:{product1:"prod11",product2:"prod21",product1Name:"Uncover Charcoal Scrub",product2Name:"Simple Niacinamide Serum",compatible:!0,reason:"Scrub deep cleans pores, niacinamide refines and calms",note:"Use scrub 2-3x/week, serum daily for pore care"}},w6={products:E6,compatibility:C6},T6=async r=>{try{const t={...r,category:r.category?.toLowerCase()};console.log("Adding product with data:",t);const i=Rt(qf,"products"),a=LN(i);return await Fn(a,{...t,id:a.key,createdAt:new Date().toISOString()}),console.log("Product added successfully!"),a.key}catch(t){throw console.error("Error adding product:",t),t}},N6=async()=>{try{await Fn(Rt(qf),w6),console.log("Database seeded successfully with 28 skincare products!"),console.log("Products from: CeraVe, Simple, Garnier, Uncover, D'ivine")}catch(r){throw console.error("Error seeding database:",r),r}};async function A6(){const r=sl(),t=Rt(r,"compatibilityRules"),i={rule1:{ingredient1:"retinol",ingredient2:"vitamin_c",compatibility:"incompatible",reason:"pH conflict and potential irritation",severity:"high",recommendation:"Use vitamin C in the morning and retinol at night"},rule2:{ingredient1:"retinol",ingredient2:"hyaluronic_acid",compatibility:"compatible",reason:"HA helps buffer retinol irritation",severity:"none",recommendation:"Apply retinol first, then hyaluronic acid"},rule3:{ingredient1:"niacinamide",ingredient2:"vitamin_c",compatibility:"caution",reason:"May cause flushing in some users at high concentrations",severity:"low",recommendation:"Use at different times or ensure products have compatible pH"},rule4:{ingredient1:"retinol",ingredient2:"aha",compatibility:"incompatible",reason:"Excessive exfoliation and irritation risk",severity:"high",recommendation:"Alternate nights or use AHA in morning"},rule5:{ingredient1:"retinol",ingredient2:"bha",compatibility:"caution",reason:"Can be drying and irritating when used together",severity:"medium",recommendation:"Use on alternate nights or consult a dermatologist"},rule6:{ingredient1:"niacinamide",ingredient2:"retinol",compatibility:"compatible",reason:"Can help reduce retinol irritation",severity:"none",recommendation:"Can be used together for enhanced benefits"},rule7:{ingredient1:"benzoyl_peroxide",ingredient2:"vitamin_c",compatibility:"incompatible",reason:"Can oxidize and degrade each other",severity:"medium",recommendation:"Use vitamin C in morning and benzoyl peroxide at night"}};try{return await Fn(t,i),console.log("Successfully seeded compatibility rules"),!0}catch(a){return console.error("Error seeding compatibility rules:",a),!1}}async function R6(){const r=sl();Rt(r,"products");const t={moisturizer1:{name:"Daily Moisturizing Lotion",brand:"CeraVe",category:"moisturizer",price:12.99,description:"Lightweight, oil-free moisturizer for all skin types",ingredients:{hyaluronic_acid:{concentration:1,category:"hydrator"},ceramides:{concentration:3,category:"moisturizer"}},skinType:["all"]},moisturizer2:{name:"Ultra Facial Cream",brand:"Simple",category:"moisturizer",price:28,description:"24-hour hydration with squalane",ingredients:{squalane:{concentration:2,category:"moisturizer"},glycerin:{concentration:5,category:"hydrator"}},skinType:["dry","sensitive"]},moisturizer3:{name:"Moisture Surge",brand:"Garnier",category:"moisturizer",price:39.5,description:"72-hour hydrator with aloe",ingredients:{aloe:{concentration:3,category:"soother"},hyaluronic_acid:{concentration:2,category:"hydrator"}},skinType:["all"]}};try{return await Fn(Rt(r,"products/test_moisturizer1"),t.moisturizer1),await Fn(Rt(r,"products/test_moisturizer2"),t.moisturizer2),await Fn(Rt(r,"products/test_moisturizer3"),t.moisturizer3),console.log("Successfully added test moisturizers"),!0}catch(i){return console.error("Error adding test products:",i),!1}}async function O6(){const r=sl();Rt(r,"products");const t={cleanser1:{name:"Gentle Foaming Cleanser",brand:"CeraVe",category:"cleanser",price:15.99,description:"Gentle foaming facial cleanser for normal to oily skin",ingredients:{ceramides:{concentration:3,category:"moisturizer"},niacinamide:{concentration:2,category:"active"}},skinType:["all"]},cleanser2:{name:"Hydrating Cleanser",brand:"Simple",category:"cleanser",price:12.99,description:"Non-foaming hydrating cleanser for dry skin",ingredients:{glycerin:{concentration:5,category:"hydrator"},panthenol:{concentration:1,category:"soother"}},skinType:["dry","sensitive"]},cleanser3:{name:"Brightening Face Wash",brand:"Garnier",category:"cleanser",price:9.99,description:"Brightening cleanser with vitamin C",ingredients:{vitamin_c:{concentration:1,category:"active"},glycerin:{concentration:3,category:"hydrator"}},skinType:["all"]}};try{return await Fn(Rt(r,"products/test_cleanser1"),t.cleanser1),await Fn(Rt(r,"products/test_cleanser2"),t.cleanser2),await Fn(Rt(r,"products/test_cleanser3"),t.cleanser3),console.log("Successfully added test cleansers"),!0}catch(i){return console.error("Error adding test cleansers:",i),!1}}function k6(){const[r,t]=R.useState(!1),[i,a]=R.useState(""),[o,c]=R.useState({name:"",category:"",brand:"MYSKYN",price:"",skinType:[],description:""}),h=async()=>{if(window.confirm("This will overwrite existing data. Continue?")){t(!0),a("");try{await N6(),a(" Database seeded successfully!")}catch(_){a(" Error: "+_.message)}finally{t(!1)}}},m=async()=>{if(window.confirm("This will update product compatibility rules. Continue?")){t(!0),a("");try{await A6(),a(" Compatibility rules seeded successfully!")}catch(_){a(" Error seeding rules: "+_.message)}finally{t(!1)}}},g=async _=>{_.preventDefault(),t(!0),a("");try{const b={...o,price:parseFloat(o.price),image:"https://via.placeholder.com/300"};await T6(b),a(" Product added successfully!"),c({name:"",category:"",brand:"MYSKYN",price:"",skinType:[],description:""})}catch(b){a(" Error: "+b.message)}finally{t(!1)}},f=_=>{c(b=>({...b,skinType:b.skinType.includes(_)?b.skinType.filter(x=>x!==_):[...b.skinType,_]}))};return p.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Database Admin Panel"}),i&&p.jsx("div",{className:`p-4 rounded-lg mb-6 ${i.includes("")?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:i}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("button",{onClick:h,disabled:r,className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:r?"Processing...":" Seed Database with Sample Data"}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This will populate your database with sample products."}),p.jsx("button",{onClick:m,disabled:r,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium mb-4",children:r?"Processing...":" Update Compatibility Rules"}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This will update the ingredient compatibility rules used for product pairing."}),p.jsx("button",{onClick:async()=>{t(!0);try{await R6(),a(" Test moisturizers added successfully!")}catch(_){a(" Error adding test products: "+_.message)}t(!1)},disabled:r,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium mb-4",children:r?"Processing...":" Add Test Moisturizers"}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This will add test moisturizer products for pairing functionality testing."}),p.jsx("button",{onClick:async()=>{t(!0);try{await O6(),a(" Test cleansers added successfully!")}catch(_){a(" Error adding test cleansers: "+_.message)}t(!1)},disabled:r,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:r?"Processing...":" Add Test Cleansers"}),p.jsx("p",{className:"text-sm text-gray-600",children:"This will add test cleanser products for pairing functionality testing."})]})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add New Product"}),p.jsxs("form",{onSubmit:g,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),p.jsx("input",{type:"text",value:o.name,onChange:_=>c({...o,name:_.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Gentle Cleanser"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),p.jsxs("select",{value:o.category,onChange:_=>c({...o,category:_.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"",children:"Select category"}),p.jsx("option",{value:"cleanser",children:"Cleanser"}),p.jsx("option",{value:"toner",children:"Toner"}),p.jsx("option",{value:"serum",children:"Serum"}),p.jsx("option",{value:"moisturizer",children:"Moisturizer"}),p.jsx("option",{value:"sunscreen",children:"Sunscreen"}),p.jsx("option",{value:"mask",children:"Mask"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),p.jsx("input",{type:"text",value:o.brand,onChange:_=>c({...o,brand:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($) *"}),p.jsx("input",{type:"number",step:"0.01",value:o.price,onChange:_=>c({...o,price:_.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"24.99"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skin Types"}),p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:["oily","dry","combination","normal","sensitive","all"].map(_=>p.jsxs("label",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",checked:o.skinType.includes(_),onChange:()=>f(_),className:"rounded text-blue-600 focus:ring-blue-500"}),p.jsx("span",{className:"text-sm capitalize",children:_})]},_))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),p.jsx("textarea",{value:o.description,onChange:_=>c({...o,description:_.target.value}),rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Product description..."})]}),p.jsx("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:r?"Adding...":"Add Product"})]})]}),p.jsxs("div",{className:"mt-6 bg-blue-50 border-l-4 border-blue-500 p-4 rounded",children:[p.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" How to Edit Database"}),p.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[p.jsx("li",{children:'Use "Seed Database" to populate with sample data'}),p.jsx("li",{children:"Use the form above to add new products"}),p.jsxs("li",{children:["Visit ",p.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Firebase Console"})," for advanced editing"]}),p.jsx("li",{children:"Check browser console for detailed logs"})]})]})]})})}function D6(){return p.jsxs(YE,{basename:"/my-skyn",children:[" ",p.jsx(h6,{children:p.jsx(v6,{children:p.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[p.jsx(f6,{}),p.jsx(m6,{}),p.jsxs("main",{className:"flex-1 w-full overflow-x-hidden",children:[" ",p.jsxs(EE,{children:[" ",p.jsx(yn,{path:"/",element:p.jsx(p6,{})}),p.jsx(yn,{path:"/login",element:p.jsx(x6,{})}),p.jsx(yn,{path:"/pairing",element:p.jsx(S6,{})}),p.jsx(yn,{path:"/feedback",element:p.jsx(_6,{})}),p.jsx(yn,{path:"/routine",element:p.jsx(b6,{})}),p.jsx(yn,{path:"/products",element:p.jsx(gh,{children:p.jsx(g6,{})})}),p.jsx(yn,{path:"/profile",element:p.jsx(gh,{children:p.jsx(y6,{})})}),p.jsx(yn,{path:"/admin",element:p.jsx(gh,{children:p.jsx(k6,{})})}),p.jsx(yn,{path:"*",element:p.jsx(A_,{to:"/",replace:!0})})]})]})]})})})]})}class M6 extends R.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,i){this.setState({error:t,errorInfo:i}),console.error("Error caught by boundary:",t,i)}render(){return this.state.hasError?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:p.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md",children:[p.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),p.jsx("p",{className:"text-gray-600 mb-4",children:this.state.error&&this.state.error.toString()}),p.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors",onClick:()=>window.location.reload(),children:"Refresh Page"})]})}):this.props.children}}MS.createRoot(document.getElementById("root")).render(p.jsx(R.StrictMode,{children:p.jsx(M6,{children:p.jsx(d6,{children:p.jsx(D6,{})})})}));
