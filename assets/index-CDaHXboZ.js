(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var Fd={exports:{}},_a={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function b1(){if(V_)return _a;V_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:s,type:a,key:f,ref:o!==void 0?o:null,props:u}}return _a.Fragment=t,_a.jsx=i,_a.jsxs=i,_a}var q_;function S1(){return q_||(q_=1,Fd.exports=b1()),Fd.exports}var b=S1(),Yd={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function E1(){if(G_)return ne;G_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function D(T){return T===null||typeof T!="object"?null:(T=S&&T[S]||T["@@iterator"],typeof T=="function"?T:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,P={};function V(T,z,G){this.props=T,this.context=z,this.refs=P,this.updater=G||k}V.prototype.isReactComponent={},V.prototype.setState=function(T,z){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,z,"setState")},V.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function q(){}q.prototype=V.prototype;function W(T,z,G){this.props=T,this.context=z,this.refs=P,this.updater=G||k}var Se=W.prototype=new q;Se.constructor=W,j(Se,V.prototype),Se.isPureReactComponent=!0;var ze=Array.isArray;function Q(){}var Z={H:null,A:null,T:null,S:null},we=Object.prototype.hasOwnProperty;function Oe(T,z,G){var Y=G.ref;return{$$typeof:s,type:T,key:z,ref:Y!==void 0?Y:null,props:G}}function rt(T,z){return Oe(T.type,z,T.props)}function dt(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function qe(T){var z={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(G){return z[G]})}var pt=/\/+/g;function Dt(T,z){return typeof T=="object"&&T!==null&&T.key!=null?qe(""+T.key):z.toString(36)}function gt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Q,Q):(T.status="pending",T.then(function(z){T.status==="pending"&&(T.status="fulfilled",T.value=z)},function(z){T.status==="pending"&&(T.status="rejected",T.reason=z)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function M(T,z,G,Y,ie){var ce=typeof T;(ce==="undefined"||ce==="boolean")&&(T=null);var Ee=!1;if(T===null)Ee=!0;else switch(ce){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(T.$$typeof){case s:case t:Ee=!0;break;case y:return Ee=T._init,M(Ee(T._payload),z,G,Y,ie)}}if(Ee)return ie=ie(T),Ee=Y===""?"."+Dt(T,0):Y,ze(ie)?(G="",Ee!=null&&(G=Ee.replace(pt,"$&/")+"/"),M(ie,z,G,"",function(Tr){return Tr})):ie!=null&&(dt(ie)&&(ie=rt(ie,G+(ie.key==null||T&&T.key===ie.key?"":(""+ie.key).replace(pt,"$&/")+"/")+Ee)),z.push(ie)),1;Ee=0;var _t=Y===""?".":Y+":";if(ze(T))for(var Ge=0;Ge<T.length;Ge++)Y=T[Ge],ce=_t+Dt(Y,Ge),Ee+=M(Y,z,G,ce,ie);else if(Ge=D(T),typeof Ge=="function")for(T=Ge.call(T),Ge=0;!(Y=T.next()).done;)Y=Y.value,ce=_t+Dt(Y,Ge++),Ee+=M(Y,z,G,ce,ie);else if(ce==="object"){if(typeof T.then=="function")return M(gt(T),z,G,Y,ie);throw z=String(T),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function B(T,z,G){if(T==null)return T;var Y=[],ie=0;return M(T,Y,"","",function(ce){return z.call(G,ce,ie++)}),Y}function J(T){if(T._status===-1){var z=T._result;z=z(),z.then(function(G){(T._status===0||T._status===-1)&&(T._status=1,T._result=G)},function(G){(T._status===0||T._status===-1)&&(T._status=2,T._result=G)}),T._status===-1&&(T._status=0,T._result=z)}if(T._status===1)return T._result.default;throw T._result}var ve=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},ae={map:B,forEach:function(T,z,G){B(T,function(){z.apply(this,arguments)},G)},count:function(T){var z=0;return B(T,function(){z++}),z},toArray:function(T){return B(T,function(z){return z})||[]},only:function(T){if(!dt(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ne.Activity=v,ne.Children=ae,ne.Component=V,ne.Fragment=i,ne.Profiler=o,ne.PureComponent=W,ne.StrictMode=a,ne.Suspense=g,ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,ne.__COMPILER_RUNTIME={__proto__:null,c:function(T){return Z.H.useMemoCache(T)}},ne.cache=function(T){return function(){return T.apply(null,arguments)}},ne.cacheSignal=function(){return null},ne.cloneElement=function(T,z,G){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Y=j({},T.props),ie=T.key;if(z!=null)for(ce in z.key!==void 0&&(ie=""+z.key),z)!we.call(z,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&z.ref===void 0||(Y[ce]=z[ce]);var ce=arguments.length-2;if(ce===1)Y.children=G;else if(1<ce){for(var Ee=Array(ce),_t=0;_t<ce;_t++)Ee[_t]=arguments[_t+2];Y.children=Ee}return Oe(T.type,ie,Y)},ne.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},ne.createElement=function(T,z,G){var Y,ie={},ce=null;if(z!=null)for(Y in z.key!==void 0&&(ce=""+z.key),z)we.call(z,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ie[Y]=z[Y]);var Ee=arguments.length-2;if(Ee===1)ie.children=G;else if(1<Ee){for(var _t=Array(Ee),Ge=0;Ge<Ee;Ge++)_t[Ge]=arguments[Ge+2];ie.children=_t}if(T&&T.defaultProps)for(Y in Ee=T.defaultProps,Ee)ie[Y]===void 0&&(ie[Y]=Ee[Y]);return Oe(T,ce,ie)},ne.createRef=function(){return{current:null}},ne.forwardRef=function(T){return{$$typeof:h,render:T}},ne.isValidElement=dt,ne.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:J}},ne.memo=function(T,z){return{$$typeof:m,type:T,compare:z===void 0?null:z}},ne.startTransition=function(T){var z=Z.T,G={};Z.T=G;try{var Y=T(),ie=Z.S;ie!==null&&ie(G,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Q,ve)}catch(ce){ve(ce)}finally{z!==null&&G.types!==null&&(z.types=G.types),Z.T=z}},ne.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},ne.use=function(T){return Z.H.use(T)},ne.useActionState=function(T,z,G){return Z.H.useActionState(T,z,G)},ne.useCallback=function(T,z){return Z.H.useCallback(T,z)},ne.useContext=function(T){return Z.H.useContext(T)},ne.useDebugValue=function(){},ne.useDeferredValue=function(T,z){return Z.H.useDeferredValue(T,z)},ne.useEffect=function(T,z){return Z.H.useEffect(T,z)},ne.useEffectEvent=function(T){return Z.H.useEffectEvent(T)},ne.useId=function(){return Z.H.useId()},ne.useImperativeHandle=function(T,z,G){return Z.H.useImperativeHandle(T,z,G)},ne.useInsertionEffect=function(T,z){return Z.H.useInsertionEffect(T,z)},ne.useLayoutEffect=function(T,z){return Z.H.useLayoutEffect(T,z)},ne.useMemo=function(T,z){return Z.H.useMemo(T,z)},ne.useOptimistic=function(T,z){return Z.H.useOptimistic(T,z)},ne.useReducer=function(T,z,G){return Z.H.useReducer(T,z,G)},ne.useRef=function(T){return Z.H.useRef(T)},ne.useState=function(T){return Z.H.useState(T)},ne.useSyncExternalStore=function(T,z,G){return Z.H.useSyncExternalStore(T,z,G)},ne.useTransition=function(){return Z.H.useTransition()},ne.version="19.2.0",ne}var F_;function jf(){return F_||(F_=1,Yd.exports=E1()),Yd.exports}var O=jf(),Kd={exports:{}},ya={},Qd={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function C1(){return Y_||(Y_=1,(function(s){function t(M,B){var J=M.length;M.push(B);e:for(;0<J;){var ve=J-1>>>1,ae=M[ve];if(0<o(ae,B))M[ve]=B,M[J]=ae,J=ve;else break e}}function i(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var B=M[0],J=M.pop();if(J!==B){M[0]=J;e:for(var ve=0,ae=M.length,T=ae>>>1;ve<T;){var z=2*(ve+1)-1,G=M[z],Y=z+1,ie=M[Y];if(0>o(G,J))Y<ae&&0>o(ie,G)?(M[ve]=ie,M[Y]=J,ve=Y):(M[ve]=G,M[z]=J,ve=z);else if(Y<ae&&0>o(ie,J))M[ve]=ie,M[Y]=J,ve=Y;else break e}}return B}function o(M,B){var J=M.sortIndex-B.sortIndex;return J!==0?J:M.id-B.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();s.unstable_now=function(){return f.now()-h}}var g=[],m=[],y=1,v=null,S=3,D=!1,k=!1,j=!1,P=!1,V=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function Se(M){for(var B=i(m);B!==null;){if(B.callback===null)a(m);else if(B.startTime<=M)a(m),B.sortIndex=B.expirationTime,t(g,B);else break;B=i(m)}}function ze(M){if(j=!1,Se(M),!k)if(i(g)!==null)k=!0,Q||(Q=!0,qe());else{var B=i(m);B!==null&&gt(ze,B.startTime-M)}}var Q=!1,Z=-1,we=5,Oe=-1;function rt(){return P?!0:!(s.unstable_now()-Oe<we)}function dt(){if(P=!1,Q){var M=s.unstable_now();Oe=M;var B=!0;try{e:{k=!1,j&&(j=!1,q(Z),Z=-1),D=!0;var J=S;try{t:{for(Se(M),v=i(g);v!==null&&!(v.expirationTime>M&&rt());){var ve=v.callback;if(typeof ve=="function"){v.callback=null,S=v.priorityLevel;var ae=ve(v.expirationTime<=M);if(M=s.unstable_now(),typeof ae=="function"){v.callback=ae,Se(M),B=!0;break t}v===i(g)&&a(g),Se(M)}else a(g);v=i(g)}if(v!==null)B=!0;else{var T=i(m);T!==null&&gt(ze,T.startTime-M),B=!1}}break e}finally{v=null,S=J,D=!1}B=void 0}}finally{B?qe():Q=!1}}}var qe;if(typeof W=="function")qe=function(){W(dt)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,Dt=pt.port2;pt.port1.onmessage=dt,qe=function(){Dt.postMessage(null)}}else qe=function(){V(dt,0)};function gt(M,B){Z=V(function(){M(s.unstable_now())},B)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(M){switch(S){case 1:case 2:case 3:var B=3;break;default:B=S}var J=S;S=B;try{return M()}finally{S=J}},s.unstable_requestPaint=function(){P=!0},s.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var J=S;S=M;try{return B()}finally{S=J}},s.unstable_scheduleCallback=function(M,B,J){var ve=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ve+J:ve):J=ve,M){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=J+ae,M={id:y++,callback:B,priorityLevel:M,startTime:J,expirationTime:ae,sortIndex:-1},J>ve?(M.sortIndex=J,t(m,M),i(g)===null&&M===i(m)&&(j?(q(Z),Z=-1):j=!0,gt(ze,J-ve))):(M.sortIndex=ae,t(g,M),k||D||(k=!0,Q||(Q=!0,qe()))),M},s.unstable_shouldYield=rt,s.unstable_wrapCallback=function(M){var B=S;return function(){var J=S;S=B;try{return M.apply(this,arguments)}finally{S=J}}}})(Xd)),Xd}var K_;function T1(){return K_||(K_=1,Qd.exports=C1()),Qd.exports}var Wd={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function w1(){if(Q_)return ft;Q_=1;var s=jf();function t(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:m,implementation:y}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ft.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(g,m,null,y)},ft.flushSync=function(g){var m=f.T,y=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=m,a.p=y,a.d.f()}},ft.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},ft.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},ft.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,D=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:D}):y==="script"&&a.d.X(g,{crossOrigin:v,integrity:S,fetchPriority:D,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ft.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},ft.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);a.d.L(g,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ft.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=h(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},ft.requestFormReset=function(g){a.d.r(g)},ft.unstable_batchedUpdates=function(g,m){return g(m)},ft.useFormState=function(g,m,y){return f.H.useFormState(g,m,y)},ft.useFormStatus=function(){return f.H.useHostTransitionStatus()},ft.version="19.2.0",ft}var X_;function x1(){if(X_)return Wd.exports;X_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Wd.exports=w1(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function N1(){if(W_)return ya;W_=1;var s=T1(),t=jf(),i=x1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,l=n;;){var c=r.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===r)return g(c),e;if(d===l)return g(c),n;d=d.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=d;else{for(var p=!1,_=c.child;_;){if(_===r){p=!0,r=c,l=d;break}if(_===l){p=!0,l=c,r=d;break}_=_.sibling}if(!p){for(_=d.child;_;){if(_===r){p=!0,r=d,l=c;break}if(_===l){p=!0,l=d,r=c;break}_=_.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),W=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),Oe=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),dt=Symbol.iterator;function qe(e){return e===null||typeof e!="object"?null:(e=dt&&e[dt]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Symbol.for("react.client.reference");function Dt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case V:return"Profiler";case P:return"StrictMode";case ze:return"Suspense";case Q:return"SuspenseList";case Oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case W:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case Se:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return n=e.displayName||null,n!==null?n:Dt(e.type)||"Memo";case we:n=e._payload,e=e._init;try{return Dt(e(n))}catch{}}return null}var gt=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ve=[],ae=-1;function T(e){return{current:e}}function z(e){0>ae||(e.current=ve[ae],ve[ae]=null,ae--)}function G(e,n){ae++,ve[ae]=e.current,e.current=n}var Y=T(null),ie=T(null),ce=T(null),Ee=T(null);function _t(e,n){switch(G(ce,n),G(ie,e),G(Y,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?d_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=d_(n),e=f_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(Y),G(Y,e)}function Ge(){z(Y),z(ie),z(ce)}function Tr(e){e.memoizedState!==null&&G(Ee,e);var n=Y.current,r=f_(n,e.type);n!==r&&(G(ie,e),G(Y,r))}function ol(e){ie.current===e&&(z(Y),z(ie)),Ee.current===e&&(z(Ee),ha._currentValue=J)}var Nc,Bh;function Hi(e){if(Nc===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Nc=n&&n[1]||"",Bh=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nc+e+Bh}var Ac=!1;function Rc(e,n){if(!e||Ac)return"";Ac=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(R){var A=R}Reflect.construct(e,[],U)}else{try{U.call()}catch(R){A=R}e.call(U.prototype)}}else{try{throw Error()}catch(R){A=R}(U=e())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(R){if(R&&A&&typeof R.stack=="string")return[R.stack,A.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),p=d[0],_=d[1];if(p&&_){var E=p.split(`
`),N=_.split(`
`);for(c=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(l===E.length||c===N.length)for(l=E.length-1,c=N.length-1;1<=l&&0<=c&&E[l]!==N[c];)c--;for(;1<=l&&0<=c;l--,c--)if(E[l]!==N[c]){if(l!==1||c!==1)do if(l--,c--,0>c||E[l]!==N[c]){var I=`
`+E[l].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=l&&0<=c);break}}}finally{Ac=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Hi(r):""}function Zb(e,n){switch(e.tag){case 26:case 27:case 5:return Hi(e.type);case 16:return Hi("Lazy");case 13:return e.child!==n&&n!==null?Hi("Suspense Fallback"):Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return Rc(e.type,!1);case 11:return Rc(e.type.render,!1);case 1:return Rc(e.type,!0);case 31:return Hi("Activity");default:return""}}function Vh(e){try{var n="",r=null;do n+=Zb(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Oc=Object.prototype.hasOwnProperty,Dc=s.unstable_scheduleCallback,Mc=s.unstable_cancelCallback,Jb=s.unstable_shouldYield,$b=s.unstable_requestPaint,Mt=s.unstable_now,eS=s.unstable_getCurrentPriorityLevel,qh=s.unstable_ImmediatePriority,Gh=s.unstable_UserBlockingPriority,cl=s.unstable_NormalPriority,tS=s.unstable_LowPriority,Fh=s.unstable_IdlePriority,nS=s.log,iS=s.unstable_setDisableYieldValue,wr=null,It=null;function Zn(e){if(typeof nS=="function"&&iS(e),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(wr,e)}catch{}}var kt=Math.clz32?Math.clz32:aS,sS=Math.log,rS=Math.LN2;function aS(e){return e>>>=0,e===0?32:31-(sS(e)/rS|0)|0}var ul=256,dl=262144,fl=4194304;function Pi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hl(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var c=0,d=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~d,l!==0?c=Pi(l):(p&=_,p!==0?c=Pi(p):r||(r=_&~e,r!==0&&(c=Pi(r))))):(_=l&~d,_!==0?c=Pi(_):p!==0?c=Pi(p):r||(r=l&~e,r!==0&&(c=Pi(r)))),c===0?0:n!==0&&n!==c&&(n&d)===0&&(d=c&-c,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:c}function xr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function lS(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yh(){var e=fl;return fl<<=1,(fl&62914560)===0&&(fl=4194304),e}function Ic(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Nr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function oS(e,n,r,l,c,d){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var _=e.entanglements,E=e.expirationTimes,N=e.hiddenUpdates;for(r=p&~r;0<r;){var I=31-kt(r),U=1<<I;_[I]=0,E[I]=-1;var A=N[I];if(A!==null)for(N[I]=null,I=0;I<A.length;I++){var R=A[I];R!==null&&(R.lane&=-536870913)}r&=~U}l!==0&&Kh(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(p&~n))}function Kh(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-kt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function Qh(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-kt(r),c=1<<l;c&n|e[l]&n&&(e[l]|=n),r&=~c}}function Xh(e,n){var r=n&-n;return r=(r&42)!==0?1:kc(r),(r&(e.suspendedLanes|n))!==0?0:r}function kc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Lc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wh(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:L_(e.type))}function Zh(e,n){var r=B.p;try{return B.p=e,n()}finally{B.p=r}}var Jn=Math.random().toString(36).slice(2),at="__reactFiber$"+Jn,St="__reactProps$"+Jn,_s="__reactContainer$"+Jn,Uc="__reactEvents$"+Jn,cS="__reactListeners$"+Jn,uS="__reactHandles$"+Jn,Jh="__reactResources$"+Jn,Ar="__reactMarker$"+Jn;function zc(e){delete e[at],delete e[St],delete e[Uc],delete e[cS],delete e[uS]}function ys(e){var n=e[at];if(n)return n;for(var r=e.parentNode;r;){if(n=r[_s]||r[at]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=v_(e);e!==null;){if(r=e[at])return r;e=v_(e)}return n}e=r,r=e.parentNode}return null}function vs(e){if(e=e[at]||e[_s]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Rr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function bs(e){var n=e[Jh];return n||(n=e[Jh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(e){e[Ar]=!0}var $h=new Set,em={};function Bi(e,n){Ss(e,n),Ss(e+"Capture",n)}function Ss(e,n){for(em[e]=n,e=0;e<n.length;e++)$h.add(n[e])}var dS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tm={},nm={};function fS(e){return Oc.call(nm,e)?!0:Oc.call(tm,e)?!1:dS.test(e)?nm[e]=!0:(tm[e]=!0,!1)}function ml(e,n,r){if(fS(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function pl(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function vn(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function im(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function hS(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){r=""+p,d.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function jc(e){if(!e._valueTracker){var n=im(e)?"checked":"value";e._valueTracker=hS(e,n,""+e[n])}}function sm(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=im(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mS=/[\n"\\]/g;function Gt(e){return e.replace(mS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Hc(e,n,r,l,c,d,p,_){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qt(n)):e.value!==""+qt(n)&&(e.value=""+qt(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Pc(e,p,qt(n)):r!=null?Pc(e,p,qt(r)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+qt(_):e.removeAttribute("name")}function rm(e,n,r,l,c,d,p,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){jc(e);return}r=r!=null?""+qt(r):"",n=n!=null?""+qt(n):r,_||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),jc(e)}function Pc(e,n,r){n==="number"&&gl(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Es(e,n,r,l){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&l&&(e[r].defaultSelected=!0)}else{for(r=""+qt(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function am(e,n,r){if(n!=null&&(n=""+qt(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+qt(r):""}function lm(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(gt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=qt(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),jc(e)}function Cs(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var pS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function om(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||pS.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function cm(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&om(e,c,l)}else for(var d in n)n.hasOwnProperty(d)&&om(e,d,n[d])}function Bc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_S=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _l(e){return _S.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function bn(){}var Vc=null;function qc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ts=null,ws=null;function um(e){var n=vs(e);if(n&&(e=n.stateNode)){var r=e[St]||null;e:switch(e=n.stateNode,n.type){case"input":if(Hc(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Gt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var c=l[St]||null;if(!c)throw Error(a(90));Hc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&sm(l)}break e;case"textarea":am(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Es(e,!!r.multiple,n,!1)}}}var Gc=!1;function dm(e,n,r){if(Gc)return e(n,r);Gc=!0;try{var l=e(n);return l}finally{if(Gc=!1,(Ts!==null||ws!==null)&&(so(),Ts&&(n=Ts,e=ws,ws=Ts=null,um(n),e)))for(n=0;n<e.length;n++)um(e[n])}}function Or(e,n){var r=e.stateNode;if(r===null)return null;var l=r[St]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fc=!1;if(Sn)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){Fc=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{Fc=!1}var $n=null,Yc=null,yl=null;function fm(){if(yl)return yl;var e,n=Yc,r=n.length,l,c="value"in $n?$n.value:$n.textContent,d=c.length;for(e=0;e<r&&n[e]===c[e];e++);var p=r-e;for(l=1;l<=p&&n[r-l]===c[d-l];l++);return yl=c.slice(e,1<l?1-l:void 0)}function vl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function bl(){return!0}function hm(){return!1}function Et(e){function n(r,l,c,d,p){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(r=e[_],this[_]=r?r(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?bl:hm,this.isPropagationStopped=hm,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Et(Vi),Mr=v({},Vi,{view:0,detail:0}),yS=Et(Mr),Kc,Qc,Ir,El=v({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ir&&(Ir&&e.type==="mousemove"?(Kc=e.screenX-Ir.screenX,Qc=e.screenY-Ir.screenY):Qc=Kc=0,Ir=e),Kc)},movementY:function(e){return"movementY"in e?e.movementY:Qc}}),mm=Et(El),vS=v({},El,{dataTransfer:0}),bS=Et(vS),SS=v({},Mr,{relatedTarget:0}),Xc=Et(SS),ES=v({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),CS=Et(ES),TS=v({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wS=Et(TS),xS=v({},Vi,{data:0}),pm=Et(xS),NS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OS(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=RS[e])?!!n[e]:!1}function Wc(){return OS}var DS=v({},Mr,{key:function(e){if(e.key){var n=NS[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?AS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wc,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MS=Et(DS),IS=v({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gm=Et(IS),kS=v({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wc}),LS=Et(kS),US=v({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),zS=Et(US),jS=v({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HS=Et(jS),PS=v({},Vi,{newState:0,oldState:0}),BS=Et(PS),VS=[9,13,27,32],Zc=Sn&&"CompositionEvent"in window,kr=null;Sn&&"documentMode"in document&&(kr=document.documentMode);var qS=Sn&&"TextEvent"in window&&!kr,_m=Sn&&(!Zc||kr&&8<kr&&11>=kr),ym=" ",vm=!1;function bm(e,n){switch(e){case"keyup":return VS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xs=!1;function GS(e,n){switch(e){case"compositionend":return Sm(n);case"keypress":return n.which!==32?null:(vm=!0,ym);case"textInput":return e=n.data,e===ym&&vm?null:e;default:return null}}function FS(e,n){if(xs)return e==="compositionend"||!Zc&&bm(e,n)?(e=fm(),yl=Yc=$n=null,xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _m&&n.locale!=="ko"?null:n.data;default:return null}}var YS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Em(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!YS[e.type]:n==="textarea"}function Cm(e,n,r,l){Ts?ws?ws.push(l):ws=[l]:Ts=l,n=fo(n,"onChange"),0<n.length&&(r=new Sl("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Lr=null,Ur=null;function KS(e){r_(e,0)}function Cl(e){var n=Rr(e);if(sm(n))return e}function Tm(e,n){if(e==="change")return n}var wm=!1;if(Sn){var Jc;if(Sn){var $c="oninput"in document;if(!$c){var xm=document.createElement("div");xm.setAttribute("oninput","return;"),$c=typeof xm.oninput=="function"}Jc=$c}else Jc=!1;wm=Jc&&(!document.documentMode||9<document.documentMode)}function Nm(){Lr&&(Lr.detachEvent("onpropertychange",Am),Ur=Lr=null)}function Am(e){if(e.propertyName==="value"&&Cl(Ur)){var n=[];Cm(n,Ur,e,qc(e)),dm(KS,n)}}function QS(e,n,r){e==="focusin"?(Nm(),Lr=n,Ur=r,Lr.attachEvent("onpropertychange",Am)):e==="focusout"&&Nm()}function XS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cl(Ur)}function WS(e,n){if(e==="click")return Cl(n)}function ZS(e,n){if(e==="input"||e==="change")return Cl(n)}function JS(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Lt=typeof Object.is=="function"?Object.is:JS;function zr(e,n){if(Lt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Oc.call(n,c)||!Lt(e[c],n[c]))return!1}return!0}function Rm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Om(e,n){var r=Rm(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rm(r)}}function Dm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Dm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Mm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=gl(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=gl(e.document)}return n}function eu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var $S=Sn&&"documentMode"in document&&11>=document.documentMode,Ns=null,tu=null,jr=null,nu=!1;function Im(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nu||Ns==null||Ns!==gl(l)||(l=Ns,"selectionStart"in l&&eu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),jr&&zr(jr,l)||(jr=l,l=fo(tu,"onSelect"),0<l.length&&(n=new Sl("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=Ns)))}function qi(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var As={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionrun:qi("Transition","TransitionRun"),transitionstart:qi("Transition","TransitionStart"),transitioncancel:qi("Transition","TransitionCancel"),transitionend:qi("Transition","TransitionEnd")},iu={},km={};Sn&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Gi(e){if(iu[e])return iu[e];if(!As[e])return e;var n=As[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in km)return iu[e]=n[r];return e}var Lm=Gi("animationend"),Um=Gi("animationiteration"),zm=Gi("animationstart"),eE=Gi("transitionrun"),tE=Gi("transitionstart"),nE=Gi("transitioncancel"),jm=Gi("transitionend"),Hm=new Map,su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");su.push("scrollEnd");function en(e,n){Hm.set(e,n),Bi(n,[e])}var Tl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],Rs=0,ru=0;function wl(){for(var e=Rs,n=ru=Rs=0;n<e;){var r=Ft[n];Ft[n++]=null;var l=Ft[n];Ft[n++]=null;var c=Ft[n];Ft[n++]=null;var d=Ft[n];if(Ft[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}d!==0&&Pm(r,c,d)}}function xl(e,n,r,l){Ft[Rs++]=e,Ft[Rs++]=n,Ft[Rs++]=r,Ft[Rs++]=l,ru|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function au(e,n,r,l){return xl(e,n,r,l),Nl(e)}function Fi(e,n){return xl(e,null,null,n),Nl(e)}function Pm(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var c=!1,d=e.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&n!==null&&(c=31-kt(r),e=d.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=r|536870912),d):null}function Nl(e){if(50<aa)throw aa=0,pd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Os={};function iE(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,n,r,l){return new iE(e,n,r,l)}function lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function En(e,n){var r=e.alternate;return r===null?(r=Ut(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Bm(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Al(e,n,r,l,c,d){var p=0;if(l=e,typeof e=="function")lu(e)&&(p=1);else if(typeof e=="string")p=o1(e,r,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Oe:return e=Ut(31,r,n,c),e.elementType=Oe,e.lanes=d,e;case j:return Yi(r.children,c,d,n);case P:p=8,c|=24;break;case V:return e=Ut(12,r,n,c|2),e.elementType=V,e.lanes=d,e;case ze:return e=Ut(13,r,n,c),e.elementType=ze,e.lanes=d,e;case Q:return e=Ut(19,r,n,c),e.elementType=Q,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:p=10;break e;case q:p=9;break e;case Se:p=11;break e;case Z:p=14;break e;case we:p=16,l=null;break e}p=29,r=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=Ut(p,r,n,c),n.elementType=e,n.type=l,n.lanes=d,n}function Yi(e,n,r,l){return e=Ut(7,e,l,n),e.lanes=r,e}function ou(e,n,r){return e=Ut(6,e,null,n),e.lanes=r,e}function Vm(e){var n=Ut(18,null,null,0);return n.stateNode=e,n}function cu(e,n,r){return n=Ut(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var qm=new WeakMap;function Yt(e,n){if(typeof e=="object"&&e!==null){var r=qm.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Vh(n)},qm.set(e,n),n)}return{value:e,source:n,stack:Vh(n)}}var Ds=[],Ms=0,Rl=null,Hr=0,Kt=[],Qt=0,ei=null,fn=1,hn="";function Cn(e,n){Ds[Ms++]=Hr,Ds[Ms++]=Rl,Rl=e,Hr=n}function Gm(e,n,r){Kt[Qt++]=fn,Kt[Qt++]=hn,Kt[Qt++]=ei,ei=e;var l=fn;e=hn;var c=32-kt(l)-1;l&=~(1<<c),r+=1;var d=32-kt(n)+c;if(30<d){var p=c-c%5;d=(l&(1<<p)-1).toString(32),l>>=p,c-=p,fn=1<<32-kt(n)+c|r<<c|l,hn=d+e}else fn=1<<d|r<<c|l,hn=e}function uu(e){e.return!==null&&(Cn(e,1),Gm(e,1,0))}function du(e){for(;e===Rl;)Rl=Ds[--Ms],Ds[Ms]=null,Hr=Ds[--Ms],Ds[Ms]=null;for(;e===ei;)ei=Kt[--Qt],Kt[Qt]=null,hn=Kt[--Qt],Kt[Qt]=null,fn=Kt[--Qt],Kt[Qt]=null}function Fm(e,n){Kt[Qt++]=fn,Kt[Qt++]=hn,Kt[Qt++]=ei,fn=n.id,hn=n.overflow,ei=e}var lt=null,ke=null,pe=!1,ti=null,Xt=!1,fu=Error(a(519));function ni(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pr(Yt(n,e)),fu}function Ym(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[at]=e,n[St]=l,r){case"dialog":de("cancel",n),de("close",n);break;case"iframe":case"object":case"embed":de("load",n);break;case"video":case"audio":for(r=0;r<oa.length;r++)de(oa[r],n);break;case"source":de("error",n);break;case"img":case"image":case"link":de("error",n),de("load",n);break;case"details":de("toggle",n);break;case"input":de("invalid",n),rm(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":de("invalid",n);break;case"textarea":de("invalid",n),lm(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||c_(n.textContent,r)?(l.popover!=null&&(de("beforetoggle",n),de("toggle",n)),l.onScroll!=null&&de("scroll",n),l.onScrollEnd!=null&&de("scrollend",n),l.onClick!=null&&(n.onclick=bn),n=!0):n=!1,n||ni(e,!0)}function Km(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:lt=lt.return}}function Is(e){if(e!==lt)return!1;if(!pe)return Km(e),pe=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Od(e.type,e.memoizedProps)),r=!r),r&&ke&&ni(e),Km(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ke=y_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ke=y_(e)}else n===27?(n=ke,gi(e.type)?(e=Ld,Ld=null,ke=e):ke=n):ke=lt?Zt(e.stateNode.nextSibling):null;return!0}function Ki(){ke=lt=null,pe=!1}function hu(){var e=ti;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),ti=null),e}function Pr(e){ti===null?ti=[e]:ti.push(e)}var mu=T(null),Qi=null,Tn=null;function ii(e,n,r){G(mu,n._currentValue),n._currentValue=r}function wn(e){e._currentValue=mu.current,z(mu)}function pu(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function gu(e,n,r,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var p=c.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=c;for(var E=0;E<n.length;E++)if(_.context===n[E]){d.lanes|=r,_=d.alternate,_!==null&&(_.lanes|=r),pu(d.return,r,e),l||(p=null);break e}d=_.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=r,d=p.alternate,d!==null&&(d.lanes|=r),pu(p,r,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function ks(e,n,r,l){e=null;for(var c=n,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var _=c.type;Lt(c.pendingProps.value,p.value)||(e!==null?e.push(_):e=[_])}}else if(c===Ee.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ha):e=[ha])}c=c.return}e!==null&&gu(n,e,r,l),n.flags|=262144}function Ol(e){for(e=e.firstContext;e!==null;){if(!Lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xi(e){Qi=e,Tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return Qm(Qi,e)}function Dl(e,n){return Qi===null&&Xi(e),Qm(e,n)}function Qm(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Tn===null){if(e===null)throw Error(a(308));Tn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Tn=Tn.next=n;return r}var sE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},rE=s.unstable_scheduleCallback,aE=s.unstable_NormalPriority,Ke={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _u(){return{controller:new sE,data:new Map,refCount:0}}function Br(e){e.refCount--,e.refCount===0&&rE(aE,function(){e.controller.abort()})}var Vr=null,yu=0,Ls=0,Us=null;function lE(e,n){if(Vr===null){var r=Vr=[];yu=0,Ls=Sd(),Us={status:"pending",value:void 0,then:function(l){r.push(l)}}}return yu++,n.then(Xm,Xm),n}function Xm(){if(--yu===0&&Vr!==null){Us!==null&&(Us.status="fulfilled");var e=Vr;Vr=null,Ls=0,Us=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function oE(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Wm=M.S;M.S=function(e,n){Ig=Mt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&lE(e,n),Wm!==null&&Wm(e,n)};var Wi=T(null);function vu(){var e=Wi.current;return e!==null?e:De.pooledCache}function Ml(e,n){n===null?G(Wi,Wi.current):G(Wi,n.pool)}function Zm(){var e=vu();return e===null?null:{parent:Ke._currentValue,pool:e}}var zs=Error(a(460)),bu=Error(a(474)),Il=Error(a(542)),kl={then:function(){}};function Jm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $m(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(bn,bn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,tp(e),e;default:if(typeof n.status=="string")n.then(bn,bn);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,tp(e),e}throw Ji=n,zs}}function Zi(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ji=r,zs):r}}var Ji=null;function ep(){if(Ji===null)throw Error(a(459));var e=Ji;return Ji=null,e}function tp(e){if(e===zs||e===Il)throw Error(a(483))}var js=null,qr=0;function Ll(e){var n=qr;return qr+=1,js===null&&(js=[]),$m(js,e,n)}function Gr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ul(e,n){throw n.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function np(e){function n(w,C){if(e){var x=w.deletions;x===null?(w.deletions=[C],w.flags|=16):x.push(C)}}function r(w,C){if(!e)return null;for(;C!==null;)n(w,C),C=C.sibling;return null}function l(w){for(var C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function c(w,C){return w=En(w,C),w.index=0,w.sibling=null,w}function d(w,C,x){return w.index=x,e?(x=w.alternate,x!==null?(x=x.index,x<C?(w.flags|=67108866,C):x):(w.flags|=67108866,C)):(w.flags|=1048576,C)}function p(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function _(w,C,x,L){return C===null||C.tag!==6?(C=ou(x,w.mode,L),C.return=w,C):(C=c(C,x),C.return=w,C)}function E(w,C,x,L){var X=x.type;return X===j?I(w,C,x.props.children,L,x.key):C!==null&&(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===we&&Zi(X)===C.type)?(C=c(C,x.props),Gr(C,x),C.return=w,C):(C=Al(x.type,x.key,x.props,null,w.mode,L),Gr(C,x),C.return=w,C)}function N(w,C,x,L){return C===null||C.tag!==4||C.stateNode.containerInfo!==x.containerInfo||C.stateNode.implementation!==x.implementation?(C=cu(x,w.mode,L),C.return=w,C):(C=c(C,x.children||[]),C.return=w,C)}function I(w,C,x,L,X){return C===null||C.tag!==7?(C=Yi(x,w.mode,L,X),C.return=w,C):(C=c(C,x),C.return=w,C)}function U(w,C,x){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=ou(""+C,w.mode,x),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case D:return x=Al(C.type,C.key,C.props,null,w.mode,x),Gr(x,C),x.return=w,x;case k:return C=cu(C,w.mode,x),C.return=w,C;case we:return C=Zi(C),U(w,C,x)}if(gt(C)||qe(C))return C=Yi(C,w.mode,x,null),C.return=w,C;if(typeof C.then=="function")return U(w,Ll(C),x);if(C.$$typeof===W)return U(w,Dl(w,C),x);Ul(w,C)}return null}function A(w,C,x,L){var X=C!==null?C.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return X!==null?null:_(w,C,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case D:return x.key===X?E(w,C,x,L):null;case k:return x.key===X?N(w,C,x,L):null;case we:return x=Zi(x),A(w,C,x,L)}if(gt(x)||qe(x))return X!==null?null:I(w,C,x,L,null);if(typeof x.then=="function")return A(w,C,Ll(x),L);if(x.$$typeof===W)return A(w,C,Dl(w,x),L);Ul(w,x)}return null}function R(w,C,x,L,X){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return w=w.get(x)||null,_(C,w,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return w=w.get(L.key===null?x:L.key)||null,E(C,w,L,X);case k:return w=w.get(L.key===null?x:L.key)||null,N(C,w,L,X);case we:return L=Zi(L),R(w,C,x,L,X)}if(gt(L)||qe(L))return w=w.get(x)||null,I(C,w,L,X,null);if(typeof L.then=="function")return R(w,C,x,Ll(L),X);if(L.$$typeof===W)return R(w,C,x,Dl(C,L),X);Ul(C,L)}return null}function F(w,C,x,L){for(var X=null,ge=null,K=C,re=C=0,me=null;K!==null&&re<x.length;re++){K.index>re?(me=K,K=null):me=K.sibling;var _e=A(w,K,x[re],L);if(_e===null){K===null&&(K=me);break}e&&K&&_e.alternate===null&&n(w,K),C=d(_e,C,re),ge===null?X=_e:ge.sibling=_e,ge=_e,K=me}if(re===x.length)return r(w,K),pe&&Cn(w,re),X;if(K===null){for(;re<x.length;re++)K=U(w,x[re],L),K!==null&&(C=d(K,C,re),ge===null?X=K:ge.sibling=K,ge=K);return pe&&Cn(w,re),X}for(K=l(K);re<x.length;re++)me=R(K,w,re,x[re],L),me!==null&&(e&&me.alternate!==null&&K.delete(me.key===null?re:me.key),C=d(me,C,re),ge===null?X=me:ge.sibling=me,ge=me);return e&&K.forEach(function(Si){return n(w,Si)}),pe&&Cn(w,re),X}function $(w,C,x,L){if(x==null)throw Error(a(151));for(var X=null,ge=null,K=C,re=C=0,me=null,_e=x.next();K!==null&&!_e.done;re++,_e=x.next()){K.index>re?(me=K,K=null):me=K.sibling;var Si=A(w,K,_e.value,L);if(Si===null){K===null&&(K=me);break}e&&K&&Si.alternate===null&&n(w,K),C=d(Si,C,re),ge===null?X=Si:ge.sibling=Si,ge=Si,K=me}if(_e.done)return r(w,K),pe&&Cn(w,re),X;if(K===null){for(;!_e.done;re++,_e=x.next())_e=U(w,_e.value,L),_e!==null&&(C=d(_e,C,re),ge===null?X=_e:ge.sibling=_e,ge=_e);return pe&&Cn(w,re),X}for(K=l(K);!_e.done;re++,_e=x.next())_e=R(K,w,re,_e.value,L),_e!==null&&(e&&_e.alternate!==null&&K.delete(_e.key===null?re:_e.key),C=d(_e,C,re),ge===null?X=_e:ge.sibling=_e,ge=_e);return e&&K.forEach(function(v1){return n(w,v1)}),pe&&Cn(w,re),X}function Ae(w,C,x,L){if(typeof x=="object"&&x!==null&&x.type===j&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case D:e:{for(var X=x.key;C!==null;){if(C.key===X){if(X=x.type,X===j){if(C.tag===7){r(w,C.sibling),L=c(C,x.props.children),L.return=w,w=L;break e}}else if(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===we&&Zi(X)===C.type){r(w,C.sibling),L=c(C,x.props),Gr(L,x),L.return=w,w=L;break e}r(w,C);break}else n(w,C);C=C.sibling}x.type===j?(L=Yi(x.props.children,w.mode,L,x.key),L.return=w,w=L):(L=Al(x.type,x.key,x.props,null,w.mode,L),Gr(L,x),L.return=w,w=L)}return p(w);case k:e:{for(X=x.key;C!==null;){if(C.key===X)if(C.tag===4&&C.stateNode.containerInfo===x.containerInfo&&C.stateNode.implementation===x.implementation){r(w,C.sibling),L=c(C,x.children||[]),L.return=w,w=L;break e}else{r(w,C);break}else n(w,C);C=C.sibling}L=cu(x,w.mode,L),L.return=w,w=L}return p(w);case we:return x=Zi(x),Ae(w,C,x,L)}if(gt(x))return F(w,C,x,L);if(qe(x)){if(X=qe(x),typeof X!="function")throw Error(a(150));return x=X.call(x),$(w,C,x,L)}if(typeof x.then=="function")return Ae(w,C,Ll(x),L);if(x.$$typeof===W)return Ae(w,C,Dl(w,x),L);Ul(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,C!==null&&C.tag===6?(r(w,C.sibling),L=c(C,x),L.return=w,w=L):(r(w,C),L=ou(x,w.mode,L),L.return=w,w=L),p(w)):r(w,C)}return function(w,C,x,L){try{qr=0;var X=Ae(w,C,x,L);return js=null,X}catch(K){if(K===zs||K===Il)throw K;var ge=Ut(29,K,null,w.mode);return ge.lanes=L,ge.return=w,ge}finally{}}}var $i=np(!0),ip=np(!1),si=!1;function Su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ri(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ai(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(be&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Nl(e),Pm(e,null,r),n}return xl(e,l,n,r),Nl(e)}function Fr(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Qh(e,r)}}function Cu(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?c=d=p:d=d.next=p,r=r.next}while(r!==null);d===null?c=d=n:d=d.next=n}else c=d=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Tu=!1;function Yr(){if(Tu){var e=Us;if(e!==null)throw e}}function Kr(e,n,r,l){Tu=!1;var c=e.updateQueue;si=!1;var d=c.firstBaseUpdate,p=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var E=_,N=E.next;E.next=null,p===null?d=N:p.next=N,p=E;var I=e.alternate;I!==null&&(I=I.updateQueue,_=I.lastBaseUpdate,_!==p&&(_===null?I.firstBaseUpdate=N:_.next=N,I.lastBaseUpdate=E))}if(d!==null){var U=c.baseState;p=0,I=N=E=null,_=d;do{var A=_.lane&-536870913,R=A!==_.lane;if(R?(he&A)===A:(l&A)===A){A!==0&&A===Ls&&(Tu=!0),I!==null&&(I=I.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var F=e,$=_;A=n;var Ae=r;switch($.tag){case 1:if(F=$.payload,typeof F=="function"){U=F.call(Ae,U,A);break e}U=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=$.payload,A=typeof F=="function"?F.call(Ae,U,A):F,A==null)break e;U=v({},U,A);break e;case 2:si=!0}}A=_.callback,A!==null&&(e.flags|=64,R&&(e.flags|=8192),R=c.callbacks,R===null?c.callbacks=[A]:R.push(A))}else R={lane:A,tag:_.tag,payload:_.payload,callback:_.callback,next:null},I===null?(N=I=R,E=U):I=I.next=R,p|=A;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;R=_,_=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);I===null&&(E=U),c.baseState=E,c.firstBaseUpdate=N,c.lastBaseUpdate=I,d===null&&(c.shared.lanes=0),di|=p,e.lanes=p,e.memoizedState=U}}function sp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function rp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)sp(r[e],n)}var Hs=T(null),zl=T(0);function ap(e,n){e=kn,G(zl,e),G(Hs,n),kn=e|n.baseLanes}function wu(){G(zl,kn),G(Hs,Hs.current)}function xu(){kn=zl.current,z(Hs),z(zl)}var zt=T(null),Wt=null;function li(e){var n=e.alternate;G(Fe,Fe.current&1),G(zt,e),Wt===null&&(n===null||Hs.current!==null||n.memoizedState!==null)&&(Wt=e)}function Nu(e){G(Fe,Fe.current),G(zt,e),Wt===null&&(Wt=e)}function lp(e){e.tag===22?(G(Fe,Fe.current),G(zt,e),Wt===null&&(Wt=e)):oi()}function oi(){G(Fe,Fe.current),G(zt,zt.current)}function jt(e){z(zt),Wt===e&&(Wt=null),z(Fe)}var Fe=T(0);function jl(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Id(r)||kd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xn=0,se=null,xe=null,Qe=null,Hl=!1,Ps=!1,es=!1,Pl=0,Qr=0,Bs=null,cE=0;function Pe(){throw Error(a(321))}function Au(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Lt(e[r],n[r]))return!1;return!0}function Ru(e,n,r,l,c,d){return xn=d,se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?Gp:Gu,es=!1,d=r(l,c),es=!1,Ps&&(d=cp(n,r,l,c)),op(e),d}function op(e){M.H=Zr;var n=xe!==null&&xe.next!==null;if(xn=0,Qe=xe=se=null,Hl=!1,Qr=0,Bs=null,n)throw Error(a(300));e===null||Xe||(e=e.dependencies,e!==null&&Ol(e)&&(Xe=!0))}function cp(e,n,r,l){se=e;var c=0;do{if(Ps&&(Bs=null),Qr=0,Ps=!1,25<=c)throw Error(a(301));if(c+=1,Qe=xe=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}M.H=Fp,d=n(r,l)}while(Ps);return d}function uE(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?Xr(n):n,e=e.useState()[0],(xe!==null?xe.memoizedState:null)!==e&&(se.flags|=1024),n}function Ou(){var e=Pl!==0;return Pl=0,e}function Du(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Mu(e){if(Hl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hl=!1}xn=0,Qe=xe=se=null,Ps=!1,Qr=Pl=0,Bs=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?se.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ye(){if(xe===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var n=Qe===null?se.memoizedState:Qe.next;if(n!==null)Qe=n,xe=e;else{if(e===null)throw se.alternate===null?Error(a(467)):Error(a(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Qe===null?se.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Bl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xr(e){var n=Qr;return Qr+=1,Bs===null&&(Bs=[]),e=$m(Bs,e,n),n=se,(Qe===null?n.memoizedState:Qe.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Gp:Gu),e}function Vl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xr(e);if(e.$$typeof===W)return ot(e)}throw Error(a(438,String(e)))}function Iu(e){var n=null,r=se.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Bl(),se.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=rt;return n.index++,r}function Nn(e,n){return typeof n=="function"?n(e):n}function ql(e){var n=Ye();return ku(n,xe,e)}function ku(e,n,r){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var p=c.next;c.next=d.next,d.next=p}n.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{n=c.next;var _=p=null,E=null,N=n,I=!1;do{var U=N.lane&-536870913;if(U!==N.lane?(he&U)===U:(xn&U)===U){var A=N.revertLane;if(A===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),U===Ls&&(I=!0);else if((xn&A)===A){N=N.next,A===Ls&&(I=!0);continue}else U={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},E===null?(_=E=U,p=d):E=E.next=U,se.lanes|=A,di|=A;U=N.action,es&&r(d,U),d=N.hasEagerState?N.eagerState:r(d,U)}else A={lane:U,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},E===null?(_=E=A,p=d):E=E.next=A,se.lanes|=U,di|=U;N=N.next}while(N!==null&&N!==n);if(E===null?p=d:E.next=_,!Lt(d,e.memoizedState)&&(Xe=!0,I&&(r=Us,r!==null)))throw r;e.memoizedState=d,e.baseState=p,e.baseQueue=E,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Lu(e){var n=Ye(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var l=r.dispatch,c=r.pending,d=n.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do d=e(d,p.action),p=p.next;while(p!==c);Lt(d,n.memoizedState)||(Xe=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function up(e,n,r){var l=se,c=Ye(),d=pe;if(d){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Lt((xe||c).memoizedState,r);if(p&&(c.memoizedState=r,Xe=!0),c=c.queue,ju(hp.bind(null,l,c,e),[e]),c.getSnapshot!==n||p||Qe!==null&&Qe.memoizedState.tag&1){if(l.flags|=2048,Vs(9,{destroy:void 0},fp.bind(null,l,c,r,n),null),De===null)throw Error(a(349));d||(xn&127)!==0||dp(l,n,r)}return r}function dp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=se.updateQueue,n===null?(n=Bl(),se.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function fp(e,n,r,l){n.value=r,n.getSnapshot=l,mp(n)&&pp(e)}function hp(e,n,r){return r(function(){mp(n)&&pp(e)})}function mp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Lt(e,r)}catch{return!0}}function pp(e){var n=Fi(e,2);n!==null&&Nt(n,e,2)}function Uu(e){var n=yt();if(typeof e=="function"){var r=e;if(e=r(),es){Zn(!0);try{r()}finally{Zn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},n}function gp(e,n,r,l){return e.baseState=r,ku(e,xe,typeof l=="function"?l:Nn)}function dE(e,n,r,l,c){if(Yl(e))throw Error(a(485));if(e=n.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};M.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,_p(n,d)):(d.next=r.next,n.pending=r.next=d)}}function _p(e,n){var r=n.action,l=n.payload,c=e.state;if(n.isTransition){var d=M.T,p={};M.T=p;try{var _=r(c,l),E=M.S;E!==null&&E(p,_),yp(e,n,_)}catch(N){zu(e,n,N)}finally{d!==null&&p.types!==null&&(d.types=p.types),M.T=d}}else try{d=r(c,l),yp(e,n,d)}catch(N){zu(e,n,N)}}function yp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){vp(e,n,l)},function(l){return zu(e,n,l)}):vp(e,n,r)}function vp(e,n,r){n.status="fulfilled",n.value=r,bp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,_p(e,r)))}function zu(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,bp(n),n=n.next;while(n!==l)}e.action=null}function bp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Sp(e,n){return n}function Ep(e,n){if(pe){var r=De.formState;if(r!==null){e:{var l=se;if(pe){if(ke){t:{for(var c=ke,d=Xt;c.nodeType!==8;){if(!d){c=null;break t}if(c=Zt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){ke=Zt(c.nextSibling),l=c.data==="F!";break e}}ni(l)}l=!1}l&&(n=r[0])}}return r=yt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:n},r.queue=l,r=Bp.bind(null,se,l),l.dispatch=r,l=Uu(!1),d=qu.bind(null,se,!1,l.queue),l=yt(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,r=dE.bind(null,se,c,d,r),c.dispatch=r,l.memoizedState=e,[n,r,!1]}function Cp(e){var n=Ye();return Tp(n,xe,e)}function Tp(e,n,r){if(n=ku(e,n,Sp)[0],e=ql(Nn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Xr(n)}catch(p){throw p===zs?Il:p}else l=n;n=Ye();var c=n.queue,d=c.dispatch;return r!==n.memoizedState&&(se.flags|=2048,Vs(9,{destroy:void 0},fE.bind(null,c,r),null)),[l,d,e]}function fE(e,n){e.action=n}function wp(e){var n=Ye(),r=xe;if(r!==null)return Tp(n,r,e);Ye(),n=n.memoizedState,r=Ye();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Vs(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=se.updateQueue,n===null&&(n=Bl(),se.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function xp(){return Ye().memoizedState}function Gl(e,n,r,l){var c=yt();se.flags|=e,c.memoizedState=Vs(1|n,{destroy:void 0},r,l===void 0?null:l)}function Fl(e,n,r,l){var c=Ye();l=l===void 0?null:l;var d=c.memoizedState.inst;xe!==null&&l!==null&&Au(l,xe.memoizedState.deps)?c.memoizedState=Vs(n,d,r,l):(se.flags|=e,c.memoizedState=Vs(1|n,d,r,l))}function Np(e,n){Gl(8390656,8,e,n)}function ju(e,n){Fl(2048,8,e,n)}function hE(e){se.flags|=4;var n=se.updateQueue;if(n===null)n=Bl(),se.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Ap(e){var n=Ye().memoizedState;return hE({ref:n,nextImpl:e}),function(){if((be&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Rp(e,n){return Fl(4,2,e,n)}function Op(e,n){return Fl(4,4,e,n)}function Dp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Mp(e,n,r){r=r!=null?r.concat([e]):null,Fl(4,4,Dp.bind(null,n,e),r)}function Hu(){}function Ip(e,n){var r=Ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Au(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function kp(e,n){var r=Ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Au(n,l[1]))return l[0];if(l=e(),es){Zn(!0);try{e()}finally{Zn(!1)}}return r.memoizedState=[l,n],l}function Pu(e,n,r){return r===void 0||(xn&1073741824)!==0&&(he&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Lg(),se.lanes|=e,di|=e,r)}function Lp(e,n,r,l){return Lt(r,n)?r:Hs.current!==null?(e=Pu(e,r,l),Lt(e,n)||(Xe=!0),e):(xn&42)===0||(xn&1073741824)!==0&&(he&261930)===0?(Xe=!0,e.memoizedState=r):(e=Lg(),se.lanes|=e,di|=e,n)}function Up(e,n,r,l,c){var d=B.p;B.p=d!==0&&8>d?d:8;var p=M.T,_={};M.T=_,qu(e,!1,n,r);try{var E=c(),N=M.S;if(N!==null&&N(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var I=oE(E,l);Wr(e,n,I,Bt(e))}else Wr(e,n,l,Bt(e))}catch(U){Wr(e,n,{then:function(){},status:"rejected",reason:U},Bt())}finally{B.p=d,p!==null&&_.types!==null&&(p.types=_.types),M.T=p}}function mE(){}function Bu(e,n,r,l){if(e.tag!==5)throw Error(a(476));var c=zp(e).queue;Up(e,c,n,J,r===null?mE:function(){return jp(e),r(l)})}function zp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:J},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function jp(e){var n=zp(e);n.next===null&&(n=e.alternate.memoizedState),Wr(e,n.next.queue,{},Bt())}function Vu(){return ot(ha)}function Hp(){return Ye().memoizedState}function Pp(){return Ye().memoizedState}function pE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Bt();e=ri(r);var l=ai(n,e,r);l!==null&&(Nt(l,n,r),Fr(l,n,r)),n={cache:_u()},e.payload=n;return}n=n.return}}function gE(e,n,r){var l=Bt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yl(e)?Vp(n,r):(r=au(e,n,r,l),r!==null&&(Nt(r,e,l),qp(r,n,l)))}function Bp(e,n,r){var l=Bt();Wr(e,n,r,l)}function Wr(e,n,r,l){var c={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yl(e))Vp(n,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var p=n.lastRenderedState,_=d(p,r);if(c.hasEagerState=!0,c.eagerState=_,Lt(_,p))return xl(e,n,c,0),De===null&&wl(),!1}catch{}finally{}if(r=au(e,n,c,l),r!==null)return Nt(r,e,l),qp(r,n,l),!0}return!1}function qu(e,n,r,l){if(l={lane:2,revertLane:Sd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yl(e)){if(n)throw Error(a(479))}else n=au(e,r,l,2),n!==null&&Nt(n,e,2)}function Yl(e){var n=e.alternate;return e===se||n!==null&&n===se}function Vp(e,n){Ps=Hl=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function qp(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Qh(e,r)}}var Zr={readContext:ot,use:Vl,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};Zr.useEffectEvent=Pe;var Gp={readContext:ot,use:Vl,useCallback:function(e,n){return yt().memoizedState=[e,n===void 0?null:n],e},useContext:ot,useEffect:Np,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Gl(4194308,4,Dp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Gl(4194308,4,e,n)},useInsertionEffect:function(e,n){Gl(4,2,e,n)},useMemo:function(e,n){var r=yt();n=n===void 0?null:n;var l=e();if(es){Zn(!0);try{e()}finally{Zn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=yt();if(r!==void 0){var c=r(n);if(es){Zn(!0);try{r(n)}finally{Zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=gE.bind(null,se,e),[l.memoizedState,e]},useRef:function(e){var n=yt();return e={current:e},n.memoizedState=e},useState:function(e){e=Uu(e);var n=e.queue,r=Bp.bind(null,se,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Hu,useDeferredValue:function(e,n){var r=yt();return Pu(r,e,n)},useTransition:function(){var e=Uu(!1);return e=Up.bind(null,se,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=se,c=yt();if(pe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),De===null)throw Error(a(349));(he&127)!==0||dp(l,n,r)}c.memoizedState=r;var d={value:r,getSnapshot:n};return c.queue=d,Np(hp.bind(null,l,d,e),[e]),l.flags|=2048,Vs(9,{destroy:void 0},fp.bind(null,l,d,r,n),null),r},useId:function(){var e=yt(),n=De.identifierPrefix;if(pe){var r=hn,l=fn;r=(l&~(1<<32-kt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Pl++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=cE++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Vu,useFormState:Ep,useActionState:Ep,useOptimistic:function(e){var n=yt();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=qu.bind(null,se,!0,r),r.dispatch=n,[e,n]},useMemoCache:Iu,useCacheRefresh:function(){return yt().memoizedState=pE.bind(null,se)},useEffectEvent:function(e){var n=yt(),r={impl:e};return n.memoizedState=r,function(){if((be&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Gu={readContext:ot,use:Vl,useCallback:Ip,useContext:ot,useEffect:ju,useImperativeHandle:Mp,useInsertionEffect:Rp,useLayoutEffect:Op,useMemo:kp,useReducer:ql,useRef:xp,useState:function(){return ql(Nn)},useDebugValue:Hu,useDeferredValue:function(e,n){var r=Ye();return Lp(r,xe.memoizedState,e,n)},useTransition:function(){var e=ql(Nn)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:Xr(e),n]},useSyncExternalStore:up,useId:Hp,useHostTransitionStatus:Vu,useFormState:Cp,useActionState:Cp,useOptimistic:function(e,n){var r=Ye();return gp(r,xe,e,n)},useMemoCache:Iu,useCacheRefresh:Pp};Gu.useEffectEvent=Ap;var Fp={readContext:ot,use:Vl,useCallback:Ip,useContext:ot,useEffect:ju,useImperativeHandle:Mp,useInsertionEffect:Rp,useLayoutEffect:Op,useMemo:kp,useReducer:Lu,useRef:xp,useState:function(){return Lu(Nn)},useDebugValue:Hu,useDeferredValue:function(e,n){var r=Ye();return xe===null?Pu(r,e,n):Lp(r,xe.memoizedState,e,n)},useTransition:function(){var e=Lu(Nn)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:Xr(e),n]},useSyncExternalStore:up,useId:Hp,useHostTransitionStatus:Vu,useFormState:wp,useActionState:wp,useOptimistic:function(e,n){var r=Ye();return xe!==null?gp(r,xe,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Iu,useCacheRefresh:Pp};Fp.useEffectEvent=Ap;function Fu(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:v({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yu={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Bt(),c=ri(l);c.payload=n,r!=null&&(c.callback=r),n=ai(e,c,l),n!==null&&(Nt(n,e,l),Fr(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Bt(),c=ri(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ai(e,c,l),n!==null&&(Nt(n,e,l),Fr(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Bt(),l=ri(r);l.tag=2,n!=null&&(l.callback=n),n=ai(e,l,r),n!==null&&(Nt(n,e,r),Fr(n,e,r))}};function Yp(e,n,r,l,c,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,p):n.prototype&&n.prototype.isPureReactComponent?!zr(r,l)||!zr(c,d):!0}function Kp(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&Yu.enqueueReplaceState(n,n.state,null)}function ts(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=v({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function Qp(e){Tl(e)}function Xp(e){console.error(e)}function Wp(e){Tl(e)}function Kl(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Zp(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ku(e,n,r){return r=ri(r),r.tag=3,r.payload={element:null},r.callback=function(){Kl(e,n)},r}function Jp(e){return e=ri(e),e.tag=3,e}function $p(e,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){Zp(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Zp(n,r,l),typeof c!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function _E(e,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ks(n,r,c,!0),r=zt.current,r!==null){switch(r.tag){case 31:case 13:return Wt===null?ro():r.alternate===null&&Be===0&&(Be=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===kl?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),yd(e,l,c)),!1;case 22:return r.flags|=65536,l===kl?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),yd(e,l,c)),!1}throw Error(a(435,r.tag))}return yd(e,l,c),ro(),!1}if(pe)return n=zt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==fu&&(e=Error(a(422),{cause:l}),Pr(Yt(e,r)))):(l!==fu&&(n=Error(a(423),{cause:l}),Pr(Yt(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Yt(l,r),c=Ku(e.stateNode,l,c),Cu(e,c),Be!==4&&(Be=2)),!1;var d=Error(a(520),{cause:l});if(d=Yt(d,r),ra===null?ra=[d]:ra.push(d),Be!==4&&(Be=2),n===null)return!0;l=Yt(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Ku(r.stateNode,l,e),Cu(r,e),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(fi===null||!fi.has(d))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Jp(c),$p(c,e,r,l),Cu(r,c),!1}r=r.return}while(r!==null);return!1}var Qu=Error(a(461)),Xe=!1;function ct(e,n,r,l){n.child=e===null?ip(n,null,r,l):$i(n,e.child,r,l)}function eg(e,n,r,l,c){r=r.render;var d=n.ref;if("ref"in l){var p={};for(var _ in l)_!=="ref"&&(p[_]=l[_])}else p=l;return Xi(n),l=Ru(e,n,r,p,d,c),_=Ou(),e!==null&&!Xe?(Du(e,n,c),An(e,n,c)):(pe&&_&&uu(n),n.flags|=1,ct(e,n,l,c),n.child)}function tg(e,n,r,l,c){if(e===null){var d=r.type;return typeof d=="function"&&!lu(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,ng(e,n,d,l,c)):(e=Al(r.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!nd(e,c)){var p=d.memoizedProps;if(r=r.compare,r=r!==null?r:zr,r(p,l)&&e.ref===n.ref)return An(e,n,c)}return n.flags|=1,e=En(d,l),e.ref=n.ref,e.return=n,n.child=e}function ng(e,n,r,l,c){if(e!==null){var d=e.memoizedProps;if(zr(d,l)&&e.ref===n.ref)if(Xe=!1,n.pendingProps=l=d,nd(e,c))(e.flags&131072)!==0&&(Xe=!0);else return n.lanes=e.lanes,An(e,n,c)}return Xu(e,n,r,l,c)}function ig(e,n,r,l){var c=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~d}else l=0,n.child=null;return sg(e,n,d,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ml(n,d!==null?d.cachePool:null),d!==null?ap(n,d):wu(),lp(n);else return l=n.lanes=536870912,sg(e,n,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(Ml(n,d.cachePool),ap(n,d),oi(),n.memoizedState=null):(e!==null&&Ml(n,null),wu(),oi());return ct(e,n,c,r),n.child}function Jr(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sg(e,n,r,l,c){var d=vu();return d=d===null?null:{parent:Ke._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},e!==null&&Ml(n,null),wu(),lp(n),e!==null&&ks(e,n,l,!0),n.childLanes=c,null}function Ql(e,n){return n=Wl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function rg(e,n,r){return $i(n,e.child,null,r),e=Ql(n,n.pendingProps),e.flags|=2,jt(n),n.memoizedState=null,e}function yE(e,n,r){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(pe){if(l.mode==="hidden")return e=Ql(n,l),n.lanes=536870912,Jr(null,e);if(Nu(n),(e=ke)?(e=__(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ei!==null?{id:fn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},r=Vm(e),r.return=n,n.child=r,lt=n,ke=null)):e=null,e===null)throw ni(n);return n.lanes=536870912,null}return Ql(n,l)}var d=e.memoizedState;if(d!==null){var p=d.dehydrated;if(Nu(n),c)if(n.flags&256)n.flags&=-257,n=rg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Xe||ks(e,n,r,!1),c=(r&e.childLanes)!==0,Xe||c){if(l=De,l!==null&&(p=Xh(l,r),p!==0&&p!==d.retryLane))throw d.retryLane=p,Fi(e,p),Nt(l,e,p),Qu;ro(),n=rg(e,n,r)}else e=d.treeContext,ke=Zt(p.nextSibling),lt=n,pe=!0,ti=null,Xt=!1,e!==null&&Fm(n,e),n=Ql(n,l),n.flags|=4096;return n}return e=En(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xl(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Xu(e,n,r,l,c){return Xi(n),r=Ru(e,n,r,l,void 0,c),l=Ou(),e!==null&&!Xe?(Du(e,n,c),An(e,n,c)):(pe&&l&&uu(n),n.flags|=1,ct(e,n,r,c),n.child)}function ag(e,n,r,l,c,d){return Xi(n),n.updateQueue=null,r=cp(n,l,r,c),op(e),l=Ou(),e!==null&&!Xe?(Du(e,n,d),An(e,n,d)):(pe&&l&&uu(n),n.flags|=1,ct(e,n,r,d),n.child)}function lg(e,n,r,l,c){if(Xi(n),n.stateNode===null){var d=Os,p=r.contextType;typeof p=="object"&&p!==null&&(d=ot(p)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yu,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Su(n),p=r.contextType,d.context=typeof p=="object"&&p!==null?ot(p):Os,d.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Fu(n,r,p,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&Yu.enqueueReplaceState(d,d.state,null),Kr(n,l,d,c),Yr(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var _=n.memoizedProps,E=ts(r,_);d.props=E;var N=d.context,I=r.contextType;p=Os,typeof I=="object"&&I!==null&&(p=ot(I));var U=r.getDerivedStateFromProps;I=typeof U=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,I||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||N!==p)&&Kp(n,d,l,p),si=!1;var A=n.memoizedState;d.state=A,Kr(n,l,d,c),Yr(),N=n.memoizedState,_||A!==N||si?(typeof U=="function"&&(Fu(n,r,U,l),N=n.memoizedState),(E=si||Yp(n,r,E,l,A,N,p))?(I||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=N),d.props=l,d.state=N,d.context=p,l=E):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Eu(e,n),p=n.memoizedProps,I=ts(r,p),d.props=I,U=n.pendingProps,A=d.context,N=r.contextType,E=Os,typeof N=="object"&&N!==null&&(E=ot(N)),_=r.getDerivedStateFromProps,(N=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==U||A!==E)&&Kp(n,d,l,E),si=!1,A=n.memoizedState,d.state=A,Kr(n,l,d,c),Yr();var R=n.memoizedState;p!==U||A!==R||si||e!==null&&e.dependencies!==null&&Ol(e.dependencies)?(typeof _=="function"&&(Fu(n,r,_,l),R=n.memoizedState),(I=si||Yp(n,r,I,l,A,R,E)||e!==null&&e.dependencies!==null&&Ol(e.dependencies))?(N||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,R,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,R,E)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=R),d.props=l,d.state=R,d.context=E,l=I):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Xl(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=$i(n,e.child,null,c),n.child=$i(n,null,r,c)):ct(e,n,r,c),n.memoizedState=d.state,e=n.child):e=An(e,n,c),e}function og(e,n,r,l){return Ki(),n.flags|=256,ct(e,n,r,l),n.child}var Wu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zu(e){return{baseLanes:e,cachePool:Zm()}}function Ju(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Pt),e}function cg(e,n,r){var l=n.pendingProps,c=!1,d=(n.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(pe){if(c?li(n):oi(),(e=ke)?(e=__(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ei!==null?{id:fn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},r=Vm(e),r.return=n,n.child=r,lt=n,ke=null)):e=null,e===null)throw ni(n);return kd(e)?n.lanes=32:n.lanes=536870912,null}var _=l.children;return l=l.fallback,c?(oi(),c=n.mode,_=Wl({mode:"hidden",children:_},c),l=Yi(l,c,r,null),_.return=n,l.return=n,_.sibling=l,n.child=_,l=n.child,l.memoizedState=Zu(r),l.childLanes=Ju(e,p,r),n.memoizedState=Wu,Jr(null,l)):(li(n),$u(n,_))}var E=e.memoizedState;if(E!==null&&(_=E.dehydrated,_!==null)){if(d)n.flags&256?(li(n),n.flags&=-257,n=ed(e,n,r)):n.memoizedState!==null?(oi(),n.child=e.child,n.flags|=128,n=null):(oi(),_=l.fallback,c=n.mode,l=Wl({mode:"visible",children:l.children},c),_=Yi(_,c,r,null),_.flags|=2,l.return=n,_.return=n,l.sibling=_,n.child=l,$i(n,e.child,null,r),l=n.child,l.memoizedState=Zu(r),l.childLanes=Ju(e,p,r),n.memoizedState=Wu,n=Jr(null,l));else if(li(n),kd(_)){if(p=_.nextSibling&&_.nextSibling.dataset,p)var N=p.dgst;p=N,l=Error(a(419)),l.stack="",l.digest=p,Pr({value:l,source:null,stack:null}),n=ed(e,n,r)}else if(Xe||ks(e,n,r,!1),p=(r&e.childLanes)!==0,Xe||p){if(p=De,p!==null&&(l=Xh(p,r),l!==0&&l!==E.retryLane))throw E.retryLane=l,Fi(e,l),Nt(p,e,l),Qu;Id(_)||ro(),n=ed(e,n,r)}else Id(_)?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,ke=Zt(_.nextSibling),lt=n,pe=!0,ti=null,Xt=!1,e!==null&&Fm(n,e),n=$u(n,l.children),n.flags|=4096);return n}return c?(oi(),_=l.fallback,c=n.mode,E=e.child,N=E.sibling,l=En(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&65011712,N!==null?_=En(N,_):(_=Yi(_,c,r,null),_.flags|=2),_.return=n,l.return=n,l.sibling=_,n.child=l,Jr(null,l),l=n.child,_=e.child.memoizedState,_===null?_=Zu(r):(c=_.cachePool,c!==null?(E=Ke._currentValue,c=c.parent!==E?{parent:E,pool:E}:c):c=Zm(),_={baseLanes:_.baseLanes|r,cachePool:c}),l.memoizedState=_,l.childLanes=Ju(e,p,r),n.memoizedState=Wu,Jr(e.child,l)):(li(n),r=e.child,e=r.sibling,r=En(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function $u(e,n){return n=Wl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wl(e,n){return e=Ut(22,e,null,n),e.lanes=0,e}function ed(e,n,r){return $i(n,e.child,null,r),e=$u(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ug(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),pu(e.return,n,r)}function td(e,n,r,l,c,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c,treeForkCount:d}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=c,p.treeForkCount=d)}function dg(e,n,r){var l=n.pendingProps,c=l.revealOrder,d=l.tail;l=l.children;var p=Fe.current,_=(p&2)!==0;if(_?(p=p&1|2,n.flags|=128):p&=1,G(Fe,p),ct(e,n,l,r),l=pe?Hr:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ug(e,r,n);else if(e.tag===19)ug(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&jl(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),td(n,!1,c,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&jl(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}td(n,!0,r,null,d,l);break;case"together":td(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function An(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),di|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ks(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=En(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=En(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function nd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ol(e)))}function vE(e,n,r){switch(n.tag){case 3:_t(n,n.stateNode.containerInfo),ii(n,Ke,e.memoizedState.cache),Ki();break;case 27:case 5:Tr(n);break;case 4:_t(n,n.stateNode.containerInfo);break;case 10:ii(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Nu(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(li(n),n.flags|=128,null):(r&n.child.childLanes)!==0?cg(e,n,r):(li(n),e=An(e,n,r),e!==null?e.sibling:null);li(n);break;case 19:var c=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ks(e,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return dg(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(Fe,Fe.current),l)break;return null;case 22:return n.lanes=0,ig(e,n,r,n.pendingProps);case 24:ii(n,Ke,e.memoizedState.cache)}return An(e,n,r)}function fg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Xe=!0;else{if(!nd(e,r)&&(n.flags&128)===0)return Xe=!1,vE(e,n,r);Xe=(e.flags&131072)!==0}else Xe=!1,pe&&(n.flags&1048576)!==0&&Gm(n,Hr,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Zi(n.elementType),n.type=e,typeof e=="function")lu(e)?(l=ts(e,l),n.tag=1,n=lg(null,n,e,l,r)):(n.tag=0,n=Xu(null,n,e,l,r));else{if(e!=null){var c=e.$$typeof;if(c===Se){n.tag=11,n=eg(null,n,e,l,r);break e}else if(c===Z){n.tag=14,n=tg(null,n,e,l,r);break e}}throw n=Dt(e)||e,Error(a(306,n,""))}}return n;case 0:return Xu(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ts(l,n.pendingProps),lg(e,n,l,c,r);case 3:e:{if(_t(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var d=n.memoizedState;c=d.element,Eu(e,n),Kr(n,l,null,r);var p=n.memoizedState;if(l=p.cache,ii(n,Ke,l),l!==d.cache&&gu(n,[Ke],r,!0),Yr(),l=p.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=og(e,n,l,r);break e}else if(l!==c){c=Yt(Error(a(424)),n),Pr(c),n=og(e,n,l,r);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ke=Zt(e.firstChild),lt=n,pe=!0,ti=null,Xt=!0,r=ip(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ki(),l===c){n=An(e,n,r);break e}ct(e,n,l,r)}n=n.child}return n;case 26:return Xl(e,n),e===null?(r=C_(n.type,null,n.pendingProps,null))?n.memoizedState=r:pe||(r=n.type,e=n.pendingProps,l=ho(ce.current).createElement(r),l[at]=n,l[St]=e,ut(l,r,e),et(l),n.stateNode=l):n.memoizedState=C_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Tr(n),e===null&&pe&&(l=n.stateNode=b_(n.type,n.pendingProps,ce.current),lt=n,Xt=!0,c=ke,gi(n.type)?(Ld=c,ke=Zt(l.firstChild)):ke=c),ct(e,n,n.pendingProps.children,r),Xl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&pe&&((c=l=ke)&&(l=XE(l,n.type,n.pendingProps,Xt),l!==null?(n.stateNode=l,lt=n,ke=Zt(l.firstChild),Xt=!1,c=!0):c=!1),c||ni(n)),Tr(n),c=n.type,d=n.pendingProps,p=e!==null?e.memoizedProps:null,l=d.children,Od(c,d)?l=null:p!==null&&Od(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Ru(e,n,uE,null,null,r),ha._currentValue=c),Xl(e,n),ct(e,n,l,r),n.child;case 6:return e===null&&pe&&((e=r=ke)&&(r=WE(r,n.pendingProps,Xt),r!==null?(n.stateNode=r,lt=n,ke=null,e=!0):e=!1),e||ni(n)),null;case 13:return cg(e,n,r);case 4:return _t(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=$i(n,null,l,r):ct(e,n,l,r),n.child;case 11:return eg(e,n,n.type,n.pendingProps,r);case 7:return ct(e,n,n.pendingProps,r),n.child;case 8:return ct(e,n,n.pendingProps.children,r),n.child;case 12:return ct(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ii(n,n.type,l.value),ct(e,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Xi(n),c=ot(c),l=l(c),n.flags|=1,ct(e,n,l,r),n.child;case 14:return tg(e,n,n.type,n.pendingProps,r);case 15:return ng(e,n,n.type,n.pendingProps,r);case 19:return dg(e,n,r);case 31:return yE(e,n,r);case 22:return ig(e,n,r,n.pendingProps);case 24:return Xi(n),l=ot(Ke),e===null?(c=vu(),c===null&&(c=De,d=_u(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=r),c=d),n.memoizedState={parent:l,cache:c},Su(n),ii(n,Ke,c)):((e.lanes&r)!==0&&(Eu(e,n),Kr(n,null,null,r),Yr()),c=e.memoizedState,d=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ii(n,Ke,l)):(l=d.cache,ii(n,Ke,l),l!==c.cache&&gu(n,[Ke],r,!0))),ct(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Rn(e){e.flags|=4}function id(e,n,r,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Hg())e.flags|=8192;else throw Ji=kl,bu}else e.flags&=-16777217}function hg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!A_(n))if(Hg())e.flags|=8192;else throw Ji=kl,bu}function Zl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Yh():536870912,e.lanes|=n,Ys|=n)}function $r(e,n){if(!pe)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Le(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function bE(e,n,r){var l=n.pendingProps;switch(du(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(n),null;case 1:return Le(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),wn(Ke),Ge(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Is(n)?Rn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hu())),Le(n),null;case 26:var c=n.type,d=n.memoizedState;return e===null?(Rn(n),d!==null?(Le(n),hg(n,d)):(Le(n),id(n,c,null,l,r))):d?d!==e.memoizedState?(Rn(n),Le(n),hg(n,d)):(Le(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Rn(n),Le(n),id(n,c,e,l,r)),null;case 27:if(ol(n),r=ce.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Rn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Le(n),null}e=Y.current,Is(n)?Ym(n):(e=b_(c,l,r),n.stateNode=e,Rn(n))}return Le(n),null;case 5:if(ol(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Rn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Le(n),null}if(d=Y.current,Is(n))Ym(n);else{var p=ho(ce.current);switch(d){case 1:d=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=p.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}d[at]=n,d[St]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)d.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=d;e:switch(ut(d,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Rn(n)}}return Le(n),id(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Rn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=ce.current,Is(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,c=lt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[at]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||c_(e.nodeValue,r)),e||ni(n,!0)}else e=ho(e).createTextNode(l),e[at]=n,n.stateNode=e}return Le(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=Is(n),r!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[at]=n}else Ki(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Le(n),e=!1}else r=hu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(jt(n),n):(jt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Le(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Is(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[at]=n}else Ki(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Le(n),c=!1}else c=hu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(jt(n),n):(jt(n),null)}return jt(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Zl(n,n.updateQueue),Le(n),null);case 4:return Ge(),e===null&&wd(n.stateNode.containerInfo),Le(n),null;case 10:return wn(n.type),Le(n),null;case 19:if(z(Fe),l=n.memoizedState,l===null)return Le(n),null;if(c=(n.flags&128)!==0,d=l.rendering,d===null)if(c)$r(l,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=jl(e),d!==null){for(n.flags|=128,$r(l,!1),e=d.updateQueue,n.updateQueue=e,Zl(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Bm(r,e),r=r.sibling;return G(Fe,Fe.current&1|2),pe&&Cn(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Mt()>no&&(n.flags|=128,c=!0,$r(l,!1),n.lanes=4194304)}else{if(!c)if(e=jl(d),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Zl(n,e),$r(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!pe)return Le(n),null}else 2*Mt()-l.renderingStartTime>no&&r!==536870912&&(n.flags|=128,c=!0,$r(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Mt(),e.sibling=null,r=Fe.current,G(Fe,c?r&1|2:r&1),pe&&Cn(n,l.treeForkCount),e):(Le(n),null);case 22:case 23:return jt(n),xu(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Le(n),n.subtreeFlags&6&&(n.flags|=8192)):Le(n),r=n.updateQueue,r!==null&&Zl(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&z(Wi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),wn(Ke),Le(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function SE(e,n){switch(du(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wn(Ke),Ge(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ol(n),null;case 31:if(n.memoizedState!==null){if(jt(n),n.alternate===null)throw Error(a(340));Ki()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(jt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ki()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return z(Fe),null;case 4:return Ge(),null;case 10:return wn(n.type),null;case 22:case 23:return jt(n),xu(),e!==null&&z(Wi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wn(Ke),null;case 25:return null;default:return null}}function mg(e,n){switch(du(n),n.tag){case 3:wn(Ke),Ge();break;case 26:case 27:case 5:ol(n);break;case 4:Ge();break;case 31:n.memoizedState!==null&&jt(n);break;case 13:jt(n);break;case 19:z(Fe);break;case 10:wn(n.type);break;case 22:case 23:jt(n),xu(),e!==null&&z(Wi);break;case 24:wn(Ke)}}function ea(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&e)===e){l=void 0;var d=r.create,p=r.inst;l=d(),p.destroy=l}r=r.next}while(r!==c)}}catch(_){Te(n,n.return,_)}}function ci(e,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var p=l.inst,_=p.destroy;if(_!==void 0){p.destroy=void 0,c=n;var E=r,N=_;try{N()}catch(I){Te(c,E,I)}}}l=l.next}while(l!==d)}}catch(I){Te(n,n.return,I)}}function pg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{rp(n,r)}catch(l){Te(e,e.return,l)}}}function gg(e,n,r){r.props=ts(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Te(e,n,l)}}function ta(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(c){Te(e,n,c)}}function mn(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Te(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Te(e,n,c)}else r.current=null}function _g(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Te(e,e.return,c)}}function sd(e,n,r){try{var l=e.stateNode;qE(l,e.type,r,n),l[St]=n}catch(c){Te(e,e.return,c)}}function yg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gi(e.type)||e.tag===4}function rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ad(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=bn));else if(l!==4&&(l===27&&gi(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(ad(e,n,r),e=e.sibling;e!==null;)ad(e,n,r),e=e.sibling}function Jl(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&gi(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Jl(e,n,r),e=e.sibling;e!==null;)Jl(e,n,r),e=e.sibling}function vg(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ut(n,l,r),n[at]=e,n[St]=r}catch(d){Te(e,e.return,d)}}var On=!1,We=!1,ld=!1,bg=typeof WeakSet=="function"?WeakSet:Set,tt=null;function EE(e,n){if(e=e.containerInfo,Ad=bo,e=Mm(e),eu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var p=0,_=-1,E=-1,N=0,I=0,U=e,A=null;t:for(;;){for(var R;U!==r||c!==0&&U.nodeType!==3||(_=p+c),U!==d||l!==0&&U.nodeType!==3||(E=p+l),U.nodeType===3&&(p+=U.nodeValue.length),(R=U.firstChild)!==null;)A=U,U=R;for(;;){if(U===e)break t;if(A===r&&++N===c&&(_=p),A===d&&++I===l&&(E=p),(R=U.nextSibling)!==null)break;U=A,A=U.parentNode}U=R}r=_===-1||E===-1?null:{start:_,end:E}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rd={focusedElem:e,selectionRange:r},bo=!1,tt=n;tt!==null;)if(n=tt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,tt=e;else for(;tt!==null;){switch(n=tt,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=n,c=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var F=ts(r.type,c);e=l.getSnapshotBeforeUpdate(F,d),l.__reactInternalSnapshotBeforeUpdate=e}catch($){Te(r,r.return,$)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Md(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,tt=e;break}tt=n.return}}function Sg(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Mn(e,r),l&4&&ea(5,r);break;case 1:if(Mn(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Te(r,r.return,p)}else{var c=ts(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Te(r,r.return,p)}}l&64&&pg(r),l&512&&ta(r,r.return);break;case 3:if(Mn(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{rp(e,n)}catch(p){Te(r,r.return,p)}}break;case 27:n===null&&l&4&&vg(r);case 26:case 5:Mn(e,r),n===null&&l&4&&_g(r),l&512&&ta(r,r.return);break;case 12:Mn(e,r);break;case 31:Mn(e,r),l&4&&Tg(e,r);break;case 13:Mn(e,r),l&4&&wg(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=DE.bind(null,r),ZE(e,r))));break;case 22:if(l=r.memoizedState!==null||On,!l){n=n!==null&&n.memoizedState!==null||We,c=On;var d=We;On=l,(We=n)&&!d?In(e,r,(r.subtreeFlags&8772)!==0):Mn(e,r),On=c,We=d}break;case 30:break;default:Mn(e,r)}}function Eg(e){var n=e.alternate;n!==null&&(e.alternate=null,Eg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&zc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,Ct=!1;function Dn(e,n,r){for(r=r.child;r!==null;)Cg(e,n,r),r=r.sibling}function Cg(e,n,r){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(wr,r)}catch{}switch(r.tag){case 26:We||mn(r,n),Dn(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:We||mn(r,n);var l=je,c=Ct;gi(r.type)&&(je=r.stateNode,Ct=!1),Dn(e,n,r),ua(r.stateNode),je=l,Ct=c;break;case 5:We||mn(r,n);case 6:if(l=je,c=Ct,je=null,Dn(e,n,r),je=l,Ct=c,je!==null)if(Ct)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(r.stateNode)}catch(d){Te(r,n,d)}else try{je.removeChild(r.stateNode)}catch(d){Te(r,n,d)}break;case 18:je!==null&&(Ct?(e=je,p_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),er(e)):p_(je,r.stateNode));break;case 4:l=je,c=Ct,je=r.stateNode.containerInfo,Ct=!0,Dn(e,n,r),je=l,Ct=c;break;case 0:case 11:case 14:case 15:ci(2,r,n),We||ci(4,r,n),Dn(e,n,r);break;case 1:We||(mn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&gg(r,n,l)),Dn(e,n,r);break;case 21:Dn(e,n,r);break;case 22:We=(l=We)||r.memoizedState!==null,Dn(e,n,r),We=l;break;default:Dn(e,n,r)}}function Tg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{er(e)}catch(r){Te(n,n.return,r)}}}function wg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{er(e)}catch(r){Te(n,n.return,r)}}function CE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new bg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new bg),n;default:throw Error(a(435,e.tag))}}function $l(e,n){var r=CE(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var c=ME.bind(null,e,l);l.then(c,c)}})}function Tt(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],d=e,p=n,_=p;e:for(;_!==null;){switch(_.tag){case 27:if(gi(_.type)){je=_.stateNode,Ct=!1;break e}break;case 5:je=_.stateNode,Ct=!1;break e;case 3:case 4:je=_.stateNode.containerInfo,Ct=!0;break e}_=_.return}if(je===null)throw Error(a(160));Cg(d,p,c),je=null,Ct=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xg(n,e),n=n.sibling}var tn=null;function xg(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(n,e),wt(e),l&4&&(ci(3,e,e.return),ea(3,e),ci(5,e,e.return));break;case 1:Tt(n,e),wt(e),l&512&&(We||r===null||mn(r,r.return)),l&64&&On&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=tn;if(Tt(n,e),wt(e),l&512&&(We||r===null||mn(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Ar]||d[at]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),ut(d,l,r),d[at]=e,et(d),l=d;break e;case"link":var p=x_("link","href",c).get(l+(r.href||""));if(p){for(var _=0;_<p.length;_++)if(d=p[_],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(_,1);break t}}d=c.createElement(l),ut(d,l,r),c.head.appendChild(d);break;case"meta":if(p=x_("meta","content",c).get(l+(r.content||""))){for(_=0;_<p.length;_++)if(d=p[_],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(_,1);break t}}d=c.createElement(l),ut(d,l,r),c.head.appendChild(d);break;default:throw Error(a(468,l))}d[at]=e,et(d),l=d}e.stateNode=l}else N_(c,e.type,e.stateNode);else e.stateNode=w_(c,l,e.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?N_(c,e.type,e.stateNode):w_(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&sd(e,e.memoizedProps,r.memoizedProps)}break;case 27:Tt(n,e),wt(e),l&512&&(We||r===null||mn(r,r.return)),r!==null&&l&4&&sd(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Tt(n,e),wt(e),l&512&&(We||r===null||mn(r,r.return)),e.flags&32){c=e.stateNode;try{Cs(c,"")}catch(F){Te(e,e.return,F)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,sd(e,c,r!==null?r.memoizedProps:c)),l&1024&&(ld=!0);break;case 6:if(Tt(n,e),wt(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(F){Te(e,e.return,F)}}break;case 3:if(go=null,c=tn,tn=mo(n.containerInfo),Tt(n,e),tn=c,wt(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{er(n.containerInfo)}catch(F){Te(e,e.return,F)}ld&&(ld=!1,Ng(e));break;case 4:l=tn,tn=mo(e.stateNode.containerInfo),Tt(n,e),wt(e),tn=l;break;case 12:Tt(n,e),wt(e);break;case 31:Tt(n,e),wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$l(e,l)));break;case 13:Tt(n,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(to=Mt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$l(e,l)));break;case 22:c=e.memoizedState!==null;var E=r!==null&&r.memoizedState!==null,N=On,I=We;if(On=N||c,We=I||E,Tt(n,e),We=I,On=N,wt(e),l&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||E||On||We||ns(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){E=r=n;try{if(d=E.stateNode,c)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{_=E.stateNode;var U=E.memoizedProps.style,A=U!=null&&U.hasOwnProperty("display")?U.display:null;_.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(F){Te(E,E.return,F)}}}else if(n.tag===6){if(r===null){E=n;try{E.stateNode.nodeValue=c?"":E.memoizedProps}catch(F){Te(E,E.return,F)}}}else if(n.tag===18){if(r===null){E=n;try{var R=E.stateNode;c?g_(R,!0):g_(E.stateNode,!1)}catch(F){Te(E,E.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,$l(e,r))));break;case 19:Tt(n,e),wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$l(e,l)));break;case 30:break;case 21:break;default:Tt(n,e),wt(e)}}function wt(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(yg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,d=rd(e);Jl(e,d,c);break;case 5:var p=r.stateNode;r.flags&32&&(Cs(p,""),r.flags&=-33);var _=rd(e);Jl(e,_,p);break;case 3:case 4:var E=r.stateNode.containerInfo,N=rd(e);ad(e,N,E);break;default:throw Error(a(161))}}catch(I){Te(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ng(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ng(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Mn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sg(e,n.alternate,n),n=n.sibling}function ns(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ci(4,n,n.return),ns(n);break;case 1:mn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&gg(n,n.return,r),ns(n);break;case 27:ua(n.stateNode);case 26:case 5:mn(n,n.return),ns(n);break;case 22:n.memoizedState===null&&ns(n);break;case 30:ns(n);break;default:ns(n)}e=e.sibling}}function In(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,d=n,p=d.flags;switch(d.tag){case 0:case 11:case 15:In(c,d,r),ea(4,d);break;case 1:if(In(c,d,r),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Te(l,l.return,N)}if(l=d,c=l.updateQueue,c!==null){var _=l.stateNode;try{var E=c.shared.hiddenCallbacks;if(E!==null)for(c.shared.hiddenCallbacks=null,c=0;c<E.length;c++)sp(E[c],_)}catch(N){Te(l,l.return,N)}}r&&p&64&&pg(d),ta(d,d.return);break;case 27:vg(d);case 26:case 5:In(c,d,r),r&&l===null&&p&4&&_g(d),ta(d,d.return);break;case 12:In(c,d,r);break;case 31:In(c,d,r),r&&p&4&&Tg(c,d);break;case 13:In(c,d,r),r&&p&4&&wg(c,d);break;case 22:d.memoizedState===null&&In(c,d,r),ta(d,d.return);break;case 30:break;default:In(c,d,r)}n=n.sibling}}function od(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Br(r))}function cd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Br(e))}function nn(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ag(e,n,r,l),n=n.sibling}function Ag(e,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:nn(e,n,r,l),c&2048&&ea(9,n);break;case 1:nn(e,n,r,l);break;case 3:nn(e,n,r,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Br(e)));break;case 12:if(c&2048){nn(e,n,r,l),e=n.stateNode;try{var d=n.memoizedProps,p=d.id,_=d.onPostCommit;typeof _=="function"&&_(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Te(n,n.return,E)}}else nn(e,n,r,l);break;case 31:nn(e,n,r,l);break;case 13:nn(e,n,r,l);break;case 23:break;case 22:d=n.stateNode,p=n.alternate,n.memoizedState!==null?d._visibility&2?nn(e,n,r,l):na(e,n):d._visibility&2?nn(e,n,r,l):(d._visibility|=2,qs(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&od(p,n);break;case 24:nn(e,n,r,l),c&2048&&cd(n.alternate,n);break;default:nn(e,n,r,l)}}function qs(e,n,r,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,p=n,_=r,E=l,N=p.flags;switch(p.tag){case 0:case 11:case 15:qs(d,p,_,E,c),ea(8,p);break;case 23:break;case 22:var I=p.stateNode;p.memoizedState!==null?I._visibility&2?qs(d,p,_,E,c):na(d,p):(I._visibility|=2,qs(d,p,_,E,c)),c&&N&2048&&od(p.alternate,p);break;case 24:qs(d,p,_,E,c),c&&N&2048&&cd(p.alternate,p);break;default:qs(d,p,_,E,c)}n=n.sibling}}function na(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,c=l.flags;switch(l.tag){case 22:na(r,l),c&2048&&od(l.alternate,l);break;case 24:na(r,l),c&2048&&cd(l.alternate,l);break;default:na(r,l)}n=n.sibling}}var ia=8192;function Gs(e,n,r){if(e.subtreeFlags&ia)for(e=e.child;e!==null;)Rg(e,n,r),e=e.sibling}function Rg(e,n,r){switch(e.tag){case 26:Gs(e,n,r),e.flags&ia&&e.memoizedState!==null&&c1(r,tn,e.memoizedState,e.memoizedProps);break;case 5:Gs(e,n,r);break;case 3:case 4:var l=tn;tn=mo(e.stateNode.containerInfo),Gs(e,n,r),tn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ia,ia=16777216,Gs(e,n,r),ia=l):Gs(e,n,r));break;default:Gs(e,n,r)}}function Og(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function sa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];tt=l,Mg(l,e)}Og(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dg(e),e=e.sibling}function Dg(e){switch(e.tag){case 0:case 11:case 15:sa(e),e.flags&2048&&ci(9,e,e.return);break;case 3:sa(e);break;case 12:sa(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,eo(e)):sa(e);break;default:sa(e)}}function eo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];tt=l,Mg(l,e)}Og(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ci(8,n,n.return),eo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,eo(n));break;default:eo(n)}e=e.sibling}}function Mg(e,n){for(;tt!==null;){var r=tt;switch(r.tag){case 0:case 11:case 15:ci(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Br(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,tt=l;else e:for(r=e;tt!==null;){l=tt;var c=l.sibling,d=l.return;if(Eg(l),l===r){tt=null;break e}if(c!==null){c.return=d,tt=c;break e}tt=d}}}var TE={getCacheForType:function(e){var n=ot(Ke),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return ot(Ke).controller.signal}},wE=typeof WeakMap=="function"?WeakMap:Map,be=0,De=null,ue=null,he=0,Ce=0,Ht=null,ui=!1,Fs=!1,ud=!1,kn=0,Be=0,di=0,is=0,dd=0,Pt=0,Ys=0,ra=null,xt=null,fd=!1,to=0,Ig=0,no=1/0,io=null,fi=null,Ze=0,hi=null,Ks=null,Ln=0,hd=0,md=null,kg=null,aa=0,pd=null;function Bt(){return(be&2)!==0&&he!==0?he&-he:M.T!==null?Sd():Wh()}function Lg(){if(Pt===0)if((he&536870912)===0||pe){var e=dl;dl<<=1,(dl&3932160)===0&&(dl=262144),Pt=e}else Pt=536870912;return e=zt.current,e!==null&&(e.flags|=32),Pt}function Nt(e,n,r){(e===De&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(Qs(e,0),mi(e,he,Pt,!1)),Nr(e,r),((be&2)===0||e!==De)&&(e===De&&((be&2)===0&&(is|=r),Be===4&&mi(e,he,Pt,!1)),pn(e))}function Ug(e,n,r){if((be&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||xr(e,n),c=l?AE(e,n):_d(e,n,!0),d=l;do{if(c===0){Fs&&!l&&mi(e,n,0,!1);break}else{if(r=e.current.alternate,d&&!xE(r)){c=_d(e,n,!1),d=!1;continue}if(c===2){if(d=n,e.errorRecoveryDisabledLanes&d)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var _=e;c=ra;var E=_.current.memoizedState.isDehydrated;if(E&&(Qs(_,p).flags|=256),p=_d(_,p,!1),p!==2){if(ud&&!E){_.errorRecoveryDisabledLanes|=d,is|=d,c=4;break e}d=xt,xt=c,d!==null&&(xt===null?xt=d:xt.push.apply(xt,d))}c=p}if(d=!1,c!==2)continue}}if(c===1){Qs(e,0),mi(e,n,0,!0);break}e:{switch(l=e,d=c,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:mi(l,n,Pt,!ui);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=to+300-Mt(),10<c)){if(mi(l,n,Pt,!ui),hl(l,0,!0)!==0)break e;Ln=n,l.timeoutHandle=h_(zg.bind(null,l,r,xt,io,fd,n,Pt,is,Ys,ui,d,"Throttled",-0,0),c);break e}zg(l,r,xt,io,fd,n,Pt,is,Ys,ui,d,null,-0,0)}}break}while(!0);pn(e)}function zg(e,n,r,l,c,d,p,_,E,N,I,U,A,R){if(e.timeoutHandle=-1,U=n.subtreeFlags,U&8192||(U&16785408)===16785408){U={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bn},Rg(n,d,U);var F=(d&62914560)===d?to-Mt():(d&4194048)===d?Ig-Mt():0;if(F=u1(U,F),F!==null){Ln=d,e.cancelPendingCommit=F(Fg.bind(null,e,n,d,r,l,c,p,_,E,I,U,null,A,R)),mi(e,d,p,!N);return}}Fg(e,n,d,r,l,c,p,_,E)}function xE(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],d=c.getSnapshot;c=c.value;try{if(!Lt(d(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function mi(e,n,r,l){n&=~dd,n&=~is,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var d=31-kt(c),p=1<<d;l[d]=-1,c&=~p}r!==0&&Kh(e,r,n)}function so(){return(be&6)===0?(la(0),!1):!0}function gd(){if(ue!==null){if(Ce===0)var e=ue.return;else e=ue,Tn=Qi=null,Mu(e),js=null,qr=0,e=ue;for(;e!==null;)mg(e.alternate,e),e=e.return;ue=null}}function Qs(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,YE(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ln=0,gd(),De=e,ue=r=En(e.current,null),he=n,Ce=0,Ht=null,ui=!1,Fs=xr(e,n),ud=!1,Ys=Pt=dd=is=di=Be=0,xt=ra=null,fd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-kt(l),d=1<<c;n|=e[c],l&=~d}return kn=n,wl(),r}function jg(e,n){se=null,M.H=Zr,n===zs||n===Il?(n=ep(),Ce=3):n===bu?(n=ep(),Ce=4):Ce=n===Qu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ht=n,ue===null&&(Be=1,Kl(e,Yt(n,e.current)))}function Hg(){var e=zt.current;return e===null?!0:(he&4194048)===he?Wt===null:(he&62914560)===he||(he&536870912)!==0?e===Wt:!1}function Pg(){var e=M.H;return M.H=Zr,e===null?Zr:e}function Bg(){var e=M.A;return M.A=TE,e}function ro(){Be=4,ui||(he&4194048)!==he&&zt.current!==null||(Fs=!0),(di&134217727)===0&&(is&134217727)===0||De===null||mi(De,he,Pt,!1)}function _d(e,n,r){var l=be;be|=2;var c=Pg(),d=Bg();(De!==e||he!==n)&&(io=null,Qs(e,n)),n=!1;var p=Be;e:do try{if(Ce!==0&&ue!==null){var _=ue,E=Ht;switch(Ce){case 8:gd(),p=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(n=!0);var N=Ce;if(Ce=0,Ht=null,Xs(e,_,E,N),r&&Fs){p=0;break e}break;default:N=Ce,Ce=0,Ht=null,Xs(e,_,E,N)}}NE(),p=Be;break}catch(I){jg(e,I)}while(!0);return n&&e.shellSuspendCounter++,Tn=Qi=null,be=l,M.H=c,M.A=d,ue===null&&(De=null,he=0,wl()),p}function NE(){for(;ue!==null;)Vg(ue)}function AE(e,n){var r=be;be|=2;var l=Pg(),c=Bg();De!==e||he!==n?(io=null,no=Mt()+500,Qs(e,n)):Fs=xr(e,n);e:do try{if(Ce!==0&&ue!==null){n=ue;var d=Ht;t:switch(Ce){case 1:Ce=0,Ht=null,Xs(e,n,d,1);break;case 2:case 9:if(Jm(d)){Ce=0,Ht=null,qg(n);break}n=function(){Ce!==2&&Ce!==9||De!==e||(Ce=7),pn(e)},d.then(n,n);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Jm(d)?(Ce=0,Ht=null,qg(n)):(Ce=0,Ht=null,Xs(e,n,d,7));break;case 5:var p=null;switch(ue.tag){case 26:p=ue.memoizedState;case 5:case 27:var _=ue;if(p?A_(p):_.stateNode.complete){Ce=0,Ht=null;var E=_.sibling;if(E!==null)ue=E;else{var N=_.return;N!==null?(ue=N,ao(N)):ue=null}break t}}Ce=0,Ht=null,Xs(e,n,d,5);break;case 6:Ce=0,Ht=null,Xs(e,n,d,6);break;case 8:gd(),Be=6;break e;default:throw Error(a(462))}}RE();break}catch(I){jg(e,I)}while(!0);return Tn=Qi=null,M.H=l,M.A=c,be=r,ue!==null?0:(De=null,he=0,wl(),Be)}function RE(){for(;ue!==null&&!Jb();)Vg(ue)}function Vg(e){var n=fg(e.alternate,e,kn);e.memoizedProps=e.pendingProps,n===null?ao(e):ue=n}function qg(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=ag(r,n,n.pendingProps,n.type,void 0,he);break;case 11:n=ag(r,n,n.pendingProps,n.type.render,n.ref,he);break;case 5:Mu(n);default:mg(r,n),n=ue=Bm(n,kn),n=fg(r,n,kn)}e.memoizedProps=e.pendingProps,n===null?ao(e):ue=n}function Xs(e,n,r,l){Tn=Qi=null,Mu(n),js=null,qr=0;var c=n.return;try{if(_E(e,c,n,r,he)){Be=1,Kl(e,Yt(r,e.current)),ue=null;return}}catch(d){if(c!==null)throw ue=c,d;Be=1,Kl(e,Yt(r,e.current)),ue=null;return}n.flags&32768?(pe||l===1?e=!0:Fs||(he&536870912)!==0?e=!1:(ui=e=!0,(l===2||l===9||l===3||l===6)&&(l=zt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gg(n,e)):ao(n)}function ao(e){var n=e;do{if((n.flags&32768)!==0){Gg(n,ui);return}e=n.return;var r=bE(n.alternate,n,kn);if(r!==null){ue=r;return}if(n=n.sibling,n!==null){ue=n;return}ue=n=e}while(n!==null);Be===0&&(Be=5)}function Gg(e,n){do{var r=SE(e.alternate,e);if(r!==null){r.flags&=32767,ue=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){ue=e;return}ue=e=r}while(e!==null);Be=6,ue=null}function Fg(e,n,r,l,c,d,p,_,E){e.cancelPendingCommit=null;do lo();while(Ze!==0);if((be&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=ru,oS(e,r,d,p,_,E),e===De&&(ue=De=null,he=0),Ks=n,hi=e,Ln=r,hd=d,md=c,kg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,IE(cl,function(){return Wg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,c=B.p,B.p=2,p=be,be|=4;try{EE(e,n,r)}finally{be=p,B.p=c,M.T=l}}Ze=1,Yg(),Kg(),Qg()}}function Yg(){if(Ze===1){Ze=0;var e=hi,n=Ks,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var l=B.p;B.p=2;var c=be;be|=4;try{xg(n,e);var d=Rd,p=Mm(e.containerInfo),_=d.focusedElem,E=d.selectionRange;if(p!==_&&_&&_.ownerDocument&&Dm(_.ownerDocument.documentElement,_)){if(E!==null&&eu(_)){var N=E.start,I=E.end;if(I===void 0&&(I=N),"selectionStart"in _)_.selectionStart=N,_.selectionEnd=Math.min(I,_.value.length);else{var U=_.ownerDocument||document,A=U&&U.defaultView||window;if(A.getSelection){var R=A.getSelection(),F=_.textContent.length,$=Math.min(E.start,F),Ae=E.end===void 0?$:Math.min(E.end,F);!R.extend&&$>Ae&&(p=Ae,Ae=$,$=p);var w=Om(_,$),C=Om(_,Ae);if(w&&C&&(R.rangeCount!==1||R.anchorNode!==w.node||R.anchorOffset!==w.offset||R.focusNode!==C.node||R.focusOffset!==C.offset)){var x=U.createRange();x.setStart(w.node,w.offset),R.removeAllRanges(),$>Ae?(R.addRange(x),R.extend(C.node,C.offset)):(x.setEnd(C.node,C.offset),R.addRange(x))}}}}for(U=[],R=_;R=R.parentNode;)R.nodeType===1&&U.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<U.length;_++){var L=U[_];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}bo=!!Ad,Rd=Ad=null}finally{be=c,B.p=l,M.T=r}}e.current=n,Ze=2}}function Kg(){if(Ze===2){Ze=0;var e=hi,n=Ks,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var l=B.p;B.p=2;var c=be;be|=4;try{Sg(e,n.alternate,n)}finally{be=c,B.p=l,M.T=r}}Ze=3}}function Qg(){if(Ze===4||Ze===3){Ze=0,$b();var e=hi,n=Ks,r=Ln,l=kg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ze=5:(Ze=0,Ks=hi=null,Xg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(fi=null),Lc(r),n=n.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(wr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=M.T,c=B.p,B.p=2,M.T=null;try{for(var d=e.onRecoverableError,p=0;p<l.length;p++){var _=l[p];d(_.value,{componentStack:_.stack})}}finally{M.T=n,B.p=c}}(Ln&3)!==0&&lo(),pn(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===pd?aa++:(aa=0,pd=e):aa=0,la(0)}}function Xg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Br(n)))}function lo(){return Yg(),Kg(),Qg(),Wg()}function Wg(){if(Ze!==5)return!1;var e=hi,n=hd;hd=0;var r=Lc(Ln),l=M.T,c=B.p;try{B.p=32>r?32:r,M.T=null,r=md,md=null;var d=hi,p=Ln;if(Ze=0,Ks=hi=null,Ln=0,(be&6)!==0)throw Error(a(331));var _=be;if(be|=4,Dg(d.current),Ag(d,d.current,p,r),be=_,la(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(wr,d)}catch{}return!0}finally{B.p=c,M.T=l,Xg(e,n)}}function Zg(e,n,r){n=Yt(r,n),n=Ku(e.stateNode,n,2),e=ai(e,n,2),e!==null&&(Nr(e,2),pn(e))}function Te(e,n,r){if(e.tag===3)Zg(e,e,r);else for(;n!==null;){if(n.tag===3){Zg(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fi===null||!fi.has(l))){e=Yt(r,e),r=Jp(2),l=ai(n,r,2),l!==null&&($p(r,l,n,e),Nr(l,2),pn(l));break}}n=n.return}}function yd(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new wE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(ud=!0,c.add(r),e=OE.bind(null,e,n,r),n.then(e,e))}function OE(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,De===e&&(he&r)===r&&(Be===4||Be===3&&(he&62914560)===he&&300>Mt()-to?(be&2)===0&&Qs(e,0):dd|=r,Ys===he&&(Ys=0)),pn(e)}function Jg(e,n){n===0&&(n=Yh()),e=Fi(e,n),e!==null&&(Nr(e,n),pn(e))}function DE(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Jg(e,r)}function ME(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Jg(e,r)}function IE(e,n){return Dc(e,n)}var oo=null,Ws=null,vd=!1,co=!1,bd=!1,pi=0;function pn(e){e!==Ws&&e.next===null&&(Ws===null?oo=Ws=e:Ws=Ws.next=e),co=!0,vd||(vd=!0,LE())}function la(e,n){if(!bd&&co){bd=!0;do for(var r=!1,l=oo;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var p=l.suspendedLanes,_=l.pingedLanes;d=(1<<31-kt(42|e)+1)-1,d&=c&~(p&~_),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,n_(l,d))}else d=he,d=hl(l,l===De?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||xr(l,d)||(r=!0,n_(l,d));l=l.next}while(r);bd=!1}}function kE(){$g()}function $g(){co=vd=!1;var e=0;pi!==0&&FE()&&(e=pi);for(var n=Mt(),r=null,l=oo;l!==null;){var c=l.next,d=e_(l,n);d===0?(l.next=null,r===null?oo=c:r.next=c,c===null&&(Ws=r)):(r=l,(e!==0||(d&3)!==0)&&(co=!0)),l=c}Ze!==0&&Ze!==5||la(e),pi!==0&&(pi=0)}function e_(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var p=31-kt(d),_=1<<p,E=c[p];E===-1?((_&r)===0||(_&l)!==0)&&(c[p]=lS(_,n)):E<=n&&(e.expiredLanes|=_),d&=~_}if(n=De,r=he,r=hl(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Mc(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||xr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&Mc(l),Lc(r)){case 2:case 8:r=Gh;break;case 32:r=cl;break;case 268435456:r=Fh;break;default:r=cl}return l=t_.bind(null,e),r=Dc(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&Mc(l),e.callbackPriority=2,e.callbackNode=null,2}function t_(e,n){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(lo()&&e.callbackNode!==r)return null;var l=he;return l=hl(e,e===De?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ug(e,l,n),e_(e,Mt()),e.callbackNode!=null&&e.callbackNode===r?t_.bind(null,e):null)}function n_(e,n){if(lo())return null;Ug(e,n,!0)}function LE(){KE(function(){(be&6)!==0?Dc(qh,kE):$g()})}function Sd(){if(pi===0){var e=Ls;e===0&&(e=ul,ul<<=1,(ul&261888)===0&&(ul=256)),pi=e}return pi}function i_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_l(""+e)}function s_(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function UE(e,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var d=i_((c[St]||null).action),p=l.submitter;p&&(n=(n=p[St]||null)?i_(n.formAction):p.getAttribute("formAction"),n!==null&&(d=n,p=null));var _=new Sl("action","action",null,l,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(pi!==0){var E=p?s_(c,p):new FormData(c);Bu(r,{pending:!0,data:E,method:c.method,action:d},null,E)}}else typeof d=="function"&&(_.preventDefault(),E=p?s_(c,p):new FormData(c),Bu(r,{pending:!0,data:E,method:c.method,action:d},d,E))},currentTarget:c}]})}}for(var Ed=0;Ed<su.length;Ed++){var Cd=su[Ed],zE=Cd.toLowerCase(),jE=Cd[0].toUpperCase()+Cd.slice(1);en(zE,"on"+jE)}en(Lm,"onAnimationEnd"),en(Um,"onAnimationIteration"),en(zm,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(eE,"onTransitionRun"),en(tE,"onTransitionStart"),en(nE,"onTransitionCancel"),en(jm,"onTransitionEnd"),Ss("onMouseEnter",["mouseout","mouseover"]),Ss("onMouseLeave",["mouseout","mouseover"]),Ss("onPointerEnter",["pointerout","pointerover"]),Ss("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oa));function r_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],c=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var p=l.length-1;0<=p;p--){var _=l[p],E=_.instance,N=_.currentTarget;if(_=_.listener,E!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=N;try{d(c)}catch(I){Tl(I)}c.currentTarget=null,d=E}else for(p=0;p<l.length;p++){if(_=l[p],E=_.instance,N=_.currentTarget,_=_.listener,E!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=N;try{d(c)}catch(I){Tl(I)}c.currentTarget=null,d=E}}}}function de(e,n){var r=n[Uc];r===void 0&&(r=n[Uc]=new Set);var l=e+"__bubble";r.has(l)||(a_(n,e,2,!1),r.add(l))}function Td(e,n,r){var l=0;n&&(l|=4),a_(r,e,l,n)}var uo="_reactListening"+Math.random().toString(36).slice(2);function wd(e){if(!e[uo]){e[uo]=!0,$h.forEach(function(r){r!=="selectionchange"&&(HE.has(r)||Td(r,!1,e),Td(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uo]||(n[uo]=!0,Td("selectionchange",!1,n))}}function a_(e,n,r,l){switch(L_(n)){case 2:var c=h1;break;case 8:c=m1;break;default:c=Pd}r=c.bind(null,n,r,e),c=void 0,!Fc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function xd(e,n,r,l,c){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var _=l.stateNode.containerInfo;if(_===c)break;if(p===4)for(p=l.return;p!==null;){var E=p.tag;if((E===3||E===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;_!==null;){if(p=ys(_),p===null)return;if(E=p.tag,E===5||E===6||E===26||E===27){l=d=p;continue e}_=_.parentNode}}l=l.return}dm(function(){var N=d,I=qc(r),U=[];e:{var A=Hm.get(e);if(A!==void 0){var R=Sl,F=e;switch(e){case"keypress":if(vl(r)===0)break e;case"keydown":case"keyup":R=MS;break;case"focusin":F="focus",R=Xc;break;case"focusout":F="blur",R=Xc;break;case"beforeblur":case"afterblur":R=Xc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=mm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=bS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=LS;break;case Lm:case Um:case zm:R=CS;break;case jm:R=zS;break;case"scroll":case"scrollend":R=yS;break;case"wheel":R=HS;break;case"copy":case"cut":case"paste":R=wS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=gm;break;case"toggle":case"beforetoggle":R=BS}var $=(n&4)!==0,Ae=!$&&(e==="scroll"||e==="scrollend"),w=$?A!==null?A+"Capture":null:A;$=[];for(var C=N,x;C!==null;){var L=C;if(x=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||x===null||w===null||(L=Or(C,w),L!=null&&$.push(ca(C,L,x))),Ae)break;C=C.return}0<$.length&&(A=new R(A,F,null,r,I),U.push({event:A,listeners:$}))}}if((n&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",A&&r!==Vc&&(F=r.relatedTarget||r.fromElement)&&(ys(F)||F[_s]))break e;if((R||A)&&(A=I.window===I?I:(A=I.ownerDocument)?A.defaultView||A.parentWindow:window,R?(F=r.relatedTarget||r.toElement,R=N,F=F?ys(F):null,F!==null&&(Ae=u(F),$=F.tag,F!==Ae||$!==5&&$!==27&&$!==6)&&(F=null)):(R=null,F=N),R!==F)){if($=mm,L="onMouseLeave",w="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&($=gm,L="onPointerLeave",w="onPointerEnter",C="pointer"),Ae=R==null?A:Rr(R),x=F==null?A:Rr(F),A=new $(L,C+"leave",R,r,I),A.target=Ae,A.relatedTarget=x,L=null,ys(I)===N&&($=new $(w,C+"enter",F,r,I),$.target=x,$.relatedTarget=Ae,L=$),Ae=L,R&&F)t:{for($=PE,w=R,C=F,x=0,L=w;L;L=$(L))x++;L=0;for(var X=C;X;X=$(X))L++;for(;0<x-L;)w=$(w),x--;for(;0<L-x;)C=$(C),L--;for(;x--;){if(w===C||C!==null&&w===C.alternate){$=w;break t}w=$(w),C=$(C)}$=null}else $=null;R!==null&&l_(U,A,R,$,!1),F!==null&&Ae!==null&&l_(U,Ae,F,$,!0)}}e:{if(A=N?Rr(N):window,R=A.nodeName&&A.nodeName.toLowerCase(),R==="select"||R==="input"&&A.type==="file")var ge=Tm;else if(Em(A))if(wm)ge=ZS;else{ge=XS;var K=QS}else R=A.nodeName,!R||R.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?N&&Bc(N.elementType)&&(ge=Tm):ge=WS;if(ge&&(ge=ge(e,N))){Cm(U,ge,r,I);break e}K&&K(e,A,N),e==="focusout"&&N&&A.type==="number"&&N.memoizedProps.value!=null&&Pc(A,"number",A.value)}switch(K=N?Rr(N):window,e){case"focusin":(Em(K)||K.contentEditable==="true")&&(Ns=K,tu=N,jr=null);break;case"focusout":jr=tu=Ns=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,Im(U,r,I);break;case"selectionchange":if($S)break;case"keydown":case"keyup":Im(U,r,I)}var re;if(Zc)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else xs?bm(e,r)&&(me="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(me="onCompositionStart");me&&(_m&&r.locale!=="ko"&&(xs||me!=="onCompositionStart"?me==="onCompositionEnd"&&xs&&(re=fm()):($n=I,Yc="value"in $n?$n.value:$n.textContent,xs=!0)),K=fo(N,me),0<K.length&&(me=new pm(me,e,null,r,I),U.push({event:me,listeners:K}),re?me.data=re:(re=Sm(r),re!==null&&(me.data=re)))),(re=qS?GS(e,r):FS(e,r))&&(me=fo(N,"onBeforeInput"),0<me.length&&(K=new pm("onBeforeInput","beforeinput",null,r,I),U.push({event:K,listeners:me}),K.data=re)),UE(U,e,N,r,I)}r_(U,n)})}function ca(e,n,r){return{instance:e,listener:n,currentTarget:r}}function fo(e,n){for(var r=n+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Or(e,r),c!=null&&l.unshift(ca(e,c,d)),c=Or(e,n),c!=null&&l.push(ca(e,c,d))),e.tag===3)return l;e=e.return}return[]}function PE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function l_(e,n,r,l,c){for(var d=n._reactName,p=[];r!==null&&r!==l;){var _=r,E=_.alternate,N=_.stateNode;if(_=_.tag,E!==null&&E===l)break;_!==5&&_!==26&&_!==27||N===null||(E=N,c?(N=Or(r,d),N!=null&&p.unshift(ca(r,N,E))):c||(N=Or(r,d),N!=null&&p.push(ca(r,N,E)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var BE=/\r\n?/g,VE=/\u0000|\uFFFD/g;function o_(e){return(typeof e=="string"?e:""+e).replace(BE,`
`).replace(VE,"")}function c_(e,n){return n=o_(n),o_(e)===n}function Ne(e,n,r,l,c,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Cs(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Cs(e,""+l);break;case"className":pl(e,"class",l);break;case"tabIndex":pl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(e,r,l);break;case"style":cm(e,l,d);break;case"data":if(n!=="object"){pl(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=_l(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&Ne(e,n,"name",c.name,c,null),Ne(e,n,"formEncType",c.formEncType,c,null),Ne(e,n,"formMethod",c.formMethod,c,null),Ne(e,n,"formTarget",c.formTarget,c,null)):(Ne(e,n,"encType",c.encType,c,null),Ne(e,n,"method",c.method,c,null),Ne(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=_l(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=bn);break;case"onScroll":l!=null&&de("scroll",e);break;case"onScrollEnd":l!=null&&de("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=_l(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":de("beforetoggle",e),de("toggle",e),ml(e,"popover",l);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ml(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=gS.get(r)||r,ml(e,r,l))}}function Nd(e,n,r,l,c,d){switch(r){case"style":cm(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof l=="string"?Cs(e,l):(typeof l=="number"||typeof l=="bigint")&&Cs(e,""+l);break;case"onScroll":l!=null&&de("scroll",e);break;case"onScrollEnd":l!=null&&de("scrollend",e);break;case"onClick":l!=null&&(e.onclick=bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!em.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),d=e[St]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(n,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,c);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):ml(e,r,l)}}}function ut(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",e),de("load",e);var l=!1,c=!1,d;for(d in r)if(r.hasOwnProperty(d)){var p=r[d];if(p!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ne(e,n,d,p,r,null)}}c&&Ne(e,n,"srcSet",r.srcSet,r,null),l&&Ne(e,n,"src",r.src,r,null);return;case"input":de("invalid",e);var _=d=p=c=null,E=null,N=null;for(l in r)if(r.hasOwnProperty(l)){var I=r[l];if(I!=null)switch(l){case"name":c=I;break;case"type":p=I;break;case"checked":E=I;break;case"defaultChecked":N=I;break;case"value":d=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:Ne(e,n,l,I,r,null)}}rm(e,d,_,E,N,p,c,!1);return;case"select":de("invalid",e),l=p=d=null;for(c in r)if(r.hasOwnProperty(c)&&(_=r[c],_!=null))switch(c){case"value":d=_;break;case"defaultValue":p=_;break;case"multiple":l=_;default:Ne(e,n,c,_,r,null)}n=d,r=p,e.multiple=!!l,n!=null?Es(e,!!l,n,!1):r!=null&&Es(e,!!l,r,!0);return;case"textarea":de("invalid",e),d=c=l=null;for(p in r)if(r.hasOwnProperty(p)&&(_=r[p],_!=null))switch(p){case"value":l=_;break;case"defaultValue":c=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Ne(e,n,p,_,r,null)}lm(e,l,c,d);return;case"option":for(E in r)if(r.hasOwnProperty(E)&&(l=r[E],l!=null))switch(E){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ne(e,n,E,l,r,null)}return;case"dialog":de("beforetoggle",e),de("toggle",e),de("cancel",e),de("close",e);break;case"iframe":case"object":de("load",e);break;case"video":case"audio":for(l=0;l<oa.length;l++)de(oa[l],e);break;case"image":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"embed":case"source":case"link":de("error",e),de("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in r)if(r.hasOwnProperty(N)&&(l=r[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ne(e,n,N,l,r,null)}return;default:if(Bc(n)){for(I in r)r.hasOwnProperty(I)&&(l=r[I],l!==void 0&&Nd(e,n,I,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&Ne(e,n,_,l,r,null))}function qE(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,p=null,_=null,E=null,N=null,I=null;for(R in r){var U=r[R];if(r.hasOwnProperty(R)&&U!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":E=U;default:l.hasOwnProperty(R)||Ne(e,n,R,null,l,U)}}for(var A in l){var R=l[A];if(U=r[A],l.hasOwnProperty(A)&&(R!=null||U!=null))switch(A){case"type":d=R;break;case"name":c=R;break;case"checked":N=R;break;case"defaultChecked":I=R;break;case"value":p=R;break;case"defaultValue":_=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(137,n));break;default:R!==U&&Ne(e,n,A,R,l,U)}}Hc(e,p,_,E,N,I,d,c);return;case"select":R=p=_=A=null;for(d in r)if(E=r[d],r.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":R=E;default:l.hasOwnProperty(d)||Ne(e,n,d,null,l,E)}for(c in l)if(d=l[c],E=r[c],l.hasOwnProperty(c)&&(d!=null||E!=null))switch(c){case"value":A=d;break;case"defaultValue":_=d;break;case"multiple":p=d;default:d!==E&&Ne(e,n,c,d,l,E)}n=_,r=p,l=R,A!=null?Es(e,!!r,A,!1):!!l!=!!r&&(n!=null?Es(e,!!r,n,!0):Es(e,!!r,r?[]:"",!1));return;case"textarea":R=A=null;for(_ in r)if(c=r[_],r.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ne(e,n,_,null,l,c)}for(p in l)if(c=l[p],d=r[p],l.hasOwnProperty(p)&&(c!=null||d!=null))switch(p){case"value":A=c;break;case"defaultValue":R=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==d&&Ne(e,n,p,c,l,d)}am(e,A,R);return;case"option":for(var F in r)if(A=r[F],r.hasOwnProperty(F)&&A!=null&&!l.hasOwnProperty(F))switch(F){case"selected":e.selected=!1;break;default:Ne(e,n,F,null,l,A)}for(E in l)if(A=l[E],R=r[E],l.hasOwnProperty(E)&&A!==R&&(A!=null||R!=null))switch(E){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Ne(e,n,E,A,l,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $ in r)A=r[$],r.hasOwnProperty($)&&A!=null&&!l.hasOwnProperty($)&&Ne(e,n,$,null,l,A);for(N in l)if(A=l[N],R=r[N],l.hasOwnProperty(N)&&A!==R&&(A!=null||R!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(137,n));break;default:Ne(e,n,N,A,l,R)}return;default:if(Bc(n)){for(var Ae in r)A=r[Ae],r.hasOwnProperty(Ae)&&A!==void 0&&!l.hasOwnProperty(Ae)&&Nd(e,n,Ae,void 0,l,A);for(I in l)A=l[I],R=r[I],!l.hasOwnProperty(I)||A===R||A===void 0&&R===void 0||Nd(e,n,I,A,l,R);return}}for(var w in r)A=r[w],r.hasOwnProperty(w)&&A!=null&&!l.hasOwnProperty(w)&&Ne(e,n,w,null,l,A);for(U in l)A=l[U],R=r[U],!l.hasOwnProperty(U)||A===R||A==null&&R==null||Ne(e,n,U,A,l,R)}function u_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var c=r[l],d=c.transferSize,p=c.initiatorType,_=c.duration;if(d&&_&&u_(p)){for(p=0,_=c.responseEnd,l+=1;l<r.length;l++){var E=r[l],N=E.startTime;if(N>_)break;var I=E.transferSize,U=E.initiatorType;I&&u_(U)&&(E=E.responseEnd,p+=I*(E<_?1:(_-N)/(E-N)))}if(--l,n+=8*(d+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ad=null,Rd=null;function ho(e){return e.nodeType===9?e:e.ownerDocument}function d_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Od(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Dd=null;function FE(){var e=window.event;return e&&e.type==="popstate"?e===Dd?!1:(Dd=e,!0):(Dd=null,!1)}var h_=typeof setTimeout=="function"?setTimeout:void 0,YE=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,KE=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(e){return m_.resolve(null).then(e).catch(QE)}:h_;function QE(e){setTimeout(function(){throw e})}function gi(e){return e==="head"}function p_(e,n){var r=n,l=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(c),er(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")ua(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ua(r);for(var d=r.firstChild;d;){var p=d.nextSibling,_=d.nodeName;d[Ar]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=p}}else r==="body"&&ua(e.ownerDocument.body);r=c}while(r);er(n)}function g_(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function Md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Md(r),zc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function XE(e,n,r,l){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ar])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function WE(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Zt(e.nextSibling),e===null))return null;return e}function __(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Zt(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$?"||e.data==="$~"}function kd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ZE(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Zt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ld=null;function y_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Zt(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function v_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function b_(e,n,r){switch(n=ho(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ua(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);zc(e)}var Jt=new Map,S_=new Set;function mo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Un=B.d;B.d={f:JE,r:$E,D:e1,C:t1,L:n1,m:i1,X:r1,S:s1,M:a1};function JE(){var e=Un.f(),n=so();return e||n}function $E(e){var n=vs(e);n!==null&&n.tag===5&&n.type==="form"?jp(n):Un.r(e)}var Zs=typeof document>"u"?null:document;function E_(e,n,r){var l=Zs;if(l&&typeof n=="string"&&n){var c=Gt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),S_.has(c)||(S_.add(c),e={rel:e,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ut(n,"link",e),et(n),l.head.appendChild(n)))}}function e1(e){Un.D(e),E_("dns-prefetch",e,null)}function t1(e,n){Un.C(e,n),E_("preconnect",e,n)}function n1(e,n,r){Un.L(e,n,r);var l=Zs;if(l&&e&&n){var c='link[rel="preload"][as="'+Gt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+Gt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+Gt(r.imageSizes)+'"]')):c+='[href="'+Gt(e)+'"]';var d=c;switch(n){case"style":d=Js(e);break;case"script":d=$s(e)}Jt.has(d)||(e=v({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Jt.set(d,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(da(d))||n==="script"&&l.querySelector(fa(d))||(n=l.createElement("link"),ut(n,"link",e),et(n),l.head.appendChild(n)))}}function i1(e,n){Un.m(e,n);var r=Zs;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Gt(l)+'"][href="'+Gt(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$s(e)}if(!Jt.has(d)&&(e=v({rel:"modulepreload",href:e},n),Jt.set(d,e),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(fa(d)))return}l=r.createElement("link"),ut(l,"link",e),et(l),r.head.appendChild(l)}}}function s1(e,n,r){Un.S(e,n,r);var l=Zs;if(l&&e){var c=bs(l).hoistableStyles,d=Js(e);n=n||"default";var p=c.get(d);if(!p){var _={loading:0,preload:null};if(p=l.querySelector(da(d)))_.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Jt.get(d))&&Ud(e,r);var E=p=l.createElement("link");et(E),ut(E,"link",e),E._p=new Promise(function(N,I){E.onload=N,E.onerror=I}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,po(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:_},c.set(d,p)}}}function r1(e,n){Un.X(e,n);var r=Zs;if(r&&e){var l=bs(r).hoistableScripts,c=$s(e),d=l.get(c);d||(d=r.querySelector(fa(c)),d||(e=v({src:e,async:!0},n),(n=Jt.get(c))&&zd(e,n),d=r.createElement("script"),et(d),ut(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function a1(e,n){Un.M(e,n);var r=Zs;if(r&&e){var l=bs(r).hoistableScripts,c=$s(e),d=l.get(c);d||(d=r.querySelector(fa(c)),d||(e=v({src:e,async:!0,type:"module"},n),(n=Jt.get(c))&&zd(e,n),d=r.createElement("script"),et(d),ut(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function C_(e,n,r,l){var c=(c=ce.current)?mo(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Js(r.href),r=bs(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Js(r.href);var d=bs(c).hoistableStyles,p=d.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,p),(d=c.querySelector(da(e)))&&!d._p&&(p.instance=d,p.state.loading=5),Jt.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Jt.set(e,r),d||l1(c,e,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$s(r),r=bs(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Js(e){return'href="'+Gt(e)+'"'}function da(e){return'link[rel="stylesheet"]['+e+"]"}function T_(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function l1(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ut(n,"link",r),et(n),e.head.appendChild(n))}function $s(e){return'[src="'+Gt(e)+'"]'}function fa(e){return"script[async]"+e}function w_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Gt(r.href)+'"]');if(l)return n.instance=l,et(l),l;var c=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),et(l),ut(l,"style",c),po(l,r.precedence,e),n.instance=l;case"stylesheet":c=Js(r.href);var d=e.querySelector(da(c));if(d)return n.state.loading|=4,n.instance=d,et(d),d;l=T_(r),(c=Jt.get(c))&&Ud(l,c),d=(e.ownerDocument||e).createElement("link"),et(d);var p=d;return p._p=new Promise(function(_,E){p.onload=_,p.onerror=E}),ut(d,"link",l),n.state.loading|=4,po(d,r.precedence,e),n.instance=d;case"script":return d=$s(r.src),(c=e.querySelector(fa(d)))?(n.instance=c,et(c),c):(l=r,(c=Jt.get(d))&&(l=v({},r),zd(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),et(c),ut(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,po(l,r.precedence,e));return n.instance}function po(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,p=0;p<l.length;p++){var _=l[p];if(_.dataset.precedence===n)d=_;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function zd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var go=null;function x_(e,n,r){if(go===null){var l=new Map,c=go=new Map;c.set(r,l)}else c=go,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var d=r[c];if(!(d[Ar]||d[at]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(n)||"";p=e+p;var _=l.get(p);_?_.push(d):l.set(p,[d])}}return l}function N_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function o1(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function A_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function c1(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=Js(l.href),d=n.querySelector(da(c));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_o.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=d,et(d);return}d=n.ownerDocument||n,l=T_(l),(c=Jt.get(c))&&Ud(l,c),d=d.createElement("link"),et(d);var p=d;p._p=new Promise(function(_,E){p.onload=_,p.onerror=E}),ut(d,"link",l),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=_o.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var jd=0;function u1(e,n){return e.stylesheets&&e.count===0&&vo(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&vo(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&jd===0&&(jd=62500*GE());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vo(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>jd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function _o(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yo=null;function vo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yo=new Map,n.forEach(d1,e),yo=null,_o.call(e))}function d1(e,n){if(!(n.state.loading&4)){var r=yo.get(e);if(r)var l=r.get(null);else{r=new Map,yo.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var p=c[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),d=r.get(p)||l,d===l&&r.set(null,c),r.set(p,c),this.count++,l=_o.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var ha={$$typeof:W,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function f1(e,n,r,l,c,d,p,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ic(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ic(0),this.hiddenUpdates=Ic(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function R_(e,n,r,l,c,d,p,_,E,N,I,U){return e=new f1(e,n,r,p,E,N,I,U,_),n=1,d===!0&&(n|=24),d=Ut(3,null,null,n),e.current=d,d.stateNode=e,n=_u(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},Su(d),e}function O_(e){return e?(e=Os,e):Os}function D_(e,n,r,l,c,d){c=O_(c),l.context===null?l.context=c:l.pendingContext=c,l=ri(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=ai(e,l,n),r!==null&&(Nt(r,e,n),Fr(r,e,n))}function M_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Hd(e,n){M_(e,n),(e=e.alternate)&&M_(e,n)}function I_(e){if(e.tag===13||e.tag===31){var n=Fi(e,67108864);n!==null&&Nt(n,e,67108864),Hd(e,67108864)}}function k_(e){if(e.tag===13||e.tag===31){var n=Bt();n=kc(n);var r=Fi(e,n);r!==null&&Nt(r,e,n),Hd(e,n)}}var bo=!0;function h1(e,n,r,l){var c=M.T;M.T=null;var d=B.p;try{B.p=2,Pd(e,n,r,l)}finally{B.p=d,M.T=c}}function m1(e,n,r,l){var c=M.T;M.T=null;var d=B.p;try{B.p=8,Pd(e,n,r,l)}finally{B.p=d,M.T=c}}function Pd(e,n,r,l){if(bo){var c=Bd(l);if(c===null)xd(e,n,l,So,r),U_(e,l);else if(g1(c,e,n,r,l))l.stopPropagation();else if(U_(e,l),n&4&&-1<p1.indexOf(e)){for(;c!==null;){var d=vs(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=Pi(d.pendingLanes);if(p!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;p;){var E=1<<31-kt(p);_.entanglements[1]|=E,p&=~E}pn(d),(be&6)===0&&(no=Mt()+500,la(0))}}break;case 31:case 13:_=Fi(d,2),_!==null&&Nt(_,d,2),so(),Hd(d,2)}if(d=Bd(l),d===null&&xd(e,n,l,So,r),d===c)break;c=d}c!==null&&l.stopPropagation()}else xd(e,n,l,null,r)}}function Bd(e){return e=qc(e),Vd(e)}var So=null;function Vd(e){if(So=null,e=ys(e),e!==null){var n=u(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=f(n),e!==null)return e;e=null}else if(r===31){if(e=h(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return So=e,null}function L_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eS()){case qh:return 2;case Gh:return 8;case cl:case tS:return 32;case Fh:return 268435456;default:return 32}default:return 32}}var qd=!1,_i=null,yi=null,vi=null,ma=new Map,pa=new Map,bi=[],p1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(e,n){switch(e){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":ma.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pa.delete(n.pointerId)}}function ga(e,n,r,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},n!==null&&(n=vs(n),n!==null&&I_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function g1(e,n,r,l,c){switch(n){case"focusin":return _i=ga(_i,e,n,r,l,c),!0;case"dragenter":return yi=ga(yi,e,n,r,l,c),!0;case"mouseover":return vi=ga(vi,e,n,r,l,c),!0;case"pointerover":var d=c.pointerId;return ma.set(d,ga(ma.get(d)||null,e,n,r,l,c)),!0;case"gotpointercapture":return d=c.pointerId,pa.set(d,ga(pa.get(d)||null,e,n,r,l,c)),!0}return!1}function z_(e){var n=ys(e.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){e.blockedOn=n,Zh(e.priority,function(){k_(r)});return}}else if(n===31){if(n=h(r),n!==null){e.blockedOn=n,Zh(e.priority,function(){k_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Bd(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Vc=l,r.target.dispatchEvent(l),Vc=null}else return n=vs(r),n!==null&&I_(n),e.blockedOn=r,!1;n.shift()}return!0}function j_(e,n,r){Eo(e)&&r.delete(n)}function _1(){qd=!1,_i!==null&&Eo(_i)&&(_i=null),yi!==null&&Eo(yi)&&(yi=null),vi!==null&&Eo(vi)&&(vi=null),ma.forEach(j_),pa.forEach(j_)}function Co(e,n){e.blockedOn===n&&(e.blockedOn=null,qd||(qd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_1)))}var To=null;function H_(e){To!==e&&(To=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){To===e&&(To=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(Vd(l||r)===null)continue;break}var d=vs(r);d!==null&&(e.splice(n,3),n-=3,Bu(d,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function er(e){function n(E){return Co(E,e)}_i!==null&&Co(_i,e),yi!==null&&Co(yi,e),vi!==null&&Co(vi,e),ma.forEach(n),pa.forEach(n);for(var r=0;r<bi.length;r++){var l=bi[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<bi.length&&(r=bi[0],r.blockedOn===null);)z_(r),r.blockedOn===null&&bi.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],d=r[l+1],p=c[St]||null;if(typeof d=="function")p||H_(r);else if(p){var _=null;if(d&&d.hasAttribute("formAction")){if(c=d,p=d[St]||null)_=p.formAction;else if(Vd(c)!==null)continue}else _=p.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),H_(r)}}}function P_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Gd(e){this._internalRoot=e}wo.prototype.render=Gd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Bt();D_(r,l,e,n,null,null)},wo.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;D_(e.current,2,null,e,null,null),so(),n[_s]=null}};function wo(e){this._internalRoot=e}wo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Wh();e={blockedOn:null,target:e,priority:n};for(var r=0;r<bi.length&&n!==0&&n<bi[r].priority;r++);bi.splice(r,0,e),r===0&&z_(e)}};var B_=t.version;if(B_!=="19.2.0")throw Error(a(527,B_,"19.2.0"));B.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var y1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{wr=xo.inject(y1),It=xo}catch{}}return ya.createRoot=function(e,n){if(!o(e))throw Error(a(299));var r=!1,l="",c=Qp,d=Xp,p=Wp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=R_(e,1,!1,null,null,r,l,null,c,d,p,P_),e[_s]=n.current,wd(e),new Gd(n)},ya.hydrateRoot=function(e,n,r){if(!o(e))throw Error(a(299));var l=!1,c="",d=Qp,p=Xp,_=Wp,E=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.formState!==void 0&&(E=r.formState)),n=R_(e,1,!0,n,r??null,l,c,E,d,p,_,P_),n.context=O_(null),r=n.current,l=Bt(),l=kc(l),c=ri(l),c.callback=null,ai(r,c,l),r=l,n.current.lanes=r,Nr(n,r),pn(n),e[_s]=n.current,wd(e),new wo(n)},ya.version="19.2.0",ya}var Z_;function A1(){if(Z_)return Kd.exports;Z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Kd.exports=N1(),Kd.exports}var R1=A1();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var J_="popstate";function O1(s={}){function t(a,o){let{pathname:u,search:f,hash:h}=a.location;return pf("",{pathname:u,search:f,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(a,o){return typeof o=="string"?o:ka(o)}return M1(t,i,null,s)}function He(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function un(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function D1(){return Math.random().toString(36).substring(2,10)}function $_(s,t){return{usr:s.state,key:s.key,idx:t}}function pf(s,t,i=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?hr(t):t,state:i,key:t&&t.key||a||D1()}}function ka({pathname:s="/",search:t="",hash:i=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function hr(s){let t={};if(s){let i=s.indexOf("#");i>=0&&(t.hash=s.substring(i),s=s.substring(0,i));let a=s.indexOf("?");a>=0&&(t.search=s.substring(a),s=s.substring(0,a)),s&&(t.pathname=s)}return t}function M1(s,t,i,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,h="POP",g=null,m=y();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function y(){return(f.state||{idx:null}).idx}function v(){h="POP";let P=y(),V=P==null?null:P-m;m=P,g&&g({action:h,location:j.location,delta:V})}function S(P,V){h="PUSH";let q=pf(j.location,P,V);m=y()+1;let W=$_(q,m),Se=j.createHref(q);try{f.pushState(W,"",Se)}catch(ze){if(ze instanceof DOMException&&ze.name==="DataCloneError")throw ze;o.location.assign(Se)}u&&g&&g({action:h,location:j.location,delta:1})}function D(P,V){h="REPLACE";let q=pf(j.location,P,V);m=y();let W=$_(q,m),Se=j.createHref(q);f.replaceState(W,"",Se),u&&g&&g({action:h,location:j.location,delta:0})}function k(P){return I1(P)}let j={get action(){return h},get location(){return s(o,f)},listen(P){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(J_,v),g=P,()=>{o.removeEventListener(J_,v),g=null}},createHref(P){return t(o,P)},createURL:k,encodeLocation(P){let V=k(P);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:S,replace:D,go(P){return f.go(P)}};return j}function I1(s,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),He(i,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:ka(s);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function gv(s,t,i="/"){return k1(s,t,i,!1)}function k1(s,t,i,a){let o=typeof t=="string"?hr(t):t,u=Gn(o.pathname||"/",i);if(u==null)return null;let f=_v(s);L1(f);let h=null;for(let g=0;h==null&&g<f.length;++g){let m=Y1(u);h=G1(f[g],m,a)}return h}function _v(s,t=[],i=[],a="",o=!1){let u=(f,h,g=o,m)=>{let y={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&g)return;He(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let v=Bn([a,y.relativePath]),S=i.concat(y);f.children&&f.children.length>0&&(He(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),_v(f.children,t,S,v,g)),!(f.path==null&&!f.index)&&t.push({path:v,score:V1(v,f.index),routesMeta:S})};return s.forEach((f,h)=>{if(f.path===""||!f.path?.includes("?"))u(f,h);else for(let g of yv(f.path))u(f,h,!0,g)}),t}function yv(s){let t=s.split("/");if(t.length===0)return[];let[i,...a]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=yv(a.join("/")),h=[];return h.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&h.push(...f),h.map(g=>s.startsWith("/")&&g===""?"/":g)}function L1(s){s.sort((t,i)=>t.score!==i.score?i.score-t.score:q1(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var U1=/^:[\w-]+$/,z1=3,j1=2,H1=1,P1=10,B1=-2,ey=s=>s==="*";function V1(s,t){let i=s.split("/"),a=i.length;return i.some(ey)&&(a+=B1),t&&(a+=j1),i.filter(o=>!ey(o)).reduce((o,u)=>o+(U1.test(u)?z1:u===""?H1:P1),a)}function q1(s,t){return s.length===t.length&&s.slice(0,-1).every((a,o)=>a===t[o])?s[s.length-1]-t[t.length-1]:0}function G1(s,t,i=!1){let{routesMeta:a}=s,o={},u="/",f=[];for(let h=0;h<a.length;++h){let g=a[h],m=h===a.length-1,y=u==="/"?t:t.slice(u.length)||"/",v=jo({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},y),S=g.route;if(!v&&m&&i&&!a[a.length-1].route.index&&(v=jo({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),f.push({params:o,pathname:Bn([u,v.pathname]),pathnameBase:W1(Bn([u,v.pathnameBase])),route:S}),v.pathnameBase!=="/"&&(u=Bn([u,v.pathnameBase]))}return f}function jo(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=F1(s.path,s.caseSensitive,s.end),o=t.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:a.reduce((m,{paramName:y,isOptional:v},S)=>{if(y==="*"){let k=h[S]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const D=h[S];return v&&!D?m[y]=void 0:m[y]=(D||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:s}}function F1(s,t=!1,i=!0){un(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,g)=>(a.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function Y1(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return un(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Gn(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}function K1(s,t="/"){let{pathname:i,search:a="",hash:o=""}=typeof s=="string"?hr(s):s;return{pathname:i?i.startsWith("/")?i:Q1(i,t):t,search:Z1(a),hash:J1(o)}}function Q1(s,t){let i=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Zd(s,t,i,a){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function X1(s){return s.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Hf(s){let t=X1(s);return t.map((i,a)=>a===t.length-1?i.pathname:i.pathnameBase)}function Pf(s,t,i,a=!1){let o;typeof s=="string"?o=hr(s):(o={...s},He(!o.pathname||!o.pathname.includes("?"),Zd("?","pathname","search",o)),He(!o.pathname||!o.pathname.includes("#"),Zd("#","pathname","hash",o)),He(!o.search||!o.search.includes("#"),Zd("#","search","hash",o)));let u=s===""||o.pathname==="",f=u?"/":o.pathname,h;if(f==null)h=i;else{let v=t.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),v-=1;o.pathname=S.join("/")}h=v>=0?t[v]:"/"}let g=K1(o,h),m=f&&f!=="/"&&f.endsWith("/"),y=(u||f===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(m||y)&&(g.pathname+="/"),g}var Bn=s=>s.join("/").replace(/\/\/+/g,"/"),W1=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Z1=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,J1=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function $1(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var vv=["POST","PUT","PATCH","DELETE"];new Set(vv);var eC=["GET",...vv];new Set(eC);var mr=O.createContext(null);mr.displayName="DataRouter";var cc=O.createContext(null);cc.displayName="DataRouterState";O.createContext(!1);var bv=O.createContext({isTransitioning:!1});bv.displayName="ViewTransition";var tC=O.createContext(new Map);tC.displayName="Fetchers";var nC=O.createContext(null);nC.displayName="Await";var dn=O.createContext(null);dn.displayName="Navigation";var Xa=O.createContext(null);Xa.displayName="Location";var yn=O.createContext({outlet:null,matches:[],isDataRoute:!1});yn.displayName="Route";var Bf=O.createContext(null);Bf.displayName="RouteError";function iC(s,{relative:t}={}){He(pr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=O.useContext(dn),{hash:o,pathname:u,search:f}=Wa(s,{relative:t}),h=u;return i!=="/"&&(h=u==="/"?i:Bn([i,u])),a.createHref({pathname:h,search:f,hash:o})}function pr(){return O.useContext(Xa)!=null}function Qn(){return He(pr(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Xa).location}var Sv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ev(s){O.useContext(dn).static||O.useLayoutEffect(s)}function Vf(){let{isDataRoute:s}=O.useContext(yn);return s?gC():sC()}function sC(){He(pr(),"useNavigate() may be used only in the context of a <Router> component.");let s=O.useContext(mr),{basename:t,navigator:i}=O.useContext(dn),{matches:a}=O.useContext(yn),{pathname:o}=Qn(),u=JSON.stringify(Hf(a)),f=O.useRef(!1);return Ev(()=>{f.current=!0}),O.useCallback((g,m={})=>{if(un(f.current,Sv),!f.current)return;if(typeof g=="number"){i.go(g);return}let y=Pf(g,JSON.parse(u),o,m.relative==="path");s==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Bn([t,y.pathname])),(m.replace?i.replace:i.push)(y,m.state,m)},[t,i,u,o,s])}O.createContext(null);function Wa(s,{relative:t}={}){let{matches:i}=O.useContext(yn),{pathname:a}=Qn(),o=JSON.stringify(Hf(i));return O.useMemo(()=>Pf(s,JSON.parse(o),a,t==="path"),[s,o,a,t])}function rC(s,t){return Cv(s,t)}function Cv(s,t,i,a,o){He(pr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=O.useContext(dn),{matches:f}=O.useContext(yn),h=f[f.length-1],g=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let q=v&&v.path||"";Tv(m,!v||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let S=Qn(),D;if(t){let q=typeof t=="string"?hr(t):t;He(y==="/"||q.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),D=q}else D=S;let k=D.pathname||"/",j=k;if(y!=="/"){let q=y.replace(/^\//,"").split("/");j="/"+k.replace(/^\//,"").split("/").slice(q.length).join("/")}let P=gv(s,{pathname:j});un(v||P!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),un(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=uC(P&&P.map(q=>Object.assign({},q,{params:Object.assign({},g,q.params),pathname:Bn([y,u.encodeLocation?u.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:Bn([y,u.encodeLocation?u.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),f,i,a,o);return t&&V?O.createElement(Xa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},V):V}function aC(){let s=pC(),t=$1(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),i?O.createElement("pre",{style:o},i):null,f)}var lC=O.createElement(aC,null),oC=class extends O.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.unstable_onError?this.props.unstable_onError(s,t):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?O.createElement(yn.Provider,{value:this.props.routeContext},O.createElement(Bf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cC({routeContext:s,match:t,children:i}){let a=O.useContext(mr);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(yn.Provider,{value:s},i)}function uC(s,t=[],i=null,a=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let u=s,f=i?.errors;if(f!=null){let m=u.findIndex(y=>y.route.id&&f?.[y.route.id]!==void 0);He(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,m+1))}let h=!1,g=-1;if(i)for(let m=0;m<u.length;m++){let y=u[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=m),y.route.id){let{loaderData:v,errors:S}=i,D=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||D){h=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((m,y,v)=>{let S,D=!1,k=null,j=null;i&&(S=f&&y.route.id?f[y.route.id]:void 0,k=y.route.errorElement||lC,h&&(g<0&&v===0?(Tv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,j=null):g===v&&(D=!0,j=y.route.hydrateFallbackElement||null)));let P=t.concat(u.slice(0,v+1)),V=()=>{let q;return S?q=k:D?q=j:y.route.Component?q=O.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=m,O.createElement(cC,{match:y,routeContext:{outlet:m,matches:P,isDataRoute:i!=null},children:q})};return i&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?O.createElement(oC,{location:i.location,revalidation:i.revalidation,component:k,error:S,children:V(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:a}):V()},null)}function qf(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dC(s){let t=O.useContext(mr);return He(t,qf(s)),t}function fC(s){let t=O.useContext(cc);return He(t,qf(s)),t}function hC(s){let t=O.useContext(yn);return He(t,qf(s)),t}function Gf(s){let t=hC(s),i=t.matches[t.matches.length-1];return He(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function mC(){return Gf("useRouteId")}function pC(){let s=O.useContext(Bf),t=fC("useRouteError"),i=Gf("useRouteError");return s!==void 0?s:t.errors?.[i]}function gC(){let{router:s}=dC("useNavigate"),t=Gf("useNavigate"),i=O.useRef(!1);return Ev(()=>{i.current=!0}),O.useCallback(async(o,u={})=>{un(i.current,Sv),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:t,...u}))},[s,t])}var ty={};function Tv(s,t,i){!t&&!ty[s]&&(ty[s]=!0,un(!1,i))}O.memo(_C);function _C({routes:s,future:t,state:i,unstable_onError:a}){return Cv(s,void 0,i,a,t)}function wv({to:s,replace:t,state:i,relative:a}){He(pr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(dn);un(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=O.useContext(yn),{pathname:f}=Qn(),h=Vf(),g=Pf(s,Hf(u),f,a==="path"),m=JSON.stringify(g);return O.useEffect(()=>{h(JSON.parse(m),{replace:t,state:i,relative:a})},[h,m,a,t,i]),null}function Ci(s){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yC({basename:s="/",children:t=null,location:i,navigationType:a="POP",navigator:o,static:u=!1}){He(!pr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof i=="string"&&(i=hr(i));let{pathname:g="/",search:m="",hash:y="",state:v=null,key:S="default"}=i,D=O.useMemo(()=>{let k=Gn(g,f);return k==null?null:{location:{pathname:k,search:m,hash:y,state:v,key:S},navigationType:a}},[f,g,m,y,v,S,a]);return un(D!=null,`<Router basename="${f}"> is not able to match the URL "${g}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:O.createElement(dn.Provider,{value:h},O.createElement(Xa.Provider,{children:t,value:D}))}function vC({children:s,location:t}){return rC(gf(s),t)}function gf(s,t=[]){let i=[];return O.Children.forEach(s,(a,o)=>{if(!O.isValidElement(a))return;let u=[...t,o];if(a.type===O.Fragment){i.push.apply(i,gf(a.props.children,u));return}He(a.type===Ci,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=gf(a.props.children,u)),i.push(f)}),i}var Do="get",Mo="application/x-www-form-urlencoded";function uc(s){return s!=null&&typeof s.tagName=="string"}function bC(s){return uc(s)&&s.tagName.toLowerCase()==="button"}function SC(s){return uc(s)&&s.tagName.toLowerCase()==="form"}function EC(s){return uc(s)&&s.tagName.toLowerCase()==="input"}function CC(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function TC(s,t){return s.button===0&&(!t||t==="_self")&&!CC(s)}var No=null;function wC(){if(No===null)try{new FormData(document.createElement("form"),0),No=!1}catch{No=!0}return No}var xC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jd(s){return s!=null&&!xC.has(s)?(un(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mo}"`),null):s}function NC(s,t){let i,a,o,u,f;if(SC(s)){let h=s.getAttribute("action");a=h?Gn(h,t):null,i=s.getAttribute("method")||Do,o=Jd(s.getAttribute("enctype"))||Mo,u=new FormData(s)}else if(bC(s)||EC(s)&&(s.type==="submit"||s.type==="image")){let h=s.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||h.getAttribute("action");if(a=g?Gn(g,t):null,i=s.getAttribute("formmethod")||h.getAttribute("method")||Do,o=Jd(s.getAttribute("formenctype"))||Jd(h.getAttribute("enctype"))||Mo,u=new FormData(h,s),!wC()){let{name:m,type:y,value:v}=s;if(y==="image"){let S=m?`${m}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else m&&u.append(m,v)}}else{if(uc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Do,a=null,o=Mo,f=s}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ff(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function AC(s,t,i){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname=`_root.${i}`:t&&Gn(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function RC(s,t){if(s.id in t)return t[s.id];try{let i=await import(s.module);return t[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OC(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function DC(s,t,i){let a=await Promise.all(s.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await RC(u,i);return f.links?f.links():[]}return[]}));return LC(a.flat(1).filter(OC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ny(s,t,i,a,o,u){let f=(g,m)=>i[m]?g.route.id!==i[m].route.id:!0,h=(g,m)=>i[m].pathname!==g.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,m)=>f(g,m)||h(g,m)):u==="data"?t.filter((g,m)=>{let y=a.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(f(g,m)||h(g,m))return!0;if(g.route.shouldRevalidate){let v=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function MC(s,t,{includeHydrateFallback:i}={}){return IC(s.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function IC(s){return[...new Set(s)]}function kC(s){let t={},i=Object.keys(s).sort();for(let a of i)t[a]=s[a];return t}function LC(s,t){let i=new Set;return new Set(t),s.reduce((a,o)=>{let u=JSON.stringify(kC(o));return i.has(u)||(i.add(u),a.push({key:u,link:o})),a},[])}function xv(){let s=O.useContext(mr);return Ff(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function UC(){let s=O.useContext(cc);return Ff(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Yf=O.createContext(void 0);Yf.displayName="FrameworkContext";function Nv(){let s=O.useContext(Yf);return Ff(s,"You must render this element inside a <HydratedRouter> element"),s}function zC(s,t){let i=O.useContext(Yf),[a,o]=O.useState(!1),[u,f]=O.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=t,S=O.useRef(null);O.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let j=V=>{V.forEach(q=>{f(q.isIntersecting)})},P=new IntersectionObserver(j,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[s]),O.useEffect(()=>{if(a){let j=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(j)}}},[a]);let D=()=>{o(!0)},k=()=>{o(!1),f(!1)};return i?s!=="intent"?[u,S,{}]:[u,S,{onFocus:va(h,D),onBlur:va(g,k),onMouseEnter:va(m,D),onMouseLeave:va(y,k),onTouchStart:va(v,D)}]:[!1,S,{}]}function va(s,t){return i=>{s&&s(i),i.defaultPrevented||t(i)}}function jC({page:s,...t}){let{router:i}=xv(),a=O.useMemo(()=>gv(i.routes,s,i.basename),[i.routes,s,i.basename]);return a?O.createElement(PC,{page:s,matches:a,...t}):null}function HC(s){let{manifest:t,routeModules:i}=Nv(),[a,o]=O.useState([]);return O.useEffect(()=>{let u=!1;return DC(s,t,i).then(f=>{u||o(f)}),()=>{u=!0}},[s,t,i]),a}function PC({page:s,matches:t,...i}){let a=Qn(),{manifest:o,routeModules:u}=Nv(),{basename:f}=xv(),{loaderData:h,matches:g}=UC(),m=O.useMemo(()=>ny(s,t,g,o,a,"data"),[s,t,g,o,a]),y=O.useMemo(()=>ny(s,t,g,o,a,"assets"),[s,t,g,o,a]),v=O.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let k=new Set,j=!1;if(t.forEach(V=>{let q=o.routes[V.route.id];!q||!q.hasLoader||(!m.some(W=>W.route.id===V.route.id)&&V.route.id in h&&u[V.route.id]?.shouldRevalidate||q.hasClientLoader?j=!0:k.add(V.route.id))}),k.size===0)return[];let P=AC(s,f,"data");return j&&k.size>0&&P.searchParams.set("_routes",t.filter(V=>k.has(V.route.id)).map(V=>V.route.id).join(",")),[P.pathname+P.search]},[f,h,a,o,m,t,s,u]),S=O.useMemo(()=>MC(y,o),[y,o]),D=HC(y);return O.createElement(O.Fragment,null,v.map(k=>O.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...i})),S.map(k=>O.createElement("link",{key:k,rel:"modulepreload",href:k,...i})),D.map(({key:k,link:j})=>O.createElement("link",{key:k,nonce:i.nonce,...j})))}function BC(...s){return t=>{s.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Av=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Av&&(window.__reactRouterVersion="7.9.4")}catch{}function VC({basename:s,children:t,window:i}){let a=O.useRef();a.current==null&&(a.current=O1({window:i,v5Compat:!0}));let o=a.current,[u,f]=O.useState({action:o.action,location:o.location}),h=O.useCallback(g=>{O.startTransition(()=>f(g))},[f]);return O.useLayoutEffect(()=>o.listen(h),[o,h]),O.createElement(yC,{basename:s,children:t,location:u.location,navigationType:u.action,navigator:o})}var Rv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ho=O.forwardRef(function({onClick:t,discover:i="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:h,target:g,to:m,preventScrollReset:y,viewTransition:v,...S},D){let{basename:k}=O.useContext(dn),j=typeof m=="string"&&Rv.test(m),P,V=!1;if(typeof m=="string"&&j&&(P=m,Av))try{let Oe=new URL(window.location.href),rt=m.startsWith("//")?new URL(Oe.protocol+m):new URL(m),dt=Gn(rt.pathname,k);rt.origin===Oe.origin&&dt!=null?m=dt+rt.search+rt.hash:V=!0}catch{un(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=iC(m,{relative:o}),[W,Se,ze]=zC(a,S),Q=YC(m,{replace:f,state:h,target:g,preventScrollReset:y,relative:o,viewTransition:v});function Z(Oe){t&&t(Oe),Oe.defaultPrevented||Q(Oe)}let we=O.createElement("a",{...S,...ze,href:P||q,onClick:V||u?t:Z,ref:BC(D,Se),target:g,"data-discover":!j&&i==="render"?"true":void 0});return W&&!j?O.createElement(O.Fragment,null,we,O.createElement(jC,{page:q})):we});Ho.displayName="Link";var qC=O.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:h,children:g,...m},y){let v=Wa(f,{relative:m.relative}),S=Qn(),D=O.useContext(cc),{navigator:k,basename:j}=O.useContext(dn),P=D!=null&&ZC(v)&&h===!0,V=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,q=S.pathname,W=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;i||(q=q.toLowerCase(),W=W?W.toLowerCase():null,V=V.toLowerCase()),W&&j&&(W=Gn(W,j)||W);const Se=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let ze=q===V||!o&&q.startsWith(V)&&q.charAt(Se)==="/",Q=W!=null&&(W===V||!o&&W.startsWith(V)&&W.charAt(V.length)==="/"),Z={isActive:ze,isPending:Q,isTransitioning:P},we=ze?t:void 0,Oe;typeof a=="function"?Oe=a(Z):Oe=[a,ze?"active":null,Q?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let rt=typeof u=="function"?u(Z):u;return O.createElement(Ho,{...m,"aria-current":we,className:Oe,ref:y,style:rt,to:f,viewTransition:h},typeof g=="function"?g(Z):g)});qC.displayName="NavLink";var GC=O.forwardRef(({discover:s="render",fetcherKey:t,navigate:i,reloadDocument:a,replace:o,state:u,method:f=Do,action:h,onSubmit:g,relative:m,preventScrollReset:y,viewTransition:v,...S},D)=>{let k=XC(),j=WC(h,{relative:m}),P=f.toLowerCase()==="get"?"get":"post",V=typeof h=="string"&&Rv.test(h),q=W=>{if(g&&g(W),W.defaultPrevented)return;W.preventDefault();let Se=W.nativeEvent.submitter,ze=Se?.getAttribute("formmethod")||f;k(Se||W.currentTarget,{fetcherKey:t,method:ze,navigate:i,replace:o,state:u,relative:m,preventScrollReset:y,viewTransition:v})};return O.createElement("form",{ref:D,method:P,action:j,onSubmit:a?g:q,...S,"data-discover":!V&&s==="render"?"true":void 0})});GC.displayName="Form";function FC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ov(s){let t=O.useContext(mr);return He(t,FC(s)),t}function YC(s,{target:t,replace:i,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let h=Vf(),g=Qn(),m=Wa(s,{relative:u});return O.useCallback(y=>{if(TC(y,t)){y.preventDefault();let v=i!==void 0?i:ka(g)===ka(m);h(s,{replace:v,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[g,h,m,i,a,t,s,o,u,f])}var KC=0,QC=()=>`__${String(++KC)}__`;function XC(){let{router:s}=Ov("useSubmit"),{basename:t}=O.useContext(dn),i=mC();return O.useCallback(async(a,o={})=>{let{action:u,method:f,encType:h,formData:g,body:m}=NC(a,t);if(o.navigate===!1){let y=o.fetcherKey||QC();await s.fetch(y,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||f,formEncType:o.encType||h,flushSync:o.flushSync})}else await s.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||f,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,t,i])}function WC(s,{relative:t}={}){let{basename:i}=O.useContext(dn),a=O.useContext(yn);He(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Wa(s||".",{relative:t})},f=Qn();if(s==null){u.search=f.search;let h=new URLSearchParams(u.search),g=h.getAll("index");if(g.some(y=>y==="")){h.delete("index"),g.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();u.search=y?`?${y}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Bn([i,u.pathname])),ka(u)}function ZC(s,{relative:t}={}){let i=O.useContext(bv);He(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Ov("useViewTransitionState"),o=Wa(s,{relative:t});if(!i.isTransitioning)return!1;let u=Gn(i.currentLocation.pathname,a)||i.currentLocation.pathname,f=Gn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return jo(o.pathname,f)!=null||jo(o.pathname,u)!=null}const JC=()=>{};var iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(s,t){if(!s)throw gr(t)},gr=function(s){return new Error("Firebase Database ("+Dv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},$C=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],f=s[i++],h=s[i++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;t[a++]=String.fromCharCode(55296+(g>>10)),t[a++]=String.fromCharCode(56320+(g&1023))}else{const u=s[i++],f=s[i++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},Kf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,h=f?s[o+1]:0,g=o+2<s.length,m=g?s[o+2]:0,y=u>>2,v=(u&3)<<4|h>>4;let S=(h&15)<<2|m>>6,D=m&63;g||(D=64,f||(S=64)),a.push(i[y],i[v],i[S],i[D])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Mv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):$C(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],h=o<s.length?i[s.charAt(o)]:0;++o;const m=o<s.length?i[s.charAt(o)]:64;++o;const v=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||h==null||m==null||v==null)throw new eT;const S=u<<2|h>>4;if(a.push(S),m!==64){const D=h<<4&240|m>>2;if(a.push(D),v!==64){const k=m<<6&192|v;a.push(k)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class eT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Iv=function(s){const t=Mv(s);return Kf.encodeByteArray(t,!0)},Po=function(s){return Iv(s).replace(/\./g,"")},Bo=function(s){try{return Kf.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(s){return kv(void 0,s)}function kv(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!nT(i)||(s[i]=kv(s[i],t[i]));return s}function nT(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=()=>iT().__FIREBASE_DEFAULTS__,rT=()=>{if(typeof process>"u"||typeof iy>"u")return;const s=iy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},aT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Bo(s[1]);return t&&JSON.parse(t)},Qf=()=>{try{return JC()||sT()||rT()||aT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Lv=s=>Qf()?.emulatorHosts?.[s],lT=s=>{const t=Lv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Uv=()=>Qf()?.config,zv=s=>Qf()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Po(JSON.stringify(i)),Po(JSON.stringify(f)),""].join(".")}const Na={};function cT(){const s={prod:[],emulator:[]};for(const t of Object.keys(Na))Na[t]?s.emulator.push(t):s.prod.push(t);return s}function uT(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let sy=!1;function Hv(s,t){if(typeof window>"u"||typeof document>"u"||!_r(window.location.host)||Na[s]===t||Na[s]||sy)return;Na[s]=t;function i(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=cT().prod.length>0;function f(){const S=document.getElementById(a);S&&S.remove()}function h(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{sy=!0,f()},S}function y(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function v(){const S=uT(a),D=i("text"),k=document.getElementById(D)||document.createElement("span"),j=i("learnmore"),P=document.getElementById(j)||document.createElement("a"),V=i("preprendIcon"),q=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const W=S.element;h(W),y(P,j);const Se=m();g(q,V),W.append(q,k,P,Se),document.body.appendChild(W)}u?(k.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function dT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Pv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hT(){const s=bt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function mT(){return Dv.NODE_ADMIN===!0}function pT(){try{return typeof indexedDB=="object"}catch{return!1}}function gT(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="FirebaseError";class Li extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=_T,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Za.prototype.create)}}class Za{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?yT(u,a):"Error",h=`${this.serviceName}: ${f} (${o}).`;return new Li(o,h,a)}}function yT(s,t){return s.replace(vT,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const vT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(s){return JSON.parse(s)}function Je(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=function(s){let t={},i={},a={},o="";try{const u=s.split(".");t=La(Bo(u[0])||""),i=La(Bo(u[1])||""),o=u[2],a=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:a,signature:o}},bT=function(s){const t=Bv(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},ST=function(s){const t=Bv(s).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function or(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function _f(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Vo(s,t,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=t.call(i,s[o],o,s));return a}function cs(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const u=s[o],f=t[o];if(ry(u)&&ry(f)){if(!cs(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function ry(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function wa(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function xa(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const a=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)a[v]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)a[v]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let v=16;v<80;v++){const S=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],g=this.chain_[4],m,y;for(let v=0;v<80;v++){v<40?v<20?(m=h^u&(f^h),y=1518500249):(m=u^f^h,y=1859775393):v<60?(m=u&f|h&(u|f),y=2400959708):(m=u^f^h,y=3395469782);const S=(o<<5|o>>>27)+m+g+y+a[v]&4294967295;g=h,h=f,f=(u<<30|u>>>2)&4294967295,u=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const a=i-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<i;){if(f===0)for(;o<=a;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(u[f]=t.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<i;)if(u[f]=t[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)t[a]=this.chain_[o]>>u&255,++a;return t}}function CT(s,t){const i=new TT(s,t);return i.subscribe.bind(i)}class TT{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");wT(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=$d),o.error===void 0&&(o.error=$d),o.complete===void 0&&(o.complete=$d);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wT(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function $d(){}function Wf(s,t){return`${s} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const u=o-55296;a++,H(a<s.length,"Surrogate pair missing trail surrogate.");const f=s.charCodeAt(a)-56320;o=65536+(u<<10)+f}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},fc=function(s){let t=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?t++:a<2048?t+=2:a>=55296&&a<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(s){return s&&s._delegate?s._delegate:s}class us{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new dc;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(RT(t))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=ss){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ss){return this.instances.has(t)}getOptions(t=ss){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);a===h&&f.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&t(u,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:AT(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ss){return this.component?this.component.multipleInstances?t:ss:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AT(s){return s===ss?void 0:s}function RT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new NT(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Re||(Re={}));const DT={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},MT=Re.INFO,IT={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},kT=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),o=IT[t];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zf{constructor(t){this.name=t,this._logLevel=MT,this._logHandler=kT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?DT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...t),this._logHandler(this,Re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...t),this._logHandler(this,Re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...t),this._logHandler(this,Re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...t),this._logHandler(this,Re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...t),this._logHandler(this,Re.ERROR,...t)}}const LT=(s,t)=>t.some(i=>s instanceof i);let ay,ly;function UT(){return ay||(ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zT(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vv=new WeakMap,yf=new WeakMap,qv=new WeakMap,ef=new WeakMap,Jf=new WeakMap;function jT(s){const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{i(Ni(s.result)),o()},f=()=>{a(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&Vv.set(i,s)}).catch(()=>{}),Jf.set(t,s),t}function HT(s){if(yf.has(s))return;const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});yf.set(s,t)}let vf={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return yf.get(s);if(t==="objectStoreNames")return s.objectStoreNames||qv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ni(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function PT(s){vf=s(vf)}function BT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(tf(this),t,...i);return qv.set(a,t.sort?t.sort():[t]),Ni(a)}:zT().includes(s)?function(...t){return s.apply(tf(this),t),Ni(Vv.get(this))}:function(...t){return Ni(s.apply(tf(this),t))}}function VT(s){return typeof s=="function"?BT(s):(s instanceof IDBTransaction&&HT(s),LT(s,UT())?new Proxy(s,vf):s)}function Ni(s){if(s instanceof IDBRequest)return jT(s);if(ef.has(s))return ef.get(s);const t=VT(s);return t!==s&&(ef.set(s,t),Jf.set(t,s)),t}const tf=s=>Jf.get(s);function qT(s,t,{blocked:i,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),h=Ni(f);return a&&f.addEventListener("upgradeneeded",g=>{a(Ni(f.result),g.oldVersion,g.newVersion,Ni(f.transaction),g)}),i&&f.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),h.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const GT=["get","getKey","getAll","getAllKeys","count"],FT=["put","add","delete","clear"],nf=new Map;function oy(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(nf.get(t))return nf.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=FT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||GT.includes(i)))return;const u=async function(f,...h){const g=this.transaction(f,o?"readwrite":"readonly");let m=g.store;return a&&(m=m.index(h.shift())),(await Promise.all([m[i](...h),o&&g.done]))[0]};return nf.set(t,u),u}PT(s=>({...s,get:(t,i,a)=>oy(t,i)||s.get(t,i,a),has:(t,i)=>!!oy(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(KT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function KT(s){return s.getComponent()?.type==="VERSION"}const bf="@firebase/app",cy="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new Zf("@firebase/app"),QT="@firebase/app-compat",XT="@firebase/analytics-compat",WT="@firebase/analytics",ZT="@firebase/app-check-compat",JT="@firebase/app-check",$T="@firebase/auth",ew="@firebase/auth-compat",tw="@firebase/database",nw="@firebase/data-connect",iw="@firebase/database-compat",sw="@firebase/functions",rw="@firebase/functions-compat",aw="@firebase/installations",lw="@firebase/installations-compat",ow="@firebase/messaging",cw="@firebase/messaging-compat",uw="@firebase/performance",dw="@firebase/performance-compat",fw="@firebase/remote-config",hw="@firebase/remote-config-compat",mw="@firebase/storage",pw="@firebase/storage-compat",gw="@firebase/firestore",_w="@firebase/ai",yw="@firebase/firestore-compat",vw="firebase",bw="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="[DEFAULT]",Sw={[bf]:"fire-core",[QT]:"fire-core-compat",[WT]:"fire-analytics",[XT]:"fire-analytics-compat",[JT]:"fire-app-check",[ZT]:"fire-app-check-compat",[$T]:"fire-auth",[ew]:"fire-auth-compat",[tw]:"fire-rtdb",[nw]:"fire-data-connect",[iw]:"fire-rtdb-compat",[sw]:"fire-fn",[rw]:"fire-fn-compat",[aw]:"fire-iid",[lw]:"fire-iid-compat",[ow]:"fire-fcm",[cw]:"fire-fcm-compat",[uw]:"fire-perf",[dw]:"fire-perf-compat",[fw]:"fire-rc",[hw]:"fire-rc-compat",[mw]:"fire-gcs",[pw]:"fire-gcs-compat",[gw]:"fire-fst",[yw]:"fire-fst-compat",[_w]:"fire-vertex","fire-js":"fire-js",[vw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Map,Ew=new Map,Ef=new Map;function uy(s,t){try{s.container.addComponent(t)}catch(i){Fn.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function cr(s){const t=s.name;if(Ef.has(t))return Fn.debug(`There were multiple attempts to register component ${t}.`),!1;Ef.set(t,s);for(const i of qo.values())uy(i,s);for(const i of Ew.values())uy(i,s);return!0}function $f(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Vt(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new Za("app","Firebase",Cw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=bw;function Gv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Sf,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Ai.create("bad-app-name",{appName:String(o)});if(i||(i=Uv()),!i)throw Ai.create("no-options");const u=qo.get(o);if(u){if(cs(i,u.options)&&cs(a,u.config))return u;throw Ai.create("duplicate-app",{appName:o})}const f=new OT(o);for(const g of Ef.values())f.addComponent(g);const h=new Tw(i,a,f);return qo.set(o,h),h}function Fv(s=Sf){const t=qo.get(s);if(!t&&s===Sf&&Uv())return Gv();if(!t)throw Ai.create("no-app",{appName:s});return t}function Ri(s,t,i){let a=Sw[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${t}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fn.warn(f.join(" "));return}cr(new us(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="firebase-heartbeat-database",xw=1,Ua="firebase-heartbeat-store";let sf=null;function Yv(){return sf||(sf=qT(ww,xw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ua)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ai.create("idb-open",{originalErrorMessage:s.message})})),sf}async function Nw(s){try{const i=(await Yv()).transaction(Ua),a=await i.objectStore(Ua).get(Kv(s));return await i.done,a}catch(t){if(t instanceof Li)Fn.warn(t.message);else{const i=Ai.create("idb-get",{originalErrorMessage:t?.message});Fn.warn(i.message)}}}async function dy(s,t){try{const a=(await Yv()).transaction(Ua,"readwrite");await a.objectStore(Ua).put(t,Kv(s)),await a.done}catch(i){if(i instanceof Li)Fn.warn(i.message);else{const a=Ai.create("idb-set",{originalErrorMessage:i?.message});Fn.warn(a.message)}}}function Kv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=1024,Rw=30;class Ow{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Mw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=fy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Rw){const o=Iw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Fn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fy(),{heartbeatsToSend:i,unsentEntries:a}=Dw(this._heartbeatsCache.heartbeats),o=Po(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Fn.warn(t),""}}}function fy(){return new Date().toISOString().substring(0,10)}function Dw(s,t=Aw){const i=[];let a=s.slice();for(const o of s){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),hy(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),hy(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Mw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pT()?gT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Nw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return dy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return dy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function hy(s){return Po(JSON.stringify({version:2,heartbeats:s})).length}function Iw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(s){cr(new us("platform-logger",t=>new YT(t),"PRIVATE")),cr(new us("heartbeat",t=>new Ow(t),"PRIVATE")),Ri(bf,cy,s),Ri(bf,cy,"esm2020"),Ri("fire-js","")}kw("");var Lw="firebase",Uw="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(Lw,Uw,"app");var my={};const py="@firebase/database",gy="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qv="";function zw(s){Qv=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Je(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:La(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Xn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new jw(t)}}catch{}return new Hw},as=Xv("localStorage"),Pw=Xv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Zf("@firebase/database"),Bw=(function(){let s=1;return function(){return s++}})(),Wv=function(s){const t=xT(s),i=new ET;i.update(t);const a=i.digest();return Kf.encodeByteArray(a)},Ja=function(...s){let t="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?t+=Ja.apply(null,a):typeof a=="object"?t+=Je(a):t+=a,t+=" "}return t};let Aa=null,_y=!0;const Vw=function(s,t){H(!0,"Can't turn on custom loggers persistently."),ir.logLevel=Re.VERBOSE,Aa=ir.log.bind(ir)},ht=function(...s){if(_y===!0&&(_y=!1,Aa===null&&Pw.get("logging_enabled")===!0&&Vw()),Aa){const t=Ja.apply(null,s);Aa(t)}},$a=function(s){return function(...t){ht(s,...t)}},Cf=function(...s){const t="FIREBASE INTERNAL ERROR: "+Ja(...s);ir.error(t)},Yn=function(...s){const t=`FIREBASE FATAL ERROR: ${Ja(...s)}`;throw ir.error(t),new Error(t)},Rt=function(...s){const t="FIREBASE WARNING: "+Ja(...s);ir.warn(t)},qw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Zv=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},Gw=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ur="[MIN_NAME]",ds="[MAX_NAME]",br=function(s,t){if(s===t)return 0;if(s===ur||t===ds)return-1;if(t===ur||s===ds)return 1;{const i=yy(s),a=yy(t);return i!==null?a!==null?i-a===0?s.length-t.length:i-a:-1:a!==null?1:s<t?-1:1}},Fw=function(s,t){return s===t?0:s<t?-1:1},ba=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+Je(t))},eh=function(s){if(typeof s!="object"||s===null)return Je(s);const t=[];for(const a in s)t.push(a);t.sort();let i="{";for(let a=0;a<t.length;a++)a!==0&&(i+=","),i+=Je(t[a]),i+=":",i+=eh(s[t[a]]);return i+="}",i},Jv=function(s,t){const i=s.length;if(i<=t)return[s];const a=[];for(let o=0;o<i;o+=t)o+t>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+t));return a};function Ot(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const $v=function(s){H(!Zv(s),"Invalid JSON number");const t=11,i=52,a=(1<<t-1)-1;let o,u,f,h,g;s===0?(u=0,f=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(h=Math.min(Math.floor(Math.log(s)/Math.LN2),a),u=h+a,f=Math.round(s*Math.pow(2,i-h)-Math.pow(2,i))):(u=0,f=Math.round(s/Math.pow(2,1-a-i))));const m=[];for(g=i;g;g-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(g=t;g;g-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(o?1:0),m.reverse();const y=m.join("");let v="";for(g=0;g<64;g+=8){let S=parseInt(y.substr(g,8),2).toString(16);S.length===1&&(S="0"+S),v=v+S}return v.toLowerCase()},Yw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Kw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Qw(s,t){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+t._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const Xw=new RegExp("^-?(0*)\\d{1,10}$"),Ww=-2147483648,Zw=2147483647,yy=function(s){if(Xw.test(s)){const t=Number(s);if(t>=Ww&&t<=Zw)return t}return null},Sr=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Rt("Exception was thrown by user callback.",i),t},Math.floor(0))}},Jw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ra=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,Vt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(a=>this.appCheck=a)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,a):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Rt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(t,i,a){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(ht("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,a):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rt(t)}}class Io{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Io.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="5",e0="v",t0="s",n0="r",i0="f",s0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,r0="ls",a0="p",Tf="ac",l0="websocket",o0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,i,a,o,u=!1,f="",h=!1,g=!1,m=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=g,this.emulatorOptions=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=as.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&as.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function tx(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function u0(s,t,i){H(typeof t=="string","typeof type must == string"),H(typeof i=="object","typeof params must == object");let a;if(t===l0)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===o0)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);tx(s)&&(i.ns=s.namespace);const o=[];return Ot(i,(u,f)=>{o.push(u+"="+f)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.counters_={}}incrementCounter(t,i=1){Xn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return tT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf={},af={};function nh(s){const t=s.toString();return rf[t]||(rf[t]=new nx),rf[t]}function ix(s,t){const i=s.toString();return af[i]||(af[i]=t()),af[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&Sr(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="start",rx="close",ax="pLPCommand",lx="pRTLPCB",d0="id",f0="pw",h0="ser",ox="cb",cx="seg",ux="ts",dx="d",fx="dframe",m0=1870,p0=30,hx=m0-p0,mx=25e3,px=3e4;class nr{constructor(t,i,a,o,u,f,h){this.connId=t,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$a(t),this.stats_=nh(i),this.urlFn=g=>(this.appCheckToken&&(g[Tf]=this.appCheckToken),u0(i,o0,g))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new sx(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(px)),Gw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ih((...u)=>{const[f,h,g,m,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===vy)this.id=h,this.password=g;else if(f===rx)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const a={};a[vy]="t",a[h0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[ox]=this.scriptTagHolder.uniqueCallbackIdentifier),a[e0]=th,this.transportSessionId&&(a[t0]=this.transportSessionId),this.lastSessionId&&(a[r0]=this.lastSessionId),this.applicationId&&(a[a0]=this.applicationId),this.appCheckToken&&(a[Tf]=this.appCheckToken),typeof location<"u"&&location.hostname&&s0.test(location.hostname)&&(a[n0]=i0);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){nr.forceAllow_=!0}static forceDisallow(){nr.forceDisallow_=!0}static isAvailable(){return nr.forceAllow_?!0:!nr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Yw()&&!Kw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=Je(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Iv(i),o=Jv(a,hx);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[fx]="t",a[d0]=t,a[f0]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=Je(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class ih{constructor(t,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Bw(),window[ax+this.uniqueCallbackIdentifier]=t,window[lx+this.uniqueCallbackIdentifier]=i,this.myIFrame=ih.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){ht("frame writing exception"),h.stack&&ht(h.stack),ht(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ht("No IE domain setting required")}catch{const a=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[d0]=this.myID,t[f0]=this.myPW,t[h0]=this.currentSerial;let i=this.urlFn(t),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+p0+a.length<=m0;){const f=this.pendingSegs.shift();a=a+"&"+cx+o+"="+f.seg+"&"+ux+o+"="+f.ts+"&"+dx+o+"="+f.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,a){this.pendingSegs.push({seg:t,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(mx)),u=()=>{clearTimeout(o),a()};this.addTag(t,u)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=t,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{ht("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=16384,_x=45e3;let Go=null;typeof MozWebSocket<"u"?Go=MozWebSocket:typeof WebSocket<"u"&&(Go=WebSocket);class sn{constructor(t,i,a,o,u,f,h){this.connId=t,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$a(this.connId),this.stats_=nh(i),this.connURL=sn.connectionURL_(i,f,h,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,a,o,u){const f={};return f[e0]=th,typeof location<"u"&&location.hostname&&s0.test(location.hostname)&&(f[n0]=i0),i&&(f[t0]=i),a&&(f[r0]=a),o&&(f[Tf]=o),u&&(f[a0]=u),u0(t,l0,f)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,as.set("previous_websocket_failure",!0);try{let a;mT(),this.mySock=new Go(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(t=!0)}return!t&&Go!==null&&!sn.forceDisallow_}static previouslyFailed(){return as.isInMemoryStorage||as.get("previous_websocket_failure")===!0}markConnectionHealthy(){as.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=La(i);this.onMessage(a)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(H(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(t){this.resetKeepAlive();const i=Je(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Jv(i,gx);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(_x))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{static get ALL_TRANSPORTS(){return[nr,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=sn&&sn.isAvailable();let a=i&&!sn.previouslyFailed();if(t.webSocketOnly&&(i||Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[sn];else{const o=this.transports_=[];for(const u of za.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);za.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}za.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=6e4,vx=5e3,bx=10*1024,Sx=100*1024,lf="t",by="d",Ex="s",Sy="r",Cx="e",Ey="o",Cy="a",Ty="n",wy="p",Tx="h";class wx{constructor(t,i,a,o,u,f,h,g,m,y){this.id=t,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=g,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$a("c:"+this.id+":"),this.transportManager_=new za(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ra(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Sx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(lf in t){const i=t[lf];i===Cy?this.upgradeIfSecondaryHealthy_():i===Sy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Ey&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=ba("t",t),a=ba("d",t);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:wy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Cy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ty,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=ba("t",t),a=ba("d",t);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=ba(lf,t);if(by in t){const a=t[by];if(i===Tx){const o={...a};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===Ty){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===Ex?this.onConnectionShutdown_(a):i===Sy?this.onReset_(a):i===Cx?Cf("Server Error: "+a):i===Ey?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cf("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,a=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),th!==a&&Rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),Ra(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(yx))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ra(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(vx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:wy,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(as.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{put(t,i,a,o){}merge(t,i,a,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,a){}onDisconnectMerge(t,i,a){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(t){this.allowedEvents_=t,this.listeners_={},H(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const a=[...this.listeners_[t]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(t,i,a){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:a});const o=this.getInitialEvent(t);o&&i.apply(a,o)}off(t,i,a){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!a||a===o[u].context)){o.splice(u,1);return}}validateEventType_(t){H(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends _0{static getInstance(){return new Fo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Xf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return H(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=32,Ny=768;class Me{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function ye(){return new Me("")}function le(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Mi(s){return s.pieces_.length-s.pieceNum_}function Ie(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new Me(s.pieces_,t)}function y0(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function xx(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function v0(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function b0(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new Me(t,0)}function $e(s,t){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(t instanceof Me)for(let a=t.pieceNum_;a<t.pieces_.length;a++)i.push(t.pieces_[a]);else{const a=t.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new Me(i,0)}function fe(s){return s.pieceNum_>=s.pieces_.length}function vt(s,t){const i=le(s),a=le(t);if(i===null)return t;if(i===a)return vt(Ie(s),Ie(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function sh(s,t){if(Mi(s)!==Mi(t))return!1;for(let i=s.pieceNum_,a=t.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==t.pieces_[a])return!1;return!0}function rn(s,t){let i=s.pieceNum_,a=t.pieceNum_;if(Mi(s)>Mi(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[a])return!1;++i,++a}return!0}class Nx{constructor(t,i){this.errorPrefix_=i,this.parts_=v0(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=fc(this.parts_[a]);S0(this)}}function Ax(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=fc(t),S0(s)}function Rx(s){const t=s.parts_.pop();s.byteLength_-=fc(t),s.parts_.length>0&&(s.byteLength_-=1)}function S0(s){if(s.byteLength_>Ny)throw new Error(s.errorPrefix_+"has a key path longer than "+Ny+" bytes ("+s.byteLength_+").");if(s.parts_.length>xy)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xy+") or object contains a cycle "+rs(s))}function rs(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends _0{static getInstance(){return new rh}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[t];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(t){return H(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=1e3,Ox=300*1e3,Ay=30*1e3,Dx=1.3,Mx=3e4,Ix="server_kill",Ry=3;class Vn extends g0{constructor(t,i,a,o,u,f,h,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=g,this.id=Vn.nextPersistentConnectionId_++,this.log_=$a("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sa,this.maxReconnectDelay_=Ox,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Fo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,a){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_(Je(u)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),a&&(this.requestCBHash_[o]=a)}get(t){this.initConnection_();const i=new dc,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(t,i,a,o){this.initConnection_();const u=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:i,query:t,tag:a};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(t){const i=t.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const u={p:a},f="q";t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(f,u,h=>{const g=h.d,m=h.s;Vn.warnOnListenWarnings_(g,i),(this.listens.get(a)&&this.listens.get(a).get(o))===t&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(a,o),t.onComplete&&t.onComplete(m,g))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Xn(t,"w")){const a=or(t,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||ST(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ay)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=bT(t)?"auth":"gauth",a={cred:t};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const u=o.s,f=o.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,a=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(t,i){const a=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,t._queryObject,i)}sendUnlisten_(t,i,a,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t},f="n";o&&(u.q=a,u.t=o),this.sendRequest(f,u)}onDisconnectPut(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:a})}onDisconnectMerge(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:a})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,a,o){const u={p:i,d:a};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(t,i,a,o){this.putInternal("p",t,i,a,o)}merge(t,i,a,o){this.putInternal("m",t,i,a,o)}putInternal(t,i,a,o,u){this.initConnection_();const f={p:i,d:a};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:t,request:f,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,a=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,a,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const u=a.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Je(t));const i=t.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Cf("Unrecognized action received from server: "+Je(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sa,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Sa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Mx&&(this.reconnectDelay_=Sa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Dx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Vn.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const g=function(){h?h.close():(f=!0,a())},m=function(v){H(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:g,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,S]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);f?ht("getToken() completed but was canceled"):(ht("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=S&&S.token,h=new wx(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,a,D=>{Rt(D+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ix)},u))}catch(v){this.log_("Failed to get token: "+v),f||(this.repoInfo_.nodeAdmin&&Rt(v),g())}}}interrupt(t){ht("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ht("Resuming connection for reason: "+t),delete this.interruptReasons_[t],_f(this.interruptReasons_)&&(this.reconnectDelay_=Sa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let a;i?a=i.map(u=>eh(u)).join("$"):a="default";const o=this.removeListen_(t,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const a=new Me(t).toString();let o;if(this.listens.has(a)){const u=this.listens.get(a);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(t,i){ht("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ry&&(this.reconnectDelay_=Ay,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ht("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ry&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Qv.replace(/\./g,"-")]=1,Xf()?t["framework.cordova"]=1:Pv()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Fo.getInstance().currentlyOnline();return _f(this.interruptReasons_)&&t}}Vn.nextPersistentConnectionId_=0;Vn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new oe(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const a=new oe(ur,t),o=new oe(ur,i);return this.compare(a,o)!==0}minPost(){return oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao;class E0 extends hc{static get __EMPTY_NODE(){return Ao}static set __EMPTY_NODE(t){Ao=t}compare(t,i){return br(t.name,i.name)}isDefinedOn(t){throw gr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return oe.MIN}maxPost(){return new oe(ds,Ao)}makePost(t,i){return H(typeof t=="string","KeyIndex indexValue must always be a string."),new oe(t,Ao)}toString(){return".key"}}const sr=new E0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t,i,a,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=i?a(t.key,i):1,o&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class it{constructor(t,i,a,o,u){this.key=t,this.value=i,this.color=a??it.RED,this.left=o??At.EMPTY_NODE,this.right=u??At.EMPTY_NODE}copy(t,i,a,o,u){return new it(t??this.key,i??this.value,a??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const u=a(t,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(t,i,a),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return At.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let a,o;if(a=this,i(t,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(t,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(t,a.key)===0){if(a.right.isEmpty())return At.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(t,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}it.RED=!0;it.BLACK=!1;class kx{copy(t,i,a,o,u){return this}insert(t,i,a){return new it(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class At{constructor(t,i=At.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new At(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,it.BLACK,null,null))}remove(t){return new At(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,it.BLACK,null,null))}get(t){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(t,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(t){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(t,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ro(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new Ro(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new Ro(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new Ro(this.root_,null,this.comparator_,!0,t)}}At.EMPTY_NODE=new kx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(s,t){return br(s.name,t.name)}function ah(s,t){return br(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf;function Ux(s){wf=s}const C0=function(s){return typeof s=="number"?"number:"+$v(s):"string:"+s},T0=function(s){if(s.isLeafNode()){const t=s.val();H(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Xn(t,".sv"),"Priority must be a string or number.")}else H(s===wf||s.isEmpty(),"priority of unexpected type.");H(s===wf||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oy;class nt{static set __childrenNodeConstructor(t){Oy=t}static get __childrenNodeConstructor(){return Oy}constructor(t,i=nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),T0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new nt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return fe(t)?this:le(t)===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const a=le(t);return a===null?i:i.isEmpty()&&a!==".priority"?this:(H(a!==".priority"||Mi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+C0(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=$v(this.value_):t+=this.value_,this.lazyHash_=Wv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===nt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof nt.__childrenNodeConstructor?-1:(H(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,a=typeof this.value_,o=nt.VALUE_TYPE_ORDER.indexOf(i),u=nt.VALUE_TYPE_ORDER.indexOf(a);return H(o>=0,"Unknown leaf type: "+i),H(u>=0,"Unknown leaf type: "+a),o===u?a==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w0,x0;function zx(s){w0=s}function jx(s){x0=s}class Hx extends hc{compare(t,i){const a=t.node.getPriority(),o=i.node.getPriority(),u=a.compareTo(o);return u===0?br(t.name,i.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(ds,new nt("[PRIORITY-POST]",x0))}makePost(t,i){const a=w0(t);return new oe(i,new nt("[PRIORITY-POST]",a))}toString(){return".priority"}}const Ve=new Hx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=Math.log(2);class Bx{constructor(t){const i=u=>parseInt(Math.log(u)/Px,10),a=u=>parseInt(Array(u+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=a(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Yo=function(s,t,i,a){s.sort(t);const o=function(g,m){const y=m-g;let v,S;if(y===0)return null;if(y===1)return v=s[g],S=i?i(v):v,new it(S,v.node,it.BLACK,null,null);{const D=parseInt(y/2,10)+g,k=o(g,D),j=o(D+1,m);return v=s[D],S=i?i(v):v,new it(S,v.node,it.BLACK,k,j)}},u=function(g){let m=null,y=null,v=s.length;const S=function(k,j){const P=v-k,V=v;v-=k;const q=o(P+1,V),W=s[P],Se=i?i(W):W;D(new it(Se,W.node,j,null,q))},D=function(k){m?(m.left=k,m=k):(y=k,m=k)};for(let k=0;k<g.count;++k){const j=g.nextBitIsOne(),P=Math.pow(2,g.count-(k+1));j?S(P,it.BLACK):(S(P,it.BLACK),S(P,it.RED))}return y},f=new Bx(s.length),h=u(f);return new At(a||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of;const tr={};class jn{static get Default(){return H(tr&&Ve,"ChildrenNode.ts has not been loaded"),of=of||new jn({".priority":tr},{".priority":Ve}),of}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=or(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof At?i:null}hasIndex(t){return Xn(this.indexSet_,t.toString())}addIndex(t,i){H(t!==sr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const u=i.getIterator(oe.Wrap);let f=u.getNext();for(;f;)o=o||t.isDefinedOn(f.node),a.push(f),f=u.getNext();let h;o?h=Yo(a,t.getCompare()):h=tr;const g=t.toString(),m={...this.indexSet_};m[g]=t;const y={...this.indexes_};return y[g]=h,new jn(y,m)}addToIndexes(t,i){const a=Vo(this.indexes_,(o,u)=>{const f=or(this.indexSet_,u);if(H(f,"Missing index implementation for "+u),o===tr)if(f.isDefinedOn(t.node)){const h=[],g=i.getIterator(oe.Wrap);let m=g.getNext();for(;m;)m.name!==t.name&&h.push(m),m=g.getNext();return h.push(t),Yo(h,f.getCompare())}else return tr;else{const h=i.get(t.name);let g=o;return h&&(g=g.remove(new oe(t.name,h))),g.insert(t,t.node)}});return new jn(a,this.indexSet_)}removeFromIndexes(t,i){const a=Vo(this.indexes_,o=>{if(o===tr)return o;{const u=i.get(t.name);return u?o.remove(new oe(t.name,u)):o}});return new jn(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea;class te{static get EMPTY_NODE(){return Ea||(Ea=new te(new At(ah),null,jn.Default))}constructor(t,i,a){this.children_=t,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&T0(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ea}updatePriority(t){return this.children_.isEmpty()?this:new te(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?Ea:i}}getChild(t){const i=le(t);return i===null?this:this.getImmediateChild(i).getChild(Ie(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(H(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const a=new oe(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(a,this.children_));const f=o.isEmpty()?Ea:this.priorityNode_;return new te(o,f,u)}}updateChild(t,i){const a=le(t);if(a===null)return i;{H(le(t)!==".priority"||Mi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(Ie(t),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let a=0,o=0,u=!0;if(this.forEachChild(Ve,(f,h)=>{i[f]=h.val(t),a++,u&&te.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!t&&u&&o<2*a){const f=[];for(const h in i)f[h]=i[h];return f}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+C0(this.getPriority().val())+":"),this.forEachChild(Ve,(i,a)=>{const o=a.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Wv(t)}return this.lazyHash_}getPredecessorChildName(t,i,a){const o=this.resolveIndex_(a);if(o){const u=o.getPredecessorKey(new oe(t,i));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new oe(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new oe(i,this.children_.get(i)):null}forEachChild(t,i){const a=this.resolveIndex_(t);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,oe.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,oe.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===el?-1:0}withIndex(t){if(t===sr||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new te(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===sr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(Ve),o=i.getIterator(Ve);let u=a.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=a.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===sr?null:this.indexMap_.get(t.toString())}}te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Vx extends te{constructor(){super(new At(ah),te.EMPTY_NODE,jn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return te.EMPTY_NODE}isEmpty(){return!1}}const el=new Vx;Object.defineProperties(oe,{MIN:{value:new oe(ur,te.EMPTY_NODE)},MAX:{value:new oe(ds,el)}});E0.__EMPTY_NODE=te.EMPTY_NODE;nt.__childrenNodeConstructor=te;Ux(el);jx(el);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=!0;function st(s,t=null){if(s===null)return te.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),H(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new nt(i,st(t))}if(!(s instanceof Array)&&qx){const i=[];let a=!1;if(Ot(s,(f,h)=>{if(f.substring(0,1)!=="."){const g=st(h);g.isEmpty()||(a=a||!g.getPriority().isEmpty(),i.push(new oe(f,g)))}}),i.length===0)return te.EMPTY_NODE;const u=Yo(i,Lx,f=>f.name,ah);if(a){const f=Yo(i,Ve.getCompare());return new te(u,st(t),new jn({".priority":f},{".priority":Ve}))}else return new te(u,st(t),jn.Default)}else{let i=te.EMPTY_NODE;return Ot(s,(a,o)=>{if(Xn(s,a)&&a.substring(0,1)!=="."){const u=st(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(a,u))}}),i.updatePriority(st(t))}}zx(st);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx extends hc{constructor(t){super(),this.indexPath_=t,H(!fe(t)&&le(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const a=this.extractChild(t.node),o=this.extractChild(i.node),u=a.compareTo(o);return u===0?br(t.name,i.name):u}makePost(t,i){const a=st(t),o=te.EMPTY_NODE.updateChild(this.indexPath_,a);return new oe(i,o)}maxPost(){const t=te.EMPTY_NODE.updateChild(this.indexPath_,el);return new oe(ds,t)}toString(){return v0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx extends hc{compare(t,i){const a=t.node.compareTo(i.node);return a===0?br(t.name,i.name):a}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(t,i){const a=st(t);return new oe(i,a)}toString(){return".value"}}const Yx=new Fx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(s){return{type:"value",snapshotNode:s}}function dr(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function ja(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function Ha(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function Kx(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t){this.index_=t}updateChild(t,i,a,o,u,f){H(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(i);return h.getChild(o).equals(a.getChild(o))&&h.isEmpty()===a.isEmpty()||(f!=null&&(a.isEmpty()?t.hasChild(i)?f.trackChildChange(ja(i,h)):H(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(dr(i,a)):f.trackChildChange(Ha(i,a,h))),t.isLeafNode()&&a.isEmpty())?t:t.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(t,i,a){return a!=null&&(t.isLeafNode()||t.forEachChild(Ve,(o,u)=>{i.hasChild(o)||a.trackChildChange(ja(o,u))}),i.isLeafNode()||i.forEachChild(Ve,(o,u)=>{if(t.hasChild(o)){const f=t.getImmediateChild(o);f.equals(u)||a.trackChildChange(Ha(o,u,f))}else a.trackChildChange(dr(o,u))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?te.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t){this.indexedFilter_=new lh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Pa.getStartPost_(t),this.endPost_=Pa.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,a=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&a}updateChild(t,i,a,o,u,f){return this.matches(new oe(i,a))||(a=te.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,a,o,u,f)}updateFullNode(t,i,a){i.isLeafNode()&&(i=te.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(te.EMPTY_NODE);const u=this;return i.forEachChild(Ve,(f,h)=>{u.matches(new oe(f,h))||(o=o.updateImmediateChild(f,te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,a)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Pa(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,a,o,u,f){return this.rangedFilter_.matches(new oe(i,a))||(a=te.EMPTY_NODE),t.getImmediateChild(i).equals(a)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,a,o,u,f):this.fullLimitUpdateChild_(t,i,a,u,f)}updateFullNode(t,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=te.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=te.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(te.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const h=u.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:o=o.updateImmediateChild(h.name,te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,a)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,a,o,u){let f;if(this.reverse_){const v=this.index_.getCompare();f=(S,D)=>v(D,S)}else f=this.index_.getCompare();const h=t;H(h.numChildren()===this.limit_,"");const g=new oe(i,a),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(g);if(h.hasChild(i)){const v=h.getImmediateChild(i);let S=o.getChildAfterChild(this.index_,m,this.reverse_);for(;S!=null&&(S.name===i||h.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const D=S==null?1:f(S,g);if(y&&!a.isEmpty()&&D>=0)return u?.trackChildChange(Ha(i,a,v)),h.updateImmediateChild(i,a);{u?.trackChildChange(ja(i,v));const j=h.updateImmediateChild(i,te.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(u?.trackChildChange(dr(S.name,S.node)),j.updateImmediateChild(S.name,S.node)):j}}else return a.isEmpty()?t:y&&f(m,g)>=0?(u!=null&&(u.trackChildChange(ja(m.name,m.node)),u.trackChildChange(dr(i,a))),h.updateImmediateChild(i,a).updateImmediateChild(m.name,te.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ur}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ds}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const t=new oh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Xx(s){return s.loadsAllData()?new lh(s.getIndex()):s.hasLimit()?new Qx(s):new Pa(s)}function Dy(s){const t={};if(s.isDefault())return t;let i;if(s.index_===Ve?i="$priority":s.index_===Yx?i="$value":s.index_===sr?i="$key":(H(s.index_ instanceof Gx,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=Je(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";t[a]=Je(s.indexStartValue_),s.startNameSet_&&(t[a]+=","+Je(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";t[a]=Je(s.indexEndValue_),s.endNameSet_&&(t[a]+=","+Je(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function My(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==Ve&&(t.i=s.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends g0{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(H(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,a,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=$a("p:rest:"),this.listens_={}}listen(t,i,a,o){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const f=Ko.getListenId_(t,a),h={};this.listens_[f]=h;const g=Dy(t._queryParams);this.restRequest_(u+".json",g,(m,y)=>{let v=y;if(m===404&&(v=null,m=null),m===null&&this.onDataUpdate_(u,v,!1,a),or(this.listens_,f)===h){let S;m?m===401?S="permission_denied":S="rest_error:"+m:S="ok",o(S,null)}})}unlisten(t,i){const a=Ko.getListenId_(t,i);delete this.listens_[a]}get(t){const i=Dy(t._queryParams),a=t._path.toString(),o=new dc;return this.restRequest_(a+".json",i,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(a,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+yr(i);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(a&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let g=null;if(h.status>=200&&h.status<300){try{g=La(h.responseText)}catch{Rt("Failed to parse JSON response for "+f+": "+h.responseText)}a(null,g)}else h.status!==401&&h.status!==404&&Rt("Got unsuccessful REST response for "+f+" Status: "+h.status),a(h.status);a=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.rootNode_=te.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(){return{value:null,children:new Map}}function A0(s,t,i){if(fe(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const a=le(t);s.children.has(a)||s.children.set(a,Qo());const o=s.children.get(a);t=Ie(t),A0(o,t,i)}}function xf(s,t,i){s.value!==null?i(t,s.value):Zx(s,(a,o)=>{const u=new Me(t.toString()+"/"+a);xf(o,u,i)})}function Zx(s,t){s.children.forEach((i,a)=>{t(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&Ot(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=10*1e3,$x=30*1e3,eN=300*1e3;class tN{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new Jx(t);const a=Iy+($x-Iy)*Math.random();Ra(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const t=this.statsListener_.get(),i={};let a=!1;Ot(t,(o,u)=>{u>0&&Xn(this.statsToReport_,o)&&(i[o]=u,a=!0)}),a&&this.server_.reportStats(i),Ra(this.reportStats_.bind(this),Math.floor(Math.random()*2*eN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(an||(an={}));function R0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ch(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function uh(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t,i,a){this.path=t,this.affectedTree=i,this.revert=a,this.type=an.ACK_USER_WRITE,this.source=R0()}operationForChild(t){if(fe(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Me(t));return new Xo(ye(),i,this.revert)}}else return H(le(this.path)===t,"operationForChild called for unrelated child."),new Xo(Ie(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,i){this.source=t,this.path=i,this.type=an.LISTEN_COMPLETE}operationForChild(t){return fe(this.path)?new Ba(this.source,ye()):new Ba(this.source,Ie(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,i,a){this.source=t,this.path=i,this.snap=a,this.type=an.OVERWRITE}operationForChild(t){return fe(this.path)?new fs(this.source,ye(),this.snap.getImmediateChild(t)):new fs(this.source,Ie(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,i,a){this.source=t,this.path=i,this.children=a,this.type=an.MERGE}operationForChild(t){if(fe(this.path)){const i=this.children.subtree(new Me(t));return i.isEmpty()?null:i.value?new fs(this.source,ye(),i.value):new Va(this.source,ye(),i)}else return H(le(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Va(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,i,a){this.node_=t,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(fe(t))return this.isFullyInitialized()&&!this.filtered_;const i=le(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function iN(s,t,i,a){const o=[],u=[];return t.forEach(f=>{f.type==="child_changed"&&s.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(Kx(f.childName,f.snapshotNode))}),Ca(s,o,"child_removed",t,a,i),Ca(s,o,"child_added",t,a,i),Ca(s,o,"child_moved",u,a,i),Ca(s,o,"child_changed",t,a,i),Ca(s,o,"value",t,a,i),o}function Ca(s,t,i,a,o,u){const f=a.filter(h=>h.type===i);f.sort((h,g)=>rN(s,h,g)),f.forEach(h=>{const g=sN(s,h,u);o.forEach(m=>{m.respondsTo(h.type)&&t.push(m.createEvent(g,s.query_))})})}function sN(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function rN(s,t,i){if(t.childName==null||i.childName==null)throw gr("Should only compare child_ events.");const a=new oe(t.childName,t.snapshotNode),o=new oe(i.childName,i.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(s,t){return{eventCache:s,serverCache:t}}function Oa(s,t,i,a){return mc(new Ii(t,i,a),s.serverCache)}function O0(s,t,i,a){return mc(s.eventCache,new Ii(t,i,a))}function Wo(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function hs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf;const aN=()=>(cf||(cf=new At(Fw)),cf);class Ue{static fromObject(t){let i=new Ue(null);return Ot(t,(a,o)=>{i=i.set(new Me(a),o)}),i}constructor(t,i=aN()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:ye(),value:this.value};if(fe(t))return null;{const a=le(t),o=this.children.get(a);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Ie(t),i);return u!=null?{path:$e(new Me(a),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(fe(t))return this;{const i=le(t),a=this.children.get(i);return a!==null?a.subtree(Ie(t)):new Ue(null)}}set(t,i){if(fe(t))return new Ue(i,this.children);{const a=le(t),u=(this.children.get(a)||new Ue(null)).set(Ie(t),i),f=this.children.insert(a,u);return new Ue(this.value,f)}}remove(t){if(fe(t))return this.children.isEmpty()?new Ue(null):new Ue(null,this.children);{const i=le(t),a=this.children.get(i);if(a){const o=a.remove(Ie(t));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Ue(null):new Ue(this.value,u)}else return this}}get(t){if(fe(t))return this.value;{const i=le(t),a=this.children.get(i);return a?a.get(Ie(t)):null}}setTree(t,i){if(fe(t))return i;{const a=le(t),u=(this.children.get(a)||new Ue(null)).setTree(Ie(t),i);let f;return u.isEmpty()?f=this.children.remove(a):f=this.children.insert(a,u),new Ue(this.value,f)}}fold(t){return this.fold_(ye(),t)}fold_(t,i){const a={};return this.children.inorderTraversal((o,u)=>{a[o]=u.fold_($e(t,o),i)}),i(t,this.value,a)}findOnPath(t,i){return this.findOnPath_(t,ye(),i)}findOnPath_(t,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(fe(t))return null;{const u=le(t),f=this.children.get(u);return f?f.findOnPath_(Ie(t),$e(i,u),a):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,ye(),i)}foreachOnPath_(t,i,a){if(fe(t))return this;{this.value&&a(i,this.value);const o=le(t),u=this.children.get(o);return u?u.foreachOnPath_(Ie(t),$e(i,o),a):new Ue(null)}}foreach(t){this.foreach_(ye(),t)}foreach_(t,i){this.children.inorderTraversal((a,o)=>{o.foreach_($e(t,a),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,a)=>{a.value&&t(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.writeTree_=t}static empty(){return new on(new Ue(null))}}function Da(s,t,i){if(fe(t))return new on(new Ue(i));{const a=s.writeTree_.findRootMostValueAndPath(t);if(a!=null){const o=a.path;let u=a.value;const f=vt(o,t);return u=u.updateChild(f,i),new on(s.writeTree_.set(o,u))}else{const o=new Ue(i),u=s.writeTree_.setTree(t,o);return new on(u)}}}function ky(s,t,i){let a=s;return Ot(i,(o,u)=>{a=Da(a,$e(t,o),u)}),a}function Ly(s,t){if(fe(t))return on.empty();{const i=s.writeTree_.setTree(t,new Ue(null));return new on(i)}}function Nf(s,t){return gs(s,t)!=null}function gs(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(vt(i.path,t)):null}function Uy(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ve,(a,o)=>{t.push(new oe(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&t.push(new oe(a,o.value))}),t}function Oi(s,t){if(fe(t))return s;{const i=gs(s,t);return i!=null?new on(new Ue(i)):new on(s.writeTree_.subtree(t))}}function Af(s){return s.writeTree_.isEmpty()}function fr(s,t){return D0(ye(),s.writeTree_,t)}function D0(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let a=null;return t.children.inorderTraversal((o,u)=>{o===".priority"?(H(u.value!==null,"Priority writes must always be leaf nodes"),a=u.value):i=D0($e(s,o),u,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild($e(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(s,t){return L0(t,s)}function lN(s,t,i,a,o){H(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=Da(s.visibleWrites,t,i)),s.lastWriteId=a}function oN(s,t){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===t)return a}return null}function cN(s,t){const i=s.allWrites.findIndex(h=>h.writeId===t);H(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,u=!1,f=s.allWrites.length-1;for(;o&&f>=0;){const h=s.allWrites[f];h.visible&&(f>=i&&uN(h,a.path)?o=!1:rn(a.path,h.path)&&(u=!0)),f--}if(o){if(u)return dN(s),!0;if(a.snap)s.visibleWrites=Ly(s.visibleWrites,a.path);else{const h=a.children;Ot(h,g=>{s.visibleWrites=Ly(s.visibleWrites,$e(a.path,g))})}return!0}else return!1}function uN(s,t){if(s.snap)return rn(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&rn($e(s.path,i),t))return!0;return!1}function dN(s){s.visibleWrites=M0(s.allWrites,fN,ye()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function fN(s){return s.visible}function M0(s,t,i){let a=on.empty();for(let o=0;o<s.length;++o){const u=s[o];if(t(u)){const f=u.path;let h;if(u.snap)rn(i,f)?(h=vt(i,f),a=Da(a,h,u.snap)):rn(f,i)&&(h=vt(f,i),a=Da(a,ye(),u.snap.getChild(h)));else if(u.children){if(rn(i,f))h=vt(i,f),a=ky(a,h,u.children);else if(rn(f,i))if(h=vt(f,i),fe(h))a=ky(a,ye(),u.children);else{const g=or(u.children,le(h));if(g){const m=g.getChild(Ie(h));a=Da(a,ye(),m)}}}else throw gr("WriteRecord should have .snap or .children")}}return a}function I0(s,t,i,a,o){if(!a&&!o){const u=gs(s.visibleWrites,t);if(u!=null)return u;{const f=Oi(s.visibleWrites,t);if(Af(f))return i;if(i==null&&!Nf(f,ye()))return null;{const h=i||te.EMPTY_NODE;return fr(f,h)}}}else{const u=Oi(s.visibleWrites,t);if(!o&&Af(u))return i;if(!o&&i==null&&!Nf(u,ye()))return null;{const f=function(m){return(m.visible||o)&&(!a||!~a.indexOf(m.writeId))&&(rn(m.path,t)||rn(t,m.path))},h=M0(s.allWrites,f,t),g=i||te.EMPTY_NODE;return fr(h,g)}}}function hN(s,t,i){let a=te.EMPTY_NODE;const o=gs(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Ve,(u,f)=>{a=a.updateImmediateChild(u,f)}),a;if(i){const u=Oi(s.visibleWrites,t);return i.forEachChild(Ve,(f,h)=>{const g=fr(Oi(u,new Me(f)),h);a=a.updateImmediateChild(f,g)}),Uy(u).forEach(f=>{a=a.updateImmediateChild(f.name,f.node)}),a}else{const u=Oi(s.visibleWrites,t);return Uy(u).forEach(f=>{a=a.updateImmediateChild(f.name,f.node)}),a}}function mN(s,t,i,a,o){H(a||o,"Either existingEventSnap or existingServerSnap must exist");const u=$e(t,i);if(Nf(s.visibleWrites,u))return null;{const f=Oi(s.visibleWrites,u);return Af(f)?o.getChild(i):fr(f,o.getChild(i))}}function pN(s,t,i,a){const o=$e(t,i),u=gs(s.visibleWrites,o);if(u!=null)return u;if(a.isCompleteForChild(i)){const f=Oi(s.visibleWrites,o);return fr(f,a.getNode().getImmediateChild(i))}else return null}function gN(s,t){return gs(s.visibleWrites,t)}function _N(s,t,i,a,o,u,f){let h;const g=Oi(s.visibleWrites,t),m=gs(g,ye());if(m!=null)h=m;else if(i!=null)h=fr(g,i);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const y=[],v=f.getCompare(),S=u?h.getReverseIteratorFrom(a,f):h.getIteratorFrom(a,f);let D=S.getNext();for(;D&&y.length<o;)v(D,a)!==0&&y.push(D),D=S.getNext();return y}else return[]}function yN(){return{visibleWrites:on.empty(),allWrites:[],lastWriteId:-1}}function Zo(s,t,i,a){return I0(s.writeTree,s.treePath,t,i,a)}function dh(s,t){return hN(s.writeTree,s.treePath,t)}function zy(s,t,i,a){return mN(s.writeTree,s.treePath,t,i,a)}function Jo(s,t){return gN(s.writeTree,$e(s.treePath,t))}function vN(s,t,i,a,o,u){return _N(s.writeTree,s.treePath,t,i,a,o,u)}function fh(s,t,i){return pN(s.writeTree,s.treePath,t,i)}function k0(s,t){return L0($e(s.treePath,t),s.writeTree)}function L0(s,t){return{treePath:s,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,a=t.childName;H(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),H(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(a,Ha(a,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(a,ja(a,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(a,dr(a,t.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(a,Ha(a,t.snapshotNode,o.oldSnap));else throw gr("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(a,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{getCompleteChild(t){return null}getChildAfterChild(t,i,a){return null}}const U0=new SN;class hh{constructor(t,i,a=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const a=this.optCompleteServerCache_!=null?new Ii(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fh(this.writes_,t,a)}}getChildAfterChild(t,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:hs(this.viewCache_),u=vN(this.writes_,o,i,1,a,t);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(s){return{filter:s}}function CN(s,t){H(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),H(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function TN(s,t,i,a,o){const u=new bN;let f,h;if(i.type===an.OVERWRITE){const m=i;m.source.fromUser?f=Rf(s,t,m.path,m.snap,a,o,u):(H(m.source.fromServer,"Unknown source."),h=m.source.tagged||t.serverCache.isFiltered()&&!fe(m.path),f=$o(s,t,m.path,m.snap,a,o,h,u))}else if(i.type===an.MERGE){const m=i;m.source.fromUser?f=xN(s,t,m.path,m.children,a,o,u):(H(m.source.fromServer,"Unknown source."),h=m.source.tagged||t.serverCache.isFiltered(),f=Of(s,t,m.path,m.children,a,o,h,u))}else if(i.type===an.ACK_USER_WRITE){const m=i;m.revert?f=RN(s,t,m.path,a,o,u):f=NN(s,t,m.path,m.affectedTree,a,o,u)}else if(i.type===an.LISTEN_COMPLETE)f=AN(s,t,i.path,a,u);else throw gr("Unknown operation type: "+i.type);const g=u.getChanges();return wN(t,f,g),{viewCache:f,changes:g}}function wN(s,t,i){const a=t.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),u=Wo(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(u)||!a.getNode().getPriority().equals(u.getPriority()))&&i.push(N0(Wo(t)))}}function z0(s,t,i,a,o,u){const f=t.eventCache;if(Jo(a,i)!=null)return t;{let h,g;if(fe(i))if(H(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const m=hs(t),y=m instanceof te?m:te.EMPTY_NODE,v=dh(a,y);h=s.filter.updateFullNode(t.eventCache.getNode(),v,u)}else{const m=Zo(a,hs(t));h=s.filter.updateFullNode(t.eventCache.getNode(),m,u)}else{const m=le(i);if(m===".priority"){H(Mi(i)===1,"Can't have a priority with additional path components");const y=f.getNode();g=t.serverCache.getNode();const v=zy(a,i,y,g);v!=null?h=s.filter.updatePriority(y,v):h=f.getNode()}else{const y=Ie(i);let v;if(f.isCompleteForChild(m)){g=t.serverCache.getNode();const S=zy(a,i,f.getNode(),g);S!=null?v=f.getNode().getImmediateChild(m).updateChild(y,S):v=f.getNode().getImmediateChild(m)}else v=fh(a,m,t.serverCache);v!=null?h=s.filter.updateChild(f.getNode(),m,v,y,o,u):h=f.getNode()}}return Oa(t,h,f.isFullyInitialized()||fe(i),s.filter.filtersNodes())}}function $o(s,t,i,a,o,u,f,h){const g=t.serverCache;let m;const y=f?s.filter:s.filter.getIndexedFilter();if(fe(i))m=y.updateFullNode(g.getNode(),a,null);else if(y.filtersNodes()&&!g.isFiltered()){const D=g.getNode().updateChild(i,a);m=y.updateFullNode(g.getNode(),D,null)}else{const D=le(i);if(!g.isCompleteForPath(i)&&Mi(i)>1)return t;const k=Ie(i),P=g.getNode().getImmediateChild(D).updateChild(k,a);D===".priority"?m=y.updatePriority(g.getNode(),P):m=y.updateChild(g.getNode(),D,P,k,U0,null)}const v=O0(t,m,g.isFullyInitialized()||fe(i),y.filtersNodes()),S=new hh(o,v,u);return z0(s,v,i,o,S,h)}function Rf(s,t,i,a,o,u,f){const h=t.eventCache;let g,m;const y=new hh(o,t,u);if(fe(i))m=s.filter.updateFullNode(t.eventCache.getNode(),a,f),g=Oa(t,m,!0,s.filter.filtersNodes());else{const v=le(i);if(v===".priority")m=s.filter.updatePriority(t.eventCache.getNode(),a),g=Oa(t,m,h.isFullyInitialized(),h.isFiltered());else{const S=Ie(i),D=h.getNode().getImmediateChild(v);let k;if(fe(S))k=a;else{const j=y.getCompleteChild(v);j!=null?y0(S)===".priority"&&j.getChild(b0(S)).isEmpty()?k=j:k=j.updateChild(S,a):k=te.EMPTY_NODE}if(D.equals(k))g=t;else{const j=s.filter.updateChild(h.getNode(),v,k,S,y,f);g=Oa(t,j,h.isFullyInitialized(),s.filter.filtersNodes())}}}return g}function jy(s,t){return s.eventCache.isCompleteForChild(t)}function xN(s,t,i,a,o,u,f){let h=t;return a.foreach((g,m)=>{const y=$e(i,g);jy(t,le(y))&&(h=Rf(s,h,y,m,o,u,f))}),a.foreach((g,m)=>{const y=$e(i,g);jy(t,le(y))||(h=Rf(s,h,y,m,o,u,f))}),h}function Hy(s,t,i){return i.foreach((a,o)=>{t=t.updateChild(a,o)}),t}function Of(s,t,i,a,o,u,f,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,m;fe(i)?m=a:m=new Ue(null).setTree(i,a);const y=t.serverCache.getNode();return m.children.inorderTraversal((v,S)=>{if(y.hasChild(v)){const D=t.serverCache.getNode().getImmediateChild(v),k=Hy(s,D,S);g=$o(s,g,new Me(v),k,o,u,f,h)}}),m.children.inorderTraversal((v,S)=>{const D=!t.serverCache.isCompleteForChild(v)&&S.value===null;if(!y.hasChild(v)&&!D){const k=t.serverCache.getNode().getImmediateChild(v),j=Hy(s,k,S);g=$o(s,g,new Me(v),j,o,u,f,h)}}),g}function NN(s,t,i,a,o,u,f){if(Jo(o,i)!=null)return t;const h=t.serverCache.isFiltered(),g=t.serverCache;if(a.value!=null){if(fe(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return $o(s,t,i,g.getNode().getChild(i),o,u,h,f);if(fe(i)){let m=new Ue(null);return g.getNode().forEachChild(sr,(y,v)=>{m=m.set(new Me(y),v)}),Of(s,t,i,m,o,u,h,f)}else return t}else{let m=new Ue(null);return a.foreach((y,v)=>{const S=$e(i,y);g.isCompleteForPath(S)&&(m=m.set(y,g.getNode().getChild(S)))}),Of(s,t,i,m,o,u,h,f)}}function AN(s,t,i,a,o){const u=t.serverCache,f=O0(t,u.getNode(),u.isFullyInitialized()||fe(i),u.isFiltered());return z0(s,f,i,a,U0,o)}function RN(s,t,i,a,o,u){let f;if(Jo(a,i)!=null)return t;{const h=new hh(a,t,o),g=t.eventCache.getNode();let m;if(fe(i)||le(i)===".priority"){let y;if(t.serverCache.isFullyInitialized())y=Zo(a,hs(t));else{const v=t.serverCache.getNode();H(v instanceof te,"serverChildren would be complete if leaf node"),y=dh(a,v)}y=y,m=s.filter.updateFullNode(g,y,u)}else{const y=le(i);let v=fh(a,y,t.serverCache);v==null&&t.serverCache.isCompleteForChild(y)&&(v=g.getImmediateChild(y)),v!=null?m=s.filter.updateChild(g,y,v,Ie(i),h,u):t.eventCache.getNode().hasChild(y)?m=s.filter.updateChild(g,y,te.EMPTY_NODE,Ie(i),h,u):m=g,m.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Zo(a,hs(t)),f.isLeafNode()&&(m=s.filter.updateFullNode(m,f,u)))}return f=t.serverCache.isFullyInitialized()||Jo(a,ye())!=null,Oa(t,m,f,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new lh(a.getIndex()),u=Xx(a);this.processor_=EN(u);const f=i.serverCache,h=i.eventCache,g=o.updateFullNode(te.EMPTY_NODE,f.getNode(),null),m=u.updateFullNode(te.EMPTY_NODE,h.getNode(),null),y=new Ii(g,f.isFullyInitialized(),o.filtersNodes()),v=new Ii(m,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=mc(v,y),this.eventGenerator_=new nN(this.query_)}get query(){return this.query_}}function DN(s){return s.viewCache_.serverCache.getNode()}function MN(s){return Wo(s.viewCache_)}function IN(s,t){const i=hs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!fe(t)&&!i.getImmediateChild(le(t)).isEmpty())?i.getChild(t):null}function Py(s){return s.eventRegistrations_.length===0}function kN(s,t){s.eventRegistrations_.push(t)}function By(s,t,i){const a=[];if(i){H(t==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,o);f&&a.push(f)})}if(t){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const f=s.eventRegistrations_[u];if(!f.matches(t))o.push(f);else if(t.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function Vy(s,t,i,a){t.type===an.MERGE&&t.source.queryId!==null&&(H(hs(s.viewCache_),"We should always have a full cache before handling merges"),H(Wo(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=TN(s.processor_,o,t,i,a);return CN(s.processor_,u.viewCache),H(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,j0(s,u.changes,u.viewCache.eventCache.getNode(),null)}function LN(s,t){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ve,(u,f)=>{a.push(dr(u,f))}),i.isFullyInitialized()&&a.push(N0(i.getNode())),j0(s,a,i.getNode(),t)}function j0(s,t,i,a){const o=a?[a]:s.eventRegistrations_;return iN(s.eventGenerator_,t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec;class H0{constructor(){this.views=new Map}}function UN(s){H(!ec,"__referenceConstructor has already been defined"),ec=s}function zN(){return H(ec,"Reference.ts has not been loaded"),ec}function jN(s){return s.views.size===0}function mh(s,t,i,a){const o=t.source.queryId;if(o!==null){const u=s.views.get(o);return H(u!=null,"SyncTree gave us an op for an invalid query."),Vy(u,t,i,a)}else{let u=[];for(const f of s.views.values())u=u.concat(Vy(f,t,i,a));return u}}function P0(s,t,i,a,o){const u=t._queryIdentifier,f=s.views.get(u);if(!f){let h=Zo(i,o?a:null),g=!1;h?g=!0:a instanceof te?(h=dh(i,a),g=!1):(h=te.EMPTY_NODE,g=!1);const m=mc(new Ii(h,g,!1),new Ii(a,o,!1));return new ON(t,m)}return f}function HN(s,t,i,a,o,u){const f=P0(s,t,a,o,u);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,f),kN(f,i),LN(f,i)}function PN(s,t,i,a){const o=t._queryIdentifier,u=[];let f=[];const h=ki(s);if(o==="default")for(const[g,m]of s.views.entries())f=f.concat(By(m,i,a)),Py(m)&&(s.views.delete(g),m.query._queryParams.loadsAllData()||u.push(m.query));else{const g=s.views.get(o);g&&(f=f.concat(By(g,i,a)),Py(g)&&(s.views.delete(o),g.query._queryParams.loadsAllData()||u.push(g.query)))}return h&&!ki(s)&&u.push(new(zN())(t._repo,t._path)),{removed:u,events:f}}function B0(s){const t=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Di(s,t){let i=null;for(const a of s.views.values())i=i||IN(a,t);return i}function V0(s,t){if(t._queryParams.loadsAllData())return gc(s);{const a=t._queryIdentifier;return s.views.get(a)}}function q0(s,t){return V0(s,t)!=null}function ki(s){return gc(s)!=null}function gc(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;function BN(s){H(!tc,"__referenceConstructor has already been defined"),tc=s}function VN(){return H(tc,"Reference.ts has not been loaded"),tc}let qN=1;class qy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=yN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function G0(s,t,i,a,o){return lN(s.pendingWriteTree_,t,i,a,o),o?nl(s,new fs(R0(),t,i)):[]}function ls(s,t,i=!1){const a=oN(s.pendingWriteTree_,t);if(cN(s.pendingWriteTree_,t)){let u=new Ue(null);return a.snap!=null?u=u.set(ye(),!0):Ot(a.children,f=>{u=u.set(new Me(f),!0)}),nl(s,new Xo(a.path,u,i))}else return[]}function tl(s,t,i){return nl(s,new fs(ch(),t,i))}function GN(s,t,i){const a=Ue.fromObject(i);return nl(s,new Va(ch(),t,a))}function FN(s,t){return nl(s,new Ba(ch(),t))}function YN(s,t,i){const a=gh(s,i);if(a){const o=_h(a),u=o.path,f=o.queryId,h=vt(u,t),g=new Ba(uh(f),h);return yh(s,u,g)}else return[]}function nc(s,t,i,a,o=!1){const u=t._path,f=s.syncPointTree_.get(u);let h=[];if(f&&(t._queryIdentifier==="default"||q0(f,t))){const g=PN(f,t,i,a);jN(f)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const m=g.removed;if(h=g.events,!o){const y=m.findIndex(S=>S._queryParams.loadsAllData())!==-1,v=s.syncPointTree_.findOnPath(u,(S,D)=>ki(D));if(y&&!v){const S=s.syncPointTree_.subtree(u);if(!S.isEmpty()){const D=XN(S);for(let k=0;k<D.length;++k){const j=D[k],P=j.query,V=Q0(s,j);s.listenProvider_.startListening(Ma(P),qa(s,P),V.hashFn,V.onComplete)}}}!v&&m.length>0&&!a&&(y?s.listenProvider_.stopListening(Ma(t),null):m.forEach(S=>{const D=s.queryToTagMap.get(_c(S));s.listenProvider_.stopListening(Ma(S),D)}))}WN(s,m)}return h}function F0(s,t,i,a){const o=gh(s,a);if(o!=null){const u=_h(o),f=u.path,h=u.queryId,g=vt(f,t),m=new fs(uh(h),g,i);return yh(s,f,m)}else return[]}function KN(s,t,i,a){const o=gh(s,a);if(o){const u=_h(o),f=u.path,h=u.queryId,g=vt(f,t),m=Ue.fromObject(i),y=new Va(uh(h),g,m);return yh(s,f,y)}else return[]}function Df(s,t,i,a=!1){const o=t._path;let u=null,f=!1;s.syncPointTree_.foreachOnPath(o,(S,D)=>{const k=vt(S,o);u=u||Di(D,k),f=f||ki(D)});let h=s.syncPointTree_.get(o);h?(f=f||ki(h),u=u||Di(h,ye())):(h=new H0,s.syncPointTree_=s.syncPointTree_.set(o,h));let g;u!=null?g=!0:(g=!1,u=te.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((D,k)=>{const j=Di(k,ye());j&&(u=u.updateImmediateChild(D,j))}));const m=q0(h,t);if(!m&&!t._queryParams.loadsAllData()){const S=_c(t);H(!s.queryToTagMap.has(S),"View does not exist, but we have a tag");const D=ZN();s.queryToTagMap.set(S,D),s.tagToQueryMap.set(D,S)}const y=pc(s.pendingWriteTree_,o);let v=HN(h,t,i,y,u,g);if(!m&&!f&&!a){const S=V0(h,t);v=v.concat(JN(s,t,S))}return v}function ph(s,t,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(t,(f,h)=>{const g=vt(f,t),m=Di(h,g);if(m)return m});return I0(o,t,u,i,!0)}function QN(s,t){const i=t._path;let a=null;s.syncPointTree_.foreachOnPath(i,(m,y)=>{const v=vt(m,i);a=a||Di(y,v)});let o=s.syncPointTree_.get(i);o?a=a||Di(o,ye()):(o=new H0,s.syncPointTree_=s.syncPointTree_.set(i,o));const u=a!=null,f=u?new Ii(a,!0,!1):null,h=pc(s.pendingWriteTree_,t._path),g=P0(o,t,h,u?f.getNode():te.EMPTY_NODE,u);return MN(g)}function nl(s,t){return Y0(t,s.syncPointTree_,null,pc(s.pendingWriteTree_,ye()))}function Y0(s,t,i,a){if(fe(s.path))return K0(s,t,i,a);{const o=t.get(ye());i==null&&o!=null&&(i=Di(o,ye()));let u=[];const f=le(s.path),h=s.operationForChild(f),g=t.children.get(f);if(g&&h){const m=i?i.getImmediateChild(f):null,y=k0(a,f);u=u.concat(Y0(h,g,m,y))}return o&&(u=u.concat(mh(o,s,a,i))),u}}function K0(s,t,i,a){const o=t.get(ye());i==null&&o!=null&&(i=Di(o,ye()));let u=[];return t.children.inorderTraversal((f,h)=>{const g=i?i.getImmediateChild(f):null,m=k0(a,f),y=s.operationForChild(f);y&&(u=u.concat(K0(y,h,g,m)))}),o&&(u=u.concat(mh(o,s,a,i))),u}function Q0(s,t){const i=t.query,a=qa(s,i);return{hashFn:()=>(DN(t)||te.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?YN(s,i._path,a):FN(s,i._path);{const u=Qw(o,i);return nc(s,i,null,u)}}}}function qa(s,t){const i=_c(t);return s.queryToTagMap.get(i)}function _c(s){return s._path.toString()+"$"+s._queryIdentifier}function gh(s,t){return s.tagToQueryMap.get(t)}function _h(s){const t=s.indexOf("$");return H(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new Me(s.substr(0,t))}}function yh(s,t,i){const a=s.syncPointTree_.get(t);H(a,"Missing sync point for query tag that we're tracking");const o=pc(s.pendingWriteTree_,t);return mh(a,i,o,null)}function XN(s){return s.fold((t,i,a)=>{if(i&&ki(i))return[gc(i)];{let o=[];return i&&(o=B0(i)),Ot(a,(u,f)=>{o=o.concat(f)}),o}})}function Ma(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(VN())(s._repo,s._path):s}function WN(s,t){for(let i=0;i<t.length;++i){const a=t[i];if(!a._queryParams.loadsAllData()){const o=_c(a),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function ZN(){return qN++}function JN(s,t,i){const a=t._path,o=qa(s,t),u=Q0(s,i),f=s.listenProvider_.startListening(Ma(t),o,u.hashFn,u.onComplete),h=s.syncPointTree_.subtree(a);if(o)H(!ki(h.value),"If we're adding a query, it shouldn't be shadowed");else{const g=h.fold((m,y,v)=>{if(!fe(m)&&y&&ki(y))return[gc(y).query];{let S=[];return y&&(S=S.concat(B0(y).map(D=>D.query))),Ot(v,(D,k)=>{S=S.concat(k)}),S}});for(let m=0;m<g.length;++m){const y=g[m];s.listenProvider_.stopListening(Ma(y),qa(s,y))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new vh(i)}node(){return this.node_}}class bh{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=$e(this.path_,t);return new bh(this.syncTree_,i)}node(){return ph(this.syncTree_,this.path_)}}const $N=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Gy=function(s,t,i){if(!s||typeof s!="object")return s;if(H(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return eA(s[".sv"],t,i);if(typeof s[".sv"]=="object")return tA(s[".sv"],t);H(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},eA=function(s,t,i){switch(s){case"timestamp":return i.timestamp;default:H(!1,"Unexpected server value: "+s)}},tA=function(s,t,i){s.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&H(!1,"Unexpected increment value: "+a);const o=t.node();if(H(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const f=o.getValue();return typeof f!="number"?a:f+a},nA=function(s,t,i,a){return Sh(t,new bh(i,s),a)},X0=function(s,t,i){return Sh(s,new vh(t),i)};function Sh(s,t,i){const a=s.getPriority().val(),o=Gy(a,t.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const f=s,h=Gy(f.getValue(),t,i);return h!==f.getValue()||o!==f.getPriority().val()?new nt(h,st(o)):s}else{const f=s;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new nt(o))),f.forEachChild(Ve,(h,g)=>{const m=Sh(g,t.getImmediateChild(h),i);m!==g&&(u=u.updateImmediateChild(h,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t="",i=null,a={children:{},childCount:0}){this.name=t,this.parent=i,this.node=a}}function Ch(s,t){let i=t instanceof Me?t:new Me(t),a=s,o=le(i);for(;o!==null;){const u=or(a.node.children,o)||{children:{},childCount:0};a=new Eh(o,a,u),i=Ie(i),o=le(i)}return a}function Er(s){return s.node.value}function W0(s,t){s.node.value=t,Mf(s)}function Z0(s){return s.node.childCount>0}function iA(s){return Er(s)===void 0&&!Z0(s)}function yc(s,t){Ot(s.node.children,(i,a)=>{t(new Eh(i,s,a))})}function J0(s,t,i,a){i&&t(s),yc(s,o=>{J0(o,t,!0)})}function sA(s,t,i){let a=s.parent;for(;a!==null;){if(t(a))return!0;a=a.parent}return!1}function il(s){return new Me(s.parent===null?s.name:il(s.parent)+"/"+s.name)}function Mf(s){s.parent!==null&&rA(s.parent,s.name,s)}function rA(s,t,i){const a=iA(i),o=Xn(s.node.children,t);a&&o?(delete s.node.children[t],s.node.childCount--,Mf(s)):!a&&!o&&(s.node.children[t]=i.node,s.node.childCount++,Mf(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=/[\[\].#$\/\u0000-\u001F\u007F]/,lA=/[\[\].#$\u0000-\u001F\u007F]/,uf=10*1024*1024,$0=function(s){return typeof s=="string"&&s.length!==0&&!aA.test(s)},eb=function(s){return typeof s=="string"&&s.length!==0&&!lA.test(s)},oA=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),eb(s)},tb=function(s,t,i,a){a&&t===void 0||Th(Wf(s,"value"),t,i)},Th=function(s,t,i){const a=i instanceof Me?new Nx(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+rs(a));if(typeof t=="function")throw new Error(s+"contains a function "+rs(a)+" with contents = "+t.toString());if(Zv(t))throw new Error(s+"contains "+t.toString()+" "+rs(a));if(typeof t=="string"&&t.length>uf/3&&fc(t)>uf)throw new Error(s+"contains a string greater than "+uf+" utf8 bytes "+rs(a)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,u=!1;if(Ot(t,(f,h)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!$0(f)))throw new Error(s+" contains an invalid key ("+f+") "+rs(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ax(a,f),Th(s,h,a),Rx(a)}),o&&u)throw new Error(s+' contains ".value" child '+rs(a)+" in addition to actual children.")}},nb=function(s,t,i,a){if(!eb(i))throw new Error(Wf(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},cA=function(s,t,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),nb(s,t,i)},ib=function(s,t){if(le(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},uA=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!$0(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!oA(i))throw new Error(Wf(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wh(s,t){let i=null;for(let a=0;a<t.length;a++){const o=t[a],u=o.getPath();i!==null&&!sh(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function sb(s,t,i){wh(s,i),rb(s,a=>sh(a,t))}function _n(s,t,i){wh(s,i),rb(s,a=>rn(a,t)||rn(t,a))}function rb(s,t){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const u=o.path;t(u)?(fA(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function fA(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const a=i.getEventRunner();Aa&&ht("event: "+i.toString()),Sr(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="repo_interrupt",mA=25;class pA{constructor(t,i,a,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qo(),this.transactionQueueTree_=new Eh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gA(s,t,i){if(s.stats_=nh(s.repoInfo_),s.forceRestClient_||Jw())s.server_=new Ko(s.repoInfo_,(a,o,u,f)=>{Fy(s,a,o,u,f)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Yy(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Je(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new Vn(s.repoInfo_,t,(a,o,u,f)=>{Fy(s,a,o,u,f)},a=>{Yy(s,a)},a=>{_A(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=ix(s.repoInfo_,()=>new tN(s.stats_,s.server_)),s.infoData_=new Wx,s.infoSyncTree_=new qy({startListening:(a,o,u,f)=>{let h=[];const g=s.infoData_.getNode(a._path);return g.isEmpty()||(h=tl(s.infoSyncTree_,a._path,g),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),Nh(s,"connected",!1),s.serverSyncTree_=new qy({startListening:(a,o,u,f)=>(s.server_.listen(a,u,o,(h,g)=>{const m=f(h,g);_n(s.eventQueue_,a._path,m)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function ab(s){const i=s.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function xh(s){return $N({timestamp:ab(s)})}function Fy(s,t,i,a,o){s.dataUpdateCount++;const u=new Me(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let f=[];if(o)if(a){const g=Vo(i,m=>st(m));f=KN(s.serverSyncTree_,u,g,o)}else{const g=st(i);f=F0(s.serverSyncTree_,u,g,o)}else if(a){const g=Vo(i,m=>st(m));f=GN(s.serverSyncTree_,u,g)}else{const g=st(i);f=tl(s.serverSyncTree_,u,g)}let h=u;f.length>0&&(h=bc(s,u)),_n(s.eventQueue_,h,f)}function Yy(s,t){Nh(s,"connected",t),t===!1&&bA(s)}function _A(s,t){Ot(t,(i,a)=>{Nh(s,i,a)})}function Nh(s,t,i){const a=new Me("/.info/"+t),o=st(i);s.infoData_.updateSnapshot(a,o);const u=tl(s.infoSyncTree_,a,o);_n(s.eventQueue_,a,u)}function lb(s){return s.nextWriteId_++}function yA(s,t,i){const a=QN(s.serverSyncTree_,t);return a!=null?Promise.resolve(a):s.server_.get(t).then(o=>{const u=st(o).withIndex(t._queryParams.getIndex());Df(s.serverSyncTree_,t,i,!0);let f;if(t._queryParams.loadsAllData())f=tl(s.serverSyncTree_,t._path,u);else{const h=qa(s.serverSyncTree_,t);f=F0(s.serverSyncTree_,t._path,u,h)}return _n(s.eventQueue_,t._path,f),nc(s.serverSyncTree_,t,i,null,!0),u},o=>(vc(s,"get for query "+Je(t)+" failed: "+o),Promise.reject(new Error(o))))}function vA(s,t,i,a,o){vc(s,"set",{path:t.toString(),value:i,priority:a});const u=xh(s),f=st(i,a),h=ph(s.serverSyncTree_,t),g=X0(f,h,u),m=lb(s),y=G0(s.serverSyncTree_,t,g,m,!0);wh(s.eventQueue_,y),s.server_.put(t.toString(),f.val(!0),(S,D)=>{const k=S==="ok";k||Rt("set at "+t+" failed: "+S);const j=ls(s.serverSyncTree_,m,!k);_n(s.eventQueue_,t,j),CA(s,o,S,D)});const v=fb(s,t);bc(s,v),_n(s.eventQueue_,v,[])}function bA(s){vc(s,"onDisconnectEvents");const t=xh(s),i=Qo();xf(s.onDisconnect_,ye(),(o,u)=>{const f=nA(o,u,s.serverSyncTree_,t);A0(i,o,f)});let a=[];xf(i,ye(),(o,u)=>{a=a.concat(tl(s.serverSyncTree_,o,u));const f=fb(s,o);bc(s,f)}),s.onDisconnect_=Qo(),_n(s.eventQueue_,ye(),a)}function SA(s,t,i){let a;le(t._path)===".info"?a=Df(s.infoSyncTree_,t,i):a=Df(s.serverSyncTree_,t,i),sb(s.eventQueue_,t._path,a)}function Ky(s,t,i){let a;le(t._path)===".info"?a=nc(s.infoSyncTree_,t,i):a=nc(s.serverSyncTree_,t,i),sb(s.eventQueue_,t._path,a)}function EA(s){s.persistentConnection_&&s.persistentConnection_.interrupt(hA)}function vc(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),ht(i,...t)}function CA(s,t,i,a){t&&Sr(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let u=o;a&&(u+=": "+a);const f=new Error(u);f.code=o,t(f)}})}function ob(s,t,i){return ph(s.serverSyncTree_,t,i)||te.EMPTY_NODE}function Ah(s,t=s.transactionQueueTree_){if(t||Sc(s,t),Er(t)){const i=ub(s,t);H(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&TA(s,il(t),i)}else Z0(t)&&yc(t,i=>{Ah(s,i)})}function TA(s,t,i){const a=i.map(m=>m.currentWriteId),o=ob(s,t,a);let u=o;const f=o.hash();for(let m=0;m<i.length;m++){const y=i[m];H(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=vt(t,y.path);u=u.updateChild(v,y.currentOutputSnapshotRaw)}const h=u.val(!0),g=t;s.server_.put(g.toString(),h,m=>{vc(s,"transaction put response",{path:g.toString(),status:m});let y=[];if(m==="ok"){const v=[];for(let S=0;S<i.length;S++)i[S].status=2,y=y.concat(ls(s.serverSyncTree_,i[S].currentWriteId)),i[S].onComplete&&v.push(()=>i[S].onComplete(null,!0,i[S].currentOutputSnapshotResolved)),i[S].unwatcher();Sc(s,Ch(s.transactionQueueTree_,t)),Ah(s,s.transactionQueueTree_),_n(s.eventQueue_,t,y);for(let S=0;S<v.length;S++)Sr(v[S])}else{if(m==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{Rt("transaction at "+g.toString()+" failed: "+m);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=m}bc(s,t)}},f)}function bc(s,t){const i=cb(s,t),a=il(i),o=ub(s,i);return wA(s,o,a),a}function wA(s,t,i){if(t.length===0)return;const a=[];let o=[];const f=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const g=t[h],m=vt(i,g.path);let y=!1,v;if(H(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)y=!0,v=g.abortReason,o=o.concat(ls(s.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=mA)y=!0,v="maxretry",o=o.concat(ls(s.serverSyncTree_,g.currentWriteId,!0));else{const S=ob(s,g.path,f);g.currentInputSnapshot=S;const D=t[h].update(S.val());if(D!==void 0){Th("transaction failed: Data returned ",D,g.path);let k=st(D);typeof D=="object"&&D!=null&&Xn(D,".priority")||(k=k.updatePriority(S.getPriority()));const P=g.currentWriteId,V=xh(s),q=X0(k,S,V);g.currentOutputSnapshotRaw=k,g.currentOutputSnapshotResolved=q,g.currentWriteId=lb(s),f.splice(f.indexOf(P),1),o=o.concat(G0(s.serverSyncTree_,g.path,q,g.currentWriteId,g.applyLocally)),o=o.concat(ls(s.serverSyncTree_,P,!0))}else y=!0,v="nodata",o=o.concat(ls(s.serverSyncTree_,g.currentWriteId,!0))}_n(s.eventQueue_,i,o),o=[],y&&(t[h].status=2,(function(S){setTimeout(S,Math.floor(0))})(t[h].unwatcher),t[h].onComplete&&(v==="nodata"?a.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):a.push(()=>t[h].onComplete(new Error(v),!1,null))))}Sc(s,s.transactionQueueTree_);for(let h=0;h<a.length;h++)Sr(a[h]);Ah(s,s.transactionQueueTree_)}function cb(s,t){let i,a=s.transactionQueueTree_;for(i=le(t);i!==null&&Er(a)===void 0;)a=Ch(a,i),t=Ie(t),i=le(t);return a}function ub(s,t){const i=[];return db(s,t,i),i.sort((a,o)=>a.order-o.order),i}function db(s,t,i){const a=Er(t);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);yc(t,o=>{db(s,o,i)})}function Sc(s,t){const i=Er(t);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,W0(t,i.length>0?i:void 0)}yc(t,a=>{Sc(s,a)})}function fb(s,t){const i=il(cb(s,t)),a=Ch(s.transactionQueueTree_,t);return sA(a,o=>{df(s,o)}),df(s,a),J0(a,o=>{df(s,o)}),i}function df(s,t){const i=Er(t);if(i){const a=[];let o=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(H(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(H(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),o=o.concat(ls(s.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&a.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?W0(t,void 0):i.length=u+1,_n(s.eventQueue_,il(t),o);for(let f=0;f<a.length;f++)Sr(a[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(s){let t="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function NA(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Rt(`Invalid query segment '${i}' in query '${s}'`)}return t}const Qy=function(s,t){const i=AA(s),a=i.namespace;i.domain==="firebase.com"&&Yn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&Yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||qw();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new c0(i.host,i.secure,a,o,t,"",a!==i.subdomain),path:new Me(i.pathString)}},AA=function(s){let t="",i="",a="",o="",u="",f=!0,h="https",g=443;if(typeof s=="string"){let m=s.indexOf("//");m>=0&&(h=s.substring(0,m-1),s=s.substring(m+2));let y=s.indexOf("/");y===-1&&(y=s.length);let v=s.indexOf("?");v===-1&&(v=s.length),t=s.substring(0,Math.min(y,v)),y<v&&(o=xA(s.substring(y,v)));const S=NA(s.substring(Math.min(s.length,v)));m=t.indexOf(":"),m>=0?(f=h==="https"||h==="wss",g=parseInt(t.substring(m+1),10)):m=t.length;const D=t.slice(0,m);if(D.toLowerCase()==="localhost")i="localhost";else if(D.split(".").length<=2)i=D;else{const k=t.indexOf(".");a=t.substring(0,k).toLowerCase(),i=t.substring(k+1),u=a}"ns"in S&&(u=S.ns)}return{host:t,port:g,domain:i,subdomain:a,secure:f,scheme:h,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",RA=(function(){let s=0;const t=[];return function(i){const a=i===s;s=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Xy.charAt(i%64),i=Math.floor(i/64);H(i===0,"Cannot push at time == 0");let f=u.join("");if(a){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=Xy.charAt(t[o]);return H(f.length===20,"nextPushId: Length should be 20."),f}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t,i,a,o){this.eventType=t,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Je(this.snapshot.exportVal())}}class DA{constructor(t,i,a){this.eventRegistration=t,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,i,a,o){this._repo=t,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return fe(this._path)?null:y0(this._path)}get ref(){return new Wn(this._repo,this._path)}get _queryIdentifier(){const t=My(this._queryParams),i=eh(t);return i==="{}"?"default":i}get _queryObject(){return My(this._queryParams)}isEqual(t){if(t=mt(t),!(t instanceof Rh))return!1;const i=this._repo===t._repo,a=sh(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+xx(this._path)}}class Wn extends Rh{constructor(t,i){super(t,i,new oh,!1)}get parent(){const t=b0(this._path);return t===null?null:new Wn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ga{constructor(t,i,a){this._node=t,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Me(t),a=Ya(this.ref,t);return new Ga(this._node.getChild(i),a,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>t(new Ga(o,Ya(this.ref,a),Ve)))}hasChild(t){const i=new Me(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fa(s,t){return s=mt(s),s._checkNotDeleted("ref"),t!==void 0?Ya(s._root,t):s._root}function Ya(s,t){return s=mt(s),le(s._path)===null?cA("child","path",t):nb("child","path",t),new Wn(s._repo,$e(s._path,t))}function MA(s,t){s=mt(s),ib("push",s._path),tb("push",t,s._path,!0);const i=ab(s._repo),a=RA(i),o=Ya(s,a),u=Ya(s,a);let f;return f=Promise.resolve(u),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function mb(s,t){s=mt(s),ib("set",s._path),tb("set",t,s._path,!1);const i=new dc;return vA(s._repo,s._path,t,null,i.wrapCallback(()=>{})),i.promise}function Wy(s){s=mt(s);const t=new hb(()=>{}),i=new Ec(t);return yA(s._repo,s,i).then(a=>new Ga(a,new Wn(s._repo,s._path),s._queryParams.getIndex()))}class Ec{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const a=i._queryParams.getIndex();return new OA("value",this,new Ga(t.snapshotNode,new Wn(i._repo,i._path),a))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new DA(this,t,i):null}matches(t){return t instanceof Ec?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function IA(s,t,i,a,o){let u;if(typeof a=="object"&&(u=void 0,o=a),typeof a=="function"&&(u=a),o&&o.onlyOnce){const g=i,m=(y,v)=>{Ky(s._repo,s,h),g(y,v)};m.userCallback=i.userCallback,m.context=i.context,i=m}const f=new hb(i,u||void 0),h=new Ec(f);return SA(s._repo,s,h),()=>Ky(s._repo,s,h)}function kA(s,t,i,a){return IA(s,"value",t,i,a)}UN(Wn);BN(Wn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="FIREBASE_DATABASE_EMULATOR_HOST",If={};let UA=!1;function zA(s,t,i,a){const o=t.lastIndexOf(":"),u=t.substring(0,o),f=_r(u);s.repoInfo_=new c0(t,f,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function jA(s,t,i,a,o){let u=a||s.options.databaseURL;u===void 0&&(s.options.projectId||Yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ht("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let f=Qy(u,o),h=f.repoInfo,g;typeof process<"u"&&my&&(g=my[LA]),g?(u=`http://${g}?ns=${h.namespace}`,f=Qy(u,o),h=f.repoInfo):f.repoInfo.secure;const m=new ex(s.name,s.options,t);uA("Invalid Firebase Database URL",f),fe(f.path)||Yn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=PA(h,s,m,new $w(s,i));return new BA(y,s)}function HA(s,t){const i=If[t];(!i||i[s.key]!==s)&&Yn(`Database ${t}(${s.repoInfo_}) has already been deleted.`),EA(s),delete i[s.key]}function PA(s,t,i,a){let o=If[t.name];o||(o={},If[t.name]=o);let u=o[s.toURLString()];return u&&Yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new pA(s,UA,i,a),o[s.toURLString()]=u,u}class BA{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wn(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Yn("Cannot call "+t+" on a deleted database.")}}function pb(s=Fv(),t){const i=$f(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const a=lT("database");a&&VA(i,...a)}return i}function VA(s,t,i,a={}){s=mt(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&cs(a,u.repoInfo_.emulatorOptions))return;Yn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)a.mockUserToken&&Yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Io(Io.OWNER);else if(a.mockUserToken){const h=typeof a.mockUserToken=="string"?a.mockUserToken:oT(a.mockUserToken,s.app.options.projectId);f=new Io(h)}_r(t)&&(jv(t),Hv("Database",!0)),zA(u,o,a,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(s){zw(vr),cr(new us("database",(t,{instanceIdentifier:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return jA(a,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Ri(py,gy,s),Ri(py,gy,"esm2020")}Vn.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Vn.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};qA();function gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GA=gb,_b=new Za("auth","Firebase",gb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new Zf("@firebase/auth");function FA(s,...t){ic.logLevel<=Re.WARN&&ic.warn(`Auth (${vr}): ${s}`,...t)}function ko(s,...t){ic.logLevel<=Re.ERROR&&ic.error(`Auth (${vr}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(s,...t){throw Dh(s,...t)}function cn(s,...t){return Dh(s,...t)}function Oh(s,t,i){const a={...GA(),[t]:i};return new Za("auth","Firebase",a).create(t,{appName:s.name})}function qn(s){return Oh(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YA(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&$t(s,"argument-error"),Oh(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dh(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return _b.create(s,...t)}function ee(s,t,...i){if(!s)throw Dh(t,...i)}function Hn(s){const t="INTERNAL ASSERTION FAILED: "+s;throw ko(t),new Error(t)}function Kn(s,t){s||Hn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(){return typeof self<"u"&&self.location?.href||""}function KA(){return Zy()==="http:"||Zy()==="https:"}function Zy(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KA()||fT()||"connection"in navigator)?navigator.onLine:!0}function XA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Kn(i>t,"Short delay should be less than long delay!"),this.isMobile=Xf()||Pv()}get(){return QA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(s,t){Kn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JA=new sl(3e4,6e4);function Ui(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function zi(s,t,i,a,o={}){return vb(s,o,async()=>{let u={},f={};a&&(t==="GET"?f=a:u={body:JSON.stringify(a)});const h=yr({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const m={method:t,headers:g,...u};return dT()||(m.referrerPolicy="no-referrer"),s.emulatorConfig&&_r(s.emulatorConfig.host)&&(m.credentials="include"),yb.fetch()(await bb(s,s.config.apiHost,i,h),m)})}async function vb(s,t,i){s._canInitEmulator=!1;const a={...WA,...t};try{const o=new e2(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Oo(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const h=u.ok?f.errorMessage:f.error.message,[g,m]=h.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oo(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Oo(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw Oo(s,"user-disabled",f);const y=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Oh(s,y,m);$t(s,y)}}catch(o){if(o instanceof Li)throw o;$t(s,"network-request-failed",{message:String(o)})}}async function rl(s,t,i,a,o={}){const u=await zi(s,t,i,a,o);return"mfaPendingCredential"in u&&$t(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function bb(s,t,i,a){const o=`${t}${i}?${a}`,u=s,f=u.config.emulator?Mh(s.config,o):`${s.config.apiScheme}://${o}`;return ZA.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function $A(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(cn(this.auth,"network-request-failed")),JA.get())})}}function Oo(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=cn(s,t,a);return o.customData._tokenResponse=i,o}function Jy(s){return s!==void 0&&s.enterprise!==void 0}class t2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return $A(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n2(s,t){return zi(s,"GET","/v2/recaptchaConfig",Ui(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(s,t){return zi(s,"POST","/v1/accounts:delete",t)}async function sc(s,t){return zi(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function s2(s,t=!1){const i=mt(s),a=await i.getIdToken(t),o=Ih(a);ee(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:a,authTime:Ia(ff(o.auth_time)),issuedAtTime:Ia(ff(o.iat)),expirationTime:Ia(ff(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ff(s){return Number(s)*1e3}function Ih(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return ko("JWT malformed, contained fewer than 3 sections"),null;try{const o=Bo(i);return o?JSON.parse(o):(ko("Failed to decode base64 JWT payload"),null)}catch(o){return ko("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $y(s){const t=Ih(s);return ee(t,"internal-error"),ee(typeof t.exp<"u","internal-error"),ee(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Li&&r2(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function r2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ia(this.lastLoginAt),this.creationTime=Ia(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(s){const t=s.auth,i=await s.getIdToken(),a=await Ka(s,sc(t,{idToken:i}));ee(a?.users.length,t,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?Sb(o.providerUserInfo):[],f=o2(s.providerData,u),h=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!f?.length,m=h?g:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Lf(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(s,y)}async function l2(s){const t=mt(s);await rc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function o2(s,t){return[...s.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function Sb(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(s,t){const i=await vb(s,{},async()=>{const a=yr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await bb(s,o,"/v1/token",`key=${u}`),h=await s._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:h,body:a};return s.emulatorConfig&&_r(s.emulatorConfig.host)&&(g.credentials="include"),yb.fetch()(f,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function u2(s,t){return zi(s,"POST","/v2/accounts:revokeToken",Ui(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ee(t.idToken,"internal-error"),ee(typeof t.idToken<"u","internal-error"),ee(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$y(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){ee(t.length!==0,"internal-error");const i=$y(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:u}=await c2(t,i);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:u}=i,f=new rr;return a&&(ee(typeof a=="string","internal-error",{appName:t}),f.refreshToken=a),o&&(ee(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(ee(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new rr,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(s,t){ee(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ln{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new a2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Ka(this,this.stsTokenManager.getToken(this.auth,t));return ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return s2(this,t)}reload(){return l2(this)}_assign(t){this!==t&&(ee(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ln({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await rc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vt(this.auth.app))return Promise.reject(qn(this.auth));const t=await this.getIdToken();return await Ka(this,i2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,f=i.photoURL??void 0,h=i.tenantId??void 0,g=i._redirectEventId??void 0,m=i.createdAt??void 0,y=i.lastLoginAt??void 0,{uid:v,emailVerified:S,isAnonymous:D,providerData:k,stsTokenManager:j}=i;ee(v&&j,t,"internal-error");const P=rr.fromJSON(this.name,j);ee(typeof v=="string",t,"internal-error"),Ei(a,t.name),Ei(o,t.name),ee(typeof S=="boolean",t,"internal-error"),ee(typeof D=="boolean",t,"internal-error"),Ei(u,t.name),Ei(f,t.name),Ei(h,t.name),Ei(g,t.name),Ei(m,t.name),Ei(y,t.name);const V=new ln({uid:v,auth:t,email:o,emailVerified:S,displayName:a,isAnonymous:D,photoURL:f,phoneNumber:u,tenantId:h,stsTokenManager:P,createdAt:m,lastLoginAt:y});return k&&Array.isArray(k)&&(V.providerData=k.map(q=>({...q}))),g&&(V._redirectEventId=g),V}static async _fromIdTokenResponse(t,i,a=!1){const o=new rr;o.updateFromServerResponse(i);const u=new ln({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await rc(u),u}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Sb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,h=new rr;h.updateFromIdToken(a);const g=new ln({uid:o.localId,auth:t,stsTokenManager:h,isAnonymous:f}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Lf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,m),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=new Map;function Pn(s){Kn(s instanceof Function,"Expected a class definition");let t=ev.get(s);return t?(Kn(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,ev.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Eb.type="NONE";const tv=Eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(s,t,i){return`firebase:${s}:${t}:${i}`}class ar{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Lo(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lo("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await sc(this.auth,{idToken:t}).catch(()=>{});return i?ln._fromGetAccountInfoResponse(this.auth,i,t):null}return ln._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new ar(Pn(tv),t,a);const o=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=o[0]||Pn(tv);const f=Lo(a,t.config.apiKey,t.name);let h=null;for(const m of i)try{const y=await m._get(f);if(y){let v;if(typeof y=="string"){const S=await sc(t,{idToken:y}).catch(()=>{});if(!S)break;v=await ln._fromGetAccountInfoResponse(t,S,y)}else v=ln._fromJSON(t,y);m!==u&&(h=v),u=m;break}}catch{}const g=o.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ar(u,t,a):(u=g[0],h&&await u._set(f,h.toJSON()),await Promise.all(i.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new ar(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Cb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ab(t))return"Blackberry";if(Rb(t))return"Webos";if(Tb(t))return"Safari";if((t.includes("chrome/")||wb(t))&&!t.includes("edge/"))return"Chrome";if(Nb(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Cb(s=bt()){return/firefox\//i.test(s)}function Tb(s=bt()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wb(s=bt()){return/crios\//i.test(s)}function xb(s=bt()){return/iemobile/i.test(s)}function Nb(s=bt()){return/android/i.test(s)}function Ab(s=bt()){return/blackberry/i.test(s)}function Rb(s=bt()){return/webos/i.test(s)}function kh(s=bt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function d2(s=bt()){return kh(s)&&!!window.navigator?.standalone}function f2(){return hT()&&document.documentMode===10}function Ob(s=bt()){return kh(s)||Nb(s)||Rb(s)||Ab(s)||/windows phone/i.test(s)||xb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(s,t=[]){let i;switch(s){case"Browser":i=nv(bt());break;case"Worker":i=`${nv(bt())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${vr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=u=>new Promise((f,h)=>{try{const g=t(u);f(g)}catch(g){h(g)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(s,t={}){return zi(s,"GET","/v2/passwordPolicy",Ui(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=6;class g2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??p2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iv(this),this.idTokenSubscription=new iv(this),this.beforeStateQueue=new h2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Pn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ar.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await sc(this,{idToken:t}),a=await ln._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Vt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=a?._redirectEventId,h=await this.tryRedirectSignIn(t);(!u||u===f)&&h?.user&&(a=h.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await rc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=XA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vt(this.app))return Promise.reject(qn(this));const i=t?mt(t):null;return i&&ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&ee(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vt(this.app)?Promise.reject(qn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vt(this.app)?Promise.reject(qn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await m2(this),i=new g2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Za("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await u2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Pn(t)||this._popupRedirectResolver;ee(i,this,"argument-error"),this.redirectPersistenceManager=await ar.create(this,[Pn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(h,this,"internal-error"),h.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,a,o);return()=>{f=!0,g()}}else{const g=t.addObserver(i);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Db(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Vt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&FA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ji(s){return mt(s)}class iv{constructor(t){this.auth=t,this.observer=null,this.addObserver=CT(i=>this.observer=i)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y2(s){Cc=s}function Mb(s){return Cc.loadJS(s)}function v2(){return Cc.recaptchaEnterpriseScript}function b2(){return Cc.gapiScript}function S2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class E2{constructor(){this.enterprise=new C2}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class C2{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const T2="recaptcha-enterprise",Ib="NO_RECAPTCHA";class w2{constructor(t){this.type=T2,this.auth=ji(t)}async verify(t="verify",i=!1){async function a(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,h)=>{n2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new t2(g);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,f(m.siteKey)}}).catch(g=>{h(g)})})}function o(u,f,h){const g=window.grecaptcha;Jy(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(m=>{f(m)}).catch(()=>{f(Ib)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new E2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(h=>{if(!i&&Jy(window.grecaptcha))o(h,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=v2();g.length!==0&&(g+=h),Mb(g).then(()=>{o(h,u,f)}).catch(m=>{f(m)})}}).catch(h=>{f(h)})})}}async function sv(s,t,i,a=!1,o=!1){const u=new w2(s);let f;if(o)f=Ib;else try{f=await u.verify(i)}catch{f=await u.verify(i,!0)}const h={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const g=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const g=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return a?Object.assign(h,{captchaResp:f}):Object.assign(h,{captchaResponse:f}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Uf(s,t,i,a,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await sv(s,t,i,i==="getOobCode");return a(s,u)}else return a(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await sv(s,t,i,i==="getOobCode");return a(s,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(s,t){const i=$f(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(cs(u,t??{}))return o;$t(o,"already-initialized")}return i.initialize({options:t})}function N2(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Pn);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function A2(s,t,i){const a=ji(s);ee(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,u=kb(t),{host:f,port:h}=R2(t),g=h===null?"":`:${h}`,m={url:`${u}//${f}${g}/`},y=Object.freeze({host:f,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ee(cs(m,a.config.emulator)&&cs(y,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=m,a.emulatorConfig=y,a.settings.appVerificationDisabledForTesting=!0,_r(f)?(jv(`${u}//${f}${g}`),Hv("Auth",!0)):O2()}function kb(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function R2(s){const t=kb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:rv(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:rv(f)}}}function rv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function O2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Hn("not implemented")}_getIdTokenResponse(t){return Hn("not implemented")}_linkToIdToken(t,i){return Hn("not implemented")}_getReauthenticationResolver(t){return Hn("not implemented")}}async function D2(s,t){return zi(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(s,t){return rl(s,"POST","/v1/accounts:signInWithPassword",Ui(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(s,t){return rl(s,"POST","/v1/accounts:signInWithEmailLink",Ui(s,t))}async function k2(s,t){return rl(s,"POST","/v1/accounts:signInWithEmailLink",Ui(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Lh{constructor(t,i,a,o=null){super("password",a),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new Qa(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Qa(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uf(t,i,"signInWithPassword",M2);case"emailLink":return I2(t,{email:this._email,oobCode:this._password});default:$t(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uf(t,a,"signUpPassword",D2);case"emailLink":return k2(t,{idToken:i,email:this._email,oobCode:this._password});default:$t(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lr(s,t){return rl(s,"POST","/v1/accounts:signInWithIdp",Ui(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="http://localhost";class ms extends Lh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ms(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):$t("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...u}=i;if(!a||!o)return null;const f=new ms(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const i=this.buildRequest();return lr(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,lr(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,lr(t,i)}buildRequest(){const t={requestUri:L2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=yr(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z2(s){const t=wa(xa(s)).link,i=t?wa(xa(t)).deep_link_id:null,a=wa(xa(s)).deep_link_id;return(a?wa(xa(a)).link:null)||a||i||t||s}class Uh{constructor(t){const i=wa(xa(t)),a=i.apiKey??null,o=i.oobCode??null,u=U2(i.mode??null);ee(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=z2(t);try{return new Uh(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.providerId=Cr.PROVIDER_ID}static credential(t,i){return Qa._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Uh.parseLink(i);return ee(a,"argument-error"),Qa._fromEmailAndCode(t,a.code,a.tenantId)}}Cr.PROVIDER_ID="password";Cr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends zh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends al{constructor(){super("facebook.com")}static credential(t){return ms._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ti.credentialFromTaggedObject(t)}static credentialFromError(t){return Ti.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ti.credential(t.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends al{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ms._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return zn.credentialFromTaggedObject(t)}static credentialFromError(t){return zn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return zn.credential(i,a)}catch{return null}}}zn.GOOGLE_SIGN_IN_METHOD="google.com";zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends al{constructor(){super("github.com")}static credential(t){return ms._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wi.credentialFromTaggedObject(t)}static credentialFromError(t){return wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wi.credential(t.oauthAccessToken)}catch{return null}}}wi.GITHUB_SIGN_IN_METHOD="github.com";wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends al{constructor(){super("twitter.com")}static credential(t,i){return ms._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return xi.credentialFromTaggedObject(t)}static credentialFromError(t){return xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return xi.credential(i,a)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(s,t){return rl(s,"POST","/v1/accounts:signUp",Ui(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const u=await ln._fromIdTokenResponse(t,a,o),f=av(a);return new ps({user:u,providerId:f,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=av(a);return new ps({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function av(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Li{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,ac.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new ac(t,i,a,o)}}function Lb(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ac._fromErrorAndOperation(s,u,t,a):u})}async function H2(s,t,i=!1){const a=await Ka(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ps._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(s,t,i=!1){const{auth:a}=s;if(Vt(a.app))return Promise.reject(qn(a));const o="reauthenticate";try{const u=await Ka(s,Lb(a,o,t,s),i);ee(u.idToken,a,"internal-error");const f=Ih(u.idToken);ee(f,a,"internal-error");const{sub:h}=f;return ee(s.uid===h,a,"user-mismatch"),ps._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&$t(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ub(s,t,i=!1){if(Vt(s.app))return Promise.reject(qn(s));const a="signIn",o=await Lb(s,a,t),u=await ps._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(u.user),u}async function B2(s,t){return Ub(ji(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(s){const t=ji(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function V2(s,t,i){if(Vt(s.app))return Promise.reject(qn(s));const a=ji(s),f=await Uf(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j2).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&zb(s),g}),h=await ps._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(h.user),h}function q2(s,t,i){return Vt(s.app)?Promise.reject(qn(s)):B2(mt(s),Cr.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&zb(s),a})}function G2(s,t,i,a){return mt(s).onIdTokenChanged(t,i,a)}function F2(s,t,i){return mt(s).beforeAuthStateChanged(t,i)}function Y2(s,t,i,a){return mt(s).onAuthStateChanged(t,i,a)}function K2(s){return mt(s).signOut()}const lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(lc,"1"),this.storage.removeItem(lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=1e3,X2=10;class Hb extends jb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ob(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((f,h,g)=>{this.notifyListeners(f,g)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!i&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);f2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,X2):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Hb.type="LOCAL";const W2=Hb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends jb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Pb.type="SESSION";const Bb=Pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new Tc(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:u}=i.data,f=this.handlersMap[o];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const h=Array.from(f).map(async m=>m(i.origin,u)),g=await Z2(h);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((h,g)=>{const m=jh("",20);o.port1.start();const y=setTimeout(()=>{g(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(v){const S=v;if(S.data.eventId===m)switch(S.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(S.data.response);break;default:clearTimeout(y),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:m,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return window}function $2(s){gn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}async function eR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tR(){return navigator?.serviceWorker?.controller||null}function nR(){return Vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firebaseLocalStorageDb",iR=1,oc="firebaseLocalStorage",Gb="fbase_key";class ll{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function wc(s,t){return s.transaction([oc],t?"readwrite":"readonly").objectStore(oc)}function sR(){const s=indexedDB.deleteDatabase(qb);return new ll(s).toPromise()}function zf(){const s=indexedDB.open(qb,iR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(oc,{keyPath:Gb})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(oc)?t(a):(a.close(),await sR(),t(await zf()))})})}async function lv(s,t,i){const a=wc(s,!0).put({[Gb]:t,value:i});return new ll(a).toPromise()}async function rR(s,t){const i=wc(s,!1).get(t),a=await new ll(i).toPromise();return a===void 0?null:a.value}function ov(s,t){const i=wc(s,!0).delete(t);return new ll(i).toPromise()}const aR=800,lR=3;class Fb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zf(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>lR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tc._getInstance(nR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eR(),!this.activeServiceWorker)return;this.sender=new J2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||tR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zf();return await lv(t,lc,"1"),await ov(t,lc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>lv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>rR(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ov(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=wc(o,!1).getAll();return new ll(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fb.type="LOCAL";const oR=Fb;new sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(s,t){return t?Pn(t):(ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends Lh{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return lr(t,this._buildIdpRequest())}_linkToIdToken(t,i){return lr(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return lr(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function cR(s){return Ub(s.auth,new Hh(s),s.bypassAuthState)}function uR(s){const{auth:t,user:i}=s;return ee(i,t,"internal-error"),P2(i,new Hh(s),s.bypassAuthState)}async function dR(s){const{auth:t,user:i}=s;return ee(i,t,"internal-error"),H2(i,new Hh(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t,i,a,o,u=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:u,error:f,type:h}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(g))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return cR;case"linkViaPopup":case"linkViaRedirect":return dR;case"reauthViaPopup":case"reauthViaRedirect":return uR;default:$t(this.auth,"internal-error")}}resolve(t){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new sl(2e3,1e4);async function hR(s,t,i){if(Vt(s.app))return Promise.reject(cn(s,"operation-not-supported-in-this-environment"));const a=ji(s);YA(s,t,zh);const o=Yb(a,i);return new os(a,"signInViaPopup",t,o).executeNotNull()}class os extends Kb{constructor(t,i,a,o,u){super(t,i,o,u),this.provider=a,this.authWindow=null,this.pollId=null,os.currentPopupAction&&os.currentPopupAction.cancel(),os.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ee(t,this.auth,"internal-error"),t}async onExecution(){Kn(this.filter.length===1,"Popup operations only handle one event");const t=jh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,os.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,fR.get())};t()}}os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="pendingRedirect",Uo=new Map;class pR extends Kb{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Uo.get(this.auth._key());if(!t){try{const a=await gR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Uo.set(this.auth._key(),t)}return this.bypassAuthState||Uo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gR(s,t){const i=vR(t),a=yR(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function _R(s,t){Uo.set(s._key(),t)}function yR(s){return Pn(s._redirectPersistence)}function vR(s){return Lo(mR,s.config.apiKey,s.name)}async function bR(s,t,i=!1){if(Vt(s.app))return Promise.reject(qn(s));const a=ji(s),o=Yb(a,t),f=await new pR(a,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=600*1e3;class ER{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!CR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!Qb(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(cn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=SR&&this.cachedEventUids.clear(),this.cachedEventUids.has(cv(t))}saveEventToCache(t){this.cachedEventUids.add(cv(t)),this.lastProcessedEventTime=Date.now()}}function cv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function Qb({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function CR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qb(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(s,t={}){return zi(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xR=/^https?/;async function NR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await TR(s);for(const i of t)try{if(AR(i))return}catch{}$t(s,"unauthorized-domain")}function AR(s){const t=kf(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===a}if(!xR.test(i))return!1;if(wR.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new sl(3e4,6e4);function uv(){const s=gn().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function OR(s){return new Promise((t,i)=>{function a(){uv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{uv(),i(cn(s,"network-request-failed"))},timeout:RR.get()})}if(gn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(gn().gapi?.load)a();else{const o=S2("iframefcb");return gn()[o]=()=>{gapi.load?a():i(cn(s,"network-request-failed"))},Mb(`${b2()}?onload=${o}`).catch(u=>i(u))}}).catch(t=>{throw zo=null,t})}let zo=null;function DR(s){return zo=zo||OR(s),zo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new sl(5e3,15e3),IR="__/auth/iframe",kR="emulator/auth/iframe",LR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zR(s){const t=s.config;ee(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Mh(t,kR):`https://${s.config.authDomain}/${IR}`,a={apiKey:t.apiKey,appName:s.name,v:vr},o=UR.get(s.config.apiHost);o&&(a.eid=o);const u=s._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${yr(a).slice(1)}`}async function jR(s){const t=await DR(s),i=gn().gapi;return ee(i,s,"internal-error"),t.open({where:document.body,url:zR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LR,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=cn(s,"network-request-failed"),h=gn().setTimeout(()=>{u(f)},MR.get());function g(){gn().clearTimeout(h),o(a)}a.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PR=500,BR=600,VR="_blank",qR="http://localhost";class dv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GR(s,t,i,a=PR,o=BR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let h="";const g={...HR,width:a.toString(),height:o.toString(),top:u,left:f},m=bt().toLowerCase();i&&(h=wb(m)?VR:i),Cb(m)&&(t=t||qR,g.scrollbars="yes");const y=Object.entries(g).reduce((S,[D,k])=>`${S}${D}=${k},`,"");if(d2(m)&&h!=="_self")return FR(t||"",h),new dv(null);const v=window.open(t||"",h,y);ee(v,s,"popup-blocked");try{v.focus()}catch{}return new dv(v)}function FR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="__/auth/handler",KR="emulator/auth/handler",QR=encodeURIComponent("fac");async function fv(s,t,i,a,o,u){ee(s.config.authDomain,s,"auth-domain-config-required"),ee(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:vr,eventId:o};if(t instanceof zh){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",_f(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))f[y]=v}if(t instanceof al){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(f.scopes=y.join(","))}s.tenantId&&(f.tid=s.tenantId);const h=f;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const g=await s._getAppCheckToken(),m=g?`#${QR}=${encodeURIComponent(g)}`:"";return`${XR(s)}?${yr(h).slice(1)}${m}`}function XR({config:s}){return s.emulator?Mh(s,KR):`https://${s.authDomain}/${YR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="webStorageSupport";class WR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bb,this._completeRedirectFn=bR,this._overrideRedirectResult=_R}async _openPopup(t,i,a,o){Kn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await fv(t,i,a,kf(),o);return GR(t,u,jh())}async _openRedirect(t,i,a,o){await this._originValidation(t);const u=await fv(t,i,a,kf(),o);return $2(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(Kn(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await jR(t),a=new ER(t);return i.register("authEvent",o=>(ee(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(hf,{type:hf},o=>{const u=o?.[0]?.[hf];u!==void 0&&i(!!u),$t(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=NR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Ob()||Tb()||kh()}}const ZR=WR;var hv="@firebase/auth",mv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eO(s){cr(new us("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=a.options;ee(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:f,authDomain:h,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Db(s)},m=new _2(a,o,u,g);return N2(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),cr(new us("auth-internal",t=>{const i=ji(t.getProvider("auth").getImmediate());return(a=>new JR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(hv,mv,$R(s)),Ri(hv,mv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=300,nO=zv("authIdTokenMaxAge")||tO;let pv=null;const iO=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>nO)return;const o=i?.token;pv!==o&&(pv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sO(s=Fv()){const t=$f(s,"auth");if(t.isInitialized())return t.getImmediate();const i=x2(s,{popupRedirectResolver:ZR,persistence:[oR,W2,Bb]}),a=zv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=iO(u.toString());F2(i,f,()=>f(i.currentUser)),G2(i,h=>f(h))}}const o=Lv("auth");return o&&A2(i,`http://${o}`),i}function rO(){return document.getElementsByTagName("head")?.[0]??document}y2({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=o=>{const u=cn("internal-error");u.customData=o,i(u)},a.type="text/javascript",a.charset="UTF-8",rO().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eO("Browser");const aO={apiKey:"AIzaSyCsTlPcKD0Nq8ZE3vIp5NdFHZA_Uv-FMmE",authDomain:"my-skyn.firebaseapp.com",databaseURL:"https://my-skyn-default-rtdb.firebaseio.com",projectId:"my-skyn",storageBucket:"my-skyn.firebasestorage.app",messagingSenderId:"644781679411",appId:"1:644781679411:web:bb6eed31139fef0b77d446",measurementId:"G-CV9J8QNHV5"},Xb=Gv(aO),Ph=pb(Xb),Ta=sO(Xb),Wb=O.createContext(),xc=()=>O.useContext(Wb);function lO({children:s}){const[t,i]=O.useState(null),[a,o]=O.useState(!0);O.useEffect(()=>Y2(Ta,h=>{i(h),o(!1)}),[]);const u={currentUser:t,signup:(f,h)=>V2(Ta,f,h),login:(f,h)=>q2(Ta,f,h),logout:()=>K2(Ta),googleSignIn:()=>{const f=new zn;return hR(Ta,f)}};return b.jsx(Wb.Provider,{value:u,children:!a&&s})}function oO(){const{currentUser:s,logout:t}=xc(),[i,a]=O.useState(!1),o=Qn(),u=h=>o.pathname===h,f=({to:h,label:g,onClick:m})=>b.jsx(Ho,{to:h,onClick:()=>{m&&m(),a(!1)},className:`block w-full md:w-auto text-left md:text-center px-4 py-2 md:px-3 md:py-1 rounded-md transition-colors ${u(h)?"bg-blue-600 text-white md:bg-transparent md:text-blue-600 font-semibold":"text-gray-700 hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-600"}`,children:g});return b.jsx("nav",{className:"bg-white shadow-lg sticky top-0 z-50",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"flex justify-between items-center h-16",children:[b.jsx(Ho,{to:"/",onClick:()=>a(!1),className:"text-xl md:text-2xl font-bold text-gray-800 hover:text-blue-600 transition-colors",children:"MYSKYN✌🏾"}),b.jsxs("div",{className:"hidden md:flex md:items-center md:space-x-2",children:[b.jsx(f,{to:"/",label:"Home"}),b.jsx(f,{to:"/pairing",label:"Pairing Tool"}),b.jsx(f,{to:"/products",label:"Products"}),s?b.jsxs(b.Fragment,{children:[b.jsx(f,{to:"/profile",label:"Profile"}),b.jsx(f,{to:"/admin",label:"Admin"}),b.jsx("button",{onClick:()=>{t(),a(!1)},className:"px-4 py-2 text-white bg-red-500 hover:bg-red-600 rounded-md transition-colors",children:"Logout"})]}):b.jsx(f,{to:"/login",label:"Login"})]}),b.jsx("button",{onClick:()=>a(!i),className:"md:hidden p-2 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-600",children:b.jsx("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i?b.jsx("path",{d:"M6 18L18 6M6 6l12 12"}):b.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})]}),i&&b.jsxs("div",{className:"md:hidden py-4 space-y-2 border-t border-gray-200",children:[b.jsx(f,{to:"/",label:"Home"}),b.jsx(f,{to:"/pairing",label:"Pairing Tool"}),b.jsx(f,{to:"/products",label:"Products"}),s?b.jsxs(b.Fragment,{children:[b.jsx(f,{to:"/profile",label:"Profile"}),b.jsx(f,{to:"/admin",label:"Admin"}),b.jsx("button",{onClick:()=>{t(),a(!1)},className:"w-full text-left px-4 py-2 text-white bg-red-500 hover:bg-red-600 rounded-md transition-colors",children:"Logout"})]}):b.jsx(f,{to:"/login",label:"Login"})]})]})})}function cO(){return b.jsx("div",{className:"min-h-[calc(100vh-4rem)] bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center w-full",children:b.jsxs("div",{className:"w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20 text-center",children:[b.jsxs("div",{className:"mb-16",children:[b.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Welcome to ",b.jsx("span",{className:"text-blue-600",children:"MYSKYN"}),"✌🏾"]}),b.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-700 max-w-3xl mx-auto",children:"Your personal skincare assistant for smarter, safer product combinations"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 max-w-5xl mx-auto",children:[b.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-shadow text-center",children:[b.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4 mx-auto",children:b.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),b.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Smart Pairing"}),b.jsx("p",{className:"text-gray-600",children:"Discover which products work well together based on ingredient compatibility"})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-shadow text-center",children:[b.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4 mx-auto",children:b.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),b.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ingredient Analysis"}),b.jsx("p",{className:"text-gray-600",children:"Real-time analysis of ingredient interactions and compatibility warnings"})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-shadow text-center",children:[b.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mb-4 mx-auto",children:b.jsx("svg",{className:"w-6 h-6 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),b.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Personalized Recommendations"}),b.jsx("p",{className:"text-gray-600",children:"Get tailored product suggestions based on your current skincare routine"})]})]})]})})}function uO(){const[s,t]=O.useState([]),[i,a]=O.useState(!0),[o,u]=O.useState(""),[f,h]=O.useState("all");O.useEffect(()=>{const y=Fa(Ph,"products"),v=kA(y,S=>{if(S.exists()){const D=S.val(),k=Object.values(D);t(k)}else t([]);a(!1)},S=>{u("Failed to load products. Please check your database."),a(!1),console.error(S)});return()=>v()},[]);const g=f==="all"?s:s.filter(y=>y.category===f),m=["all",...new Set(s.map(y=>y.category))];return i?b.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-600",children:"Loading products..."})]})}):b.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:b.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8 text-center",children:"Our Products"}),o&&b.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded",children:b.jsx("p",{className:"text-red-700",children:o})}),s.length===0?b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[b.jsx("p",{className:"text-gray-600 mb-4",children:"No products found in the database."}),b.jsxs("p",{className:"text-sm text-gray-500",children:["Go to ",b.jsx("a",{href:"/admin",className:"text-blue-600 underline",children:"Admin Panel"})," to add products."]})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"flex flex-wrap gap-2 mb-6 justify-center",children:m.map(y=>b.jsx("button",{onClick:()=>h(y),className:`px-4 py-2 rounded-full font-medium transition-all ${f===y?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:y.charAt(0).toUpperCase()+y.slice(1)},y))}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(y=>b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow",children:[b.jsx("img",{src:y.image||"https://via.placeholder.com/300",alt:y.name,className:"w-full h-48 object-cover"}),b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900",children:y.name}),b.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["$",y.price]})]}),b.jsx("p",{className:"text-sm text-gray-500 mb-2",children:y.brand}),b.jsx("p",{className:"text-gray-600 text-sm mb-4",children:y.description}),b.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[b.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 text-xs rounded-full font-medium",children:y.category}),y.skinType&&y.skinType.map(v=>b.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:v},v))]}),b.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Add to Cart"})]})]},y.id))})]})]})})}function dO(){const{currentUser:s}=xc();return b.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-8",children:b.jsxs("div",{className:"w-full max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[b.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8",children:"My Profile"}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[b.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-32 sm:h-40"}),b.jsxs("div",{className:"px-6 py-8 sm:px-8",children:[b.jsx("div",{className:"-mt-20 sm:-mt-24 mb-6 flex justify-center",children:b.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 bg-white rounded-full border-4 border-white shadow-lg flex items-center justify-center text-4xl sm:text-5xl",children:"👤"})}),b.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),b.jsx("p",{className:"text-lg text-gray-900 bg-gray-50 px-4 py-2 rounded-md",children:s?.email})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User ID"}),b.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 px-4 py-2 rounded-md font-mono break-all",children:s?.uid})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Status"}),b.jsx("div",{className:"flex justify-center",children:b.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"✓ Active"})})]})]})]})]})]})})}function fO(){const[s,t]=O.useState(""),[i,a]=O.useState(""),[o,u]=O.useState(""),{login:f,googleSignIn:h}=xc(),g=Vf(),m=async v=>{v.preventDefault(),u("");try{await f(s,i),g("/")}catch{u("Failed to login. Please check your credentials.")}},y=async()=>{u("");try{await h(),g("/")}catch{u("Failed to sign in with Google.")}};return b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 px-4 py-8",children:b.jsxs("form",{onSubmit:m,className:"bg-white p-6 sm:p-8 md:p-10 rounded-2xl shadow-xl w-full max-w-md",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),b.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Sign in to continue to MYSKYN"})]}),o&&b.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 mb-4 rounded",children:b.jsx("p",{className:"text-red-700 text-sm",children:o})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",value:s,onChange:v=>t(v.target.value),placeholder:"you@example.com",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),b.jsx("input",{type:"password",value:i,onChange:v=>a(v.target.value),placeholder:"••••••••",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),b.jsx("button",{type:"submit",className:"w-full mt-6 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors font-medium",children:"Sign In"}),b.jsxs("div",{className:"relative my-6",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("div",{className:"w-full border-t border-gray-300"})}),b.jsx("div",{className:"relative flex justify-center text-sm",children:b.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),b.jsxs("button",{type:"button",onClick:y,className:"w-full bg-white border-2 border-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all flex items-center justify-center gap-3 font-medium",children:[b.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",className:"w-5 h-5"}),b.jsx("span",{className:"hidden sm:inline",children:"Sign in with Google"}),b.jsx("span",{className:"sm:hidden",children:"Google"})]})]})})}function mf({children:s}){const{currentUser:t}=xc();return t?s:b.jsx(wv,{to:"/login"})}function hO(){const[s,t]=O.useState(1),[i,a]=O.useState([]),[o,u]=O.useState([]),[f,h]=O.useState(null),[g,m]=O.useState(""),[y,v]=O.useState([]),[S,D]=O.useState(!1),[k,j]=O.useState(""),P=pb();O.useEffect(()=>{(async()=>{try{const Z=Fa(P,"products"),we=await Wy(Z);if(we.exists()){const Oe=we.val(),rt=Object.keys(Oe).map(qe=>({id:qe,...Oe[qe]}));a(rt);const dt=[...new Set(rt.map(qe=>qe.category))];u(dt)}}catch(Z){console.error("Error fetching products:",Z)}})()},[]);const V=async()=>{D(!0);try{const Q=Fa(P,"compatibilityRules"),Z=await Wy(Q);if(!Z.exists()||!f){D(!1);return}const we=Z.val(),Oe=Object.keys(f.ingredients||{}),qe=i.filter(pt=>pt.category===g&&pt.id!==f.id).map(pt=>{const Dt=Object.keys(pt.ingredients||{});let gt=100,M=[],B=[];return Oe.forEach(J=>{Dt.forEach(ve=>{const ae=Object.values(we).find(T=>T.ingredient1===J&&T.ingredient2===ve||T.ingredient1===ve&&T.ingredient2===J);ae&&(ae.compatibility==="incompatible"?(gt-=30,M.push({severity:ae.severity,message:ae.reason,recommendation:ae.recommendation})):ae.compatibility==="caution"?(gt-=10,M.push({severity:ae.severity,message:ae.reason,recommendation:ae.recommendation})):ae.compatibility==="compatible"&&B.push(ae.reason))})}),{...pt,compatibilityScore:Math.max(0,gt),warnings:M,benefits:B}}).sort((pt,Dt)=>Dt.compatibilityScore-pt.compatibilityScore);v(qe)}catch(Q){console.error("Error getting recommendations:",Q)}D(!1)},q=Q=>{h(Q),t(2)},W=Q=>{m(Q),t(3),V()},Se=i.filter(Q=>Q.name.toLowerCase().includes(k.toLowerCase())||Q.brand.toLowerCase().includes(k.toLowerCase())),ze=()=>{t(1),h(null),m(""),v([]),j("")};return b.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-blue-50 py-12 px-4",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Find Your Perfect Pair ✨"}),b.jsx("p",{className:"text-gray-600",children:"Smart ingredient matching for safer, more effective skincare"})]}),b.jsx("div",{className:"flex justify-center items-center mb-8",children:b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${s>=1?"bg-purple-600 text-white":"bg-gray-200 text-gray-500"}`,children:"1"}),b.jsx("div",{className:`h-1 w-20 ${s>=2?"bg-purple-600":"bg-gray-200"}`}),b.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${s>=2?"bg-purple-600 text-white":"bg-gray-200 text-gray-500"}`,children:"2"}),b.jsx("div",{className:`h-1 w-20 ${s>=3?"bg-purple-600":"bg-gray-200"}`}),b.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${s>=3?"bg-purple-600 text-white":"bg-gray-200 text-gray-500"}`,children:"3"})]})}),s===1&&b.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Which product do you already have?"}),b.jsx("input",{type:"text",placeholder:"Search by product name or brand...",value:k,onChange:Q=>j(Q.target.value),className:"w-full p-4 border-2 border-gray-200 rounded-lg mb-6 focus:border-purple-500 focus:outline-none"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:Se.map(Q=>b.jsx("div",{onClick:()=>q(Q),className:"border-2 border-gray-200 rounded-lg p-4 hover:border-purple-500 hover:shadow-md cursor-pointer transition-all",children:b.jsx("div",{className:"flex items-start space-x-3",children:b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-semibold text-gray-800",children:Q.name}),b.jsx("p",{className:"text-sm text-gray-500",children:Q.brand}),b.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-purple-100 text-purple-700 text-xs rounded-full",children:Q.category})]})})},Q.id))})]}),s===2&&b.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[b.jsx("div",{className:"mb-6",children:b.jsx("button",{onClick:()=>t(1),className:"text-purple-600 hover:text-purple-700 flex items-center",children:"← Back"})}),b.jsxs("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Selected:"}),b.jsx("h3",{className:"font-bold text-gray-800",children:f?.name}),b.jsx("p",{className:"text-sm text-gray-500",children:f?.brand})]}),b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"What type of product are you looking for?"}),b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:o.map(Q=>b.jsx("button",{onClick:()=>W(Q),className:"p-6 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all capitalize font-medium text-gray-700",children:Q},Q))})]}),s===3&&b.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[b.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[b.jsx("button",{onClick:()=>t(2),className:"text-purple-600 hover:text-purple-700 flex items-center",children:"← Back"}),b.jsx("button",{onClick:ze,className:"text-gray-600 hover:text-gray-700",children:"Start Over"})]}),b.jsxs("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Pairing with:"}),b.jsx("h3",{className:"font-bold text-gray-800",children:f?.name}),b.jsx("p",{className:"text-sm text-gray-500",children:f?.brand})]}),b.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:["Recommended ",g,"s"]}),S?b.jsx("div",{className:"flex justify-center py-12",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):y.length===0?b.jsx("div",{className:"text-center py-12 text-gray-500",children:"No products found in this category"}):b.jsx("div",{className:"space-y-4",children:y.map(Q=>b.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:shadow-md transition-all",children:[b.jsxs("div",{className:"flex items-start justify-between mb-4",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-lg text-gray-800",children:Q.name}),b.jsx("p",{className:"text-gray-600",children:Q.brand}),b.jsxs("p",{className:"text-purple-600 font-semibold mt-1",children:["$",Q.price]})]}),b.jsx("div",{className:"text-right",children:b.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full font-semibold ${Q.compatibilityScore>=80?"bg-green-100 text-green-700":Q.compatibilityScore>=60?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[Q.compatibilityScore,"% Match"]})})]}),Q.benefits.length>0&&b.jsxs("div",{className:"mb-3",children:[b.jsx("p",{className:"text-sm font-semibold text-green-700 mb-1",children:"✓ Benefits:"}),Q.benefits.map((Z,we)=>b.jsxs("p",{className:"text-sm text-gray-600 ml-4",children:["• ",Z]},we))]}),Q.warnings.length>0&&b.jsxs("div",{className:"mb-3",children:[b.jsx("p",{className:"text-sm font-semibold text-orange-700 mb-1",children:"⚠ Warnings:"}),Q.warnings.map((Z,we)=>b.jsxs("div",{className:"ml-4 mb-2",children:[b.jsx("p",{className:"text-sm text-gray-700",children:Z.message}),b.jsx("p",{className:"text-xs text-gray-500 italic",children:Z.recommendation})]},we))]}),b.jsx("p",{className:"text-sm text-gray-600 mb-3",children:Q.description}),b.jsx("button",{className:"w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors font-semibold",children:"Add to Routine"})]},Q.id))})]})]})})}const mO=JSON.parse(`{"prod1":{"id":"prod1","name":"Hydrating Facial Cleanser","category":"cleanser","brand":"CeraVe","price":14.99,"skinType":["dry","normal","sensitive"],"ingredients":["ceramides","hyaluronic acid","glycerin"],"description":"Non-foaming cleanser that gently removes dirt and oil while maintaining skin's natural moisture barrier","image":"https://images.unsplash.com/photo-1556228720-195a672e8a03?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod2":{"id":"prod2","name":"Foaming Facial Cleanser","category":"cleanser","brand":"CeraVe","price":13.99,"skinType":["oily","combination","normal"],"ingredients":["ceramides","niacinamide","hyaluronic acid"],"description":"Refreshing gel cleanser that removes excess oil without disrupting the skin barrier","image":"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod3":{"id":"prod3","name":"Kind to Skin Refreshing Facial Wash","category":"cleanser","brand":"Simple","price":6.99,"skinType":["all","sensitive"],"ingredients":["vitamin B5","vitamin E","glycerin"],"description":"Gentle cleanser perfect for sensitive skin, with no harsh chemicals or artificial perfumes","image":"https://images.unsplash.com/photo-1571781418606-70265b9cce90?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod4":{"id":"prod4","name":"Micellar Cleansing Water","category":"cleanser","brand":"Garnier","price":8.99,"skinType":["all","sensitive"],"ingredients":["micelles","glycerin"],"description":"All-in-one cleanser that removes makeup and impurities without harsh rubbing","image":"https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod5":{"id":"prod5","name":"Brightening Gel Cleanser","category":"cleanser","brand":"Uncover","price":12.99,"skinType":["normal","combination","oily"],"ingredients":["vitamin C","glycolic acid","aloe vera"],"description":"Brightening cleanser that gently exfoliates while cleansing for radiant skin","image":"https://images.unsplash.com/photo-1570194065650-d99fb4a2b6e4?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod6":{"id":"prod6","name":"Radiance Boosting Cleanser","category":"cleanser","brand":"D'ivine","price":11.99,"skinType":["dry","normal","dull"],"ingredients":["papaya extract","vitamin E","honey"],"description":"Nourishing cleanser enriched with natural extracts for glowing skin","image":"https://images.unsplash.com/photo-1585856331426-3145bfa40d4c?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod7":{"id":"prod7","name":"SA Smoothing Cleanser","category":"cleanser","brand":"CeraVe","price":15.99,"skinType":["oily","acne-prone","rough"],"ingredients":["salicylic acid","ceramides","niacinamide"],"description":"Exfoliating cleanser with salicylic acid to smooth rough, bumpy skin","image":"https://images.unsplash.com/photo-1556228852-80c3b5796e6e?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod8":{"id":"prod8","name":"Smoothing Facial Scrub","category":"scrub","brand":"Simple","price":7.99,"skinType":["normal","combination"],"ingredients":["rice granules","vitamin E","glycerin"],"description":"Gentle exfoliating scrub with rice granules to buff away dead skin cells","image":"https://images.unsplash.com/photo-1617897903246-719242758050?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod9":{"id":"prod9","name":"SkinActive Brightening Scrub","category":"scrub","brand":"Garnier","price":9.99,"skinType":["normal","dull","combination"],"ingredients":["vitamin C","apricot kernels","glycerin"],"description":"Vitamin C enriched scrub for brighter, more radiant skin","image":"https://images.unsplash.com/photo-1612817288484-6f916006741a?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod10":{"id":"prod10","name":"Coffee & Cocoa Glow Scrub","category":"scrub","brand":"D'ivine","price":13.99,"skinType":["dry","normal","dull"],"ingredients":["coffee extract","cocoa butter","brown sugar"],"description":"Energizing scrub that exfoliates and nourishes for smooth, glowing skin","image":"https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod11":{"id":"prod11","name":"Charcoal Detox Scrub","category":"scrub","brand":"Uncover","price":14.99,"skinType":["oily","combination","acne-prone"],"ingredients":["activated charcoal","salicylic acid","tea tree oil"],"description":"Deep cleansing scrub that draws out impurities and unclogs pores","image":"https://images.unsplash.com/photo-1556228720-195a672e8a03?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod12":{"id":"prod12","name":"PM Facial Moisturizing Lotion","category":"moisturizer","brand":"CeraVe","price":16.99,"skinType":["all","normal","dry"],"ingredients":["ceramides","niacinamide","hyaluronic acid"],"description":"Lightweight night cream that restores skin barrier while you sleep","image":"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod13":{"id":"prod13","name":"Moisturizing Cream","category":"moisturizer","brand":"CeraVe","price":18.99,"skinType":["dry","very dry","sensitive"],"ingredients":["ceramides","hyaluronic acid","petrolatum"],"description":"Rich, non-greasy cream providing 24-hour hydration for dry skin","image":"https://images.unsplash.com/photo-1556228720-195a672e8a03?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod14":{"id":"prod14","name":"Hydrating Light Moisturizer","category":"moisturizer","brand":"Simple","price":8.99,"skinType":["normal","combination","sensitive"],"ingredients":["vitamin E","glycerin","panthenol"],"description":"Light, fast-absorbing moisturizer perfect for daily use","image":"https://images.unsplash.com/photo-1571781418606-70265b9cce90?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod15":{"id":"prod15","name":"Moisture Bomb Sheet Mask","category":"moisturizer","brand":"Garnier","price":4.99,"skinType":["all","dry"],"ingredients":["hyaluronic acid","glycerin","pomegranate extract"],"description":"Intensely hydrating sheet mask for an instant moisture boost","image":"https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod16":{"id":"prod16","name":"Glow Illuminate Day Cream","category":"moisturizer","brand":"Uncover","price":19.99,"skinType":["normal","dull","combination"],"ingredients":["vitamin C","niacinamide","squalane"],"description":"Brightening day cream that evens skin tone and adds radiance","image":"https://images.unsplash.com/photo-1570194065650-d99fb4a2b6e4?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod17":{"id":"prod17","name":"Shea Butter Nourishing Cream","category":"moisturizer","brand":"D'ivine","price":15.99,"skinType":["dry","mature","normal"],"ingredients":["shea butter","coconut oil","vitamin E"],"description":"Deeply nourishing cream enriched with African shea butter","image":"https://images.unsplash.com/photo-1585856331426-3145bfa40d4c?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod18":{"id":"prod18","name":"Vitamin C Brightening Serum","category":"serum","brand":"Garnier","price":24.99,"skinType":["all","dull","normal"],"ingredients":["vitamin C","niacinamide","salicylic acid"],"description":"Powerful brightening serum to reduce dark spots and even skin tone","image":"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod19":{"id":"prod19","name":"Retinol Renewal Serum","category":"serum","brand":"CeraVe","price":29.99,"skinType":["normal","mature","combination"],"ingredients":["retinol","ceramides","niacinamide"],"description":"Anti-aging serum with retinol to reduce fine lines and wrinkles","image":"https://images.unsplash.com/photo-1556228720-195a672e8a03?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod20":{"id":"prod20","name":"Hyaluronic Acid Hydrating Serum","category":"serum","brand":"Uncover","price":22.99,"skinType":["all","dry","dehydrated"],"ingredients":["hyaluronic acid","glycerin","peptides"],"description":"Intense hydration serum that plumps and smooths skin","image":"https://images.unsplash.com/photo-1570194065650-d99fb4a2b6e4?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod21":{"id":"prod21","name":"Niacinamide Pore Refining Serum","category":"serum","brand":"Simple","price":18.99,"skinType":["oily","combination","large pores"],"ingredients":["niacinamide","zinc","witch hazel"],"description":"Mattifying serum that minimizes pores and controls oil","image":"https://images.unsplash.com/photo-1571781418606-70265b9cce90?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod22":{"id":"prod22","name":"Royal Jelly Radiance Serum","category":"serum","brand":"D'ivine","price":26.99,"skinType":["dry","mature","dull"],"ingredients":["royal jelly","honey","propolis"],"description":"Luxurious serum with royal jelly for nourished, glowing skin","image":"https://images.unsplash.com/photo-1585856331426-3145bfa40d4c?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod23":{"id":"prod23","name":"AM Facial Moisturizing Lotion SPF 30","category":"sunscreen","brand":"CeraVe","price":17.99,"skinType":["all","normal","dry"],"ingredients":["zinc oxide","ceramides","niacinamide","hyaluronic acid"],"description":"Hydrating morning moisturizer with broad-spectrum SPF 30 protection","image":"https://images.unsplash.com/photo-1556228720-195a672e8a03?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod24":{"id":"prod24","name":"Ultra-Light UV Lotion SPF 50","category":"sunscreen","brand":"CeraVe","price":19.99,"skinType":["oily","combination","sensitive"],"ingredients":["zinc oxide","titanium dioxide","niacinamide"],"description":"Lightweight, non-greasy sunscreen perfect for daily use","image":"https://images.unsplash.com/photo-1556228852-80c3b5796e6e?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod25":{"id":"prod25","name":"Protecting Moisturizer SPF 30","category":"sunscreen","brand":"Simple","price":12.99,"skinType":["all","sensitive"],"ingredients":["octinoxate","zinc oxide","vitamin E"],"description":"Gentle daily moisturizer with SPF protection for sensitive skin","image":"https://images.unsplash.com/photo-1571781418606-70265b9cce90?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod26":{"id":"prod26","name":"Bright Complete Vitamin C SPF 30","category":"sunscreen","brand":"Garnier","price":14.99,"skinType":["normal","dull","combination"],"ingredients":["vitamin C","octinoxate","niacinamide"],"description":"Brightening sunscreen that protects and evens skin tone","image":"https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod27":{"id":"prod27","name":"Glow Shield SPF 50","category":"sunscreen","brand":"Uncover","price":21.99,"skinType":["all","normal"],"ingredients":["zinc oxide","vitamin C","hyaluronic acid"],"description":"High protection sunscreen with added skincare benefits","image":"https://images.unsplash.com/photo-1570194065650-d99fb4a2b6e4?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"},"prod28":{"id":"prod28","name":"Natural Shield SPF 30","category":"sunscreen","brand":"D'ivine","price":16.99,"skinType":["dry","sensitive","normal"],"ingredients":["zinc oxide","shea butter","coconut oil"],"description":"Natural mineral sunscreen with nourishing African botanicals","image":"https://images.unsplash.com/photo-1585856331426-3145bfa40d4c?w=300&h=300&fit=crop","createdAt":"2025-10-25T12:00:00.000Z"}}`),pO={rule1:{product1:"prod1",product2:"prod12",product1Name:"CeraVe Hydrating Cleanser",product2Name:"CeraVe PM Moisturizer",compatible:!0,reason:"Both contain ceramides and hyaluronic acid - work together to strengthen skin barrier",note:"Perfect evening routine pairing"},rule2:{product1:"prod2",product2:"prod21",product1Name:"CeraVe Foaming Cleanser",product2Name:"Simple Niacinamide Serum",compatible:!0,reason:"Both contain niacinamide - excellent for oil control and pore refinement",note:"Ideal for oily/combination skin routine"},rule3:{product1:"prod5",product2:"prod19",product1Name:"Uncover Vitamin C Cleanser",product2Name:"CeraVe Retinol Serum",compatible:!1,reason:"Vitamin C and retinol can cause irritation when used together",note:"Use Vitamin C in AM, Retinol in PM"},rule4:{product1:"prod7",product2:"prod11",product1Name:"CeraVe SA Cleanser",product2Name:"Uncover Charcoal Scrub",compatible:!1,reason:"Both contain salicylic acid - double exfoliation can over-strip skin",note:"Use on alternate days to prevent irritation"},rule5:{product1:"prod18",product2:"prod19",product1Name:"Garnier Vitamin C Serum",product2Name:"CeraVe Retinol Serum",compatible:!1,reason:"Vitamin C (AM) and Retinol (PM) should not be layered together",note:"Different pH requirements and potential irritation"},rule6:{product1:"prod3",product2:"prod14",product1Name:"Simple Facial Wash",product2Name:"Simple Moisturizer",compatible:!0,reason:"Both gentle, fragrance-free formulas perfect for sensitive skin",note:"Same brand synergy for sensitive skin"},rule7:{product1:"prod20",product2:"prod13",product1Name:"Uncover Hyaluronic Serum",product2Name:"CeraVe Moisturizing Cream",compatible:!0,reason:"Hyaluronic acid draws moisture, heavy cream seals it in",note:"Layer serum first, then cream for maximum hydration"},rule8:{product1:"prod4",product2:"prod18",product1Name:"Garnier Micellar Water",product2Name:"Garnier Vitamin C Serum",compatible:!0,reason:"Micellar water cleanses without stripping, prepares skin for actives",note:"Cleanse first, apply serum to clean skin"},rule9:{product1:"prod8",product2:"prod19",product1Name:"Simple Facial Scrub",product2Name:"CeraVe Retinol Serum",compatible:!1,reason:"Physical exfoliation + retinol can cause excessive irritation",note:"Use scrub 2-3x/week, retinol on non-scrub days"},rule10:{product1:"prod16",product2:"prod26",product1Name:"Uncover Vitamin C Day Cream",product2Name:"Garnier Vitamin C SPF 30",compatible:!0,reason:"Both contain Vitamin C and work synergistically for brightening + protection",note:"Perfect AM routine for radiant, protected skin"},rule11:{product1:"prod21",product2:"prod24",product1Name:"Simple Niacinamide Serum",product2Name:"CeraVe Ultra-Light SPF 50",compatible:!0,reason:"Niacinamide enhances skin barrier, SPF protects - ideal morning combo",note:"Apply serum, then sunscreen as final step"},rule12:{product1:"prod7",product2:"prod21",product1Name:"CeraVe SA Cleanser",product2Name:"Simple Niacinamide Serum",compatible:!0,reason:"Salicylic acid cleanses pores, niacinamide calms and refines",note:"Great for acne-prone skin routine"},rule13:{product1:"prod11",product2:"prod19",product1Name:"Uncover Charcoal Scrub",product2Name:"CeraVe Retinol Serum",compatible:!1,reason:"Scrub exfoliates physically, retinol chemically - too harsh together",note:"Space out usage by 24-48 hours"},rule14:{product1:"prod6",product2:"prod17",product1Name:"D'ivine Radiance Cleanser",product2Name:"D'ivine Shea Butter Cream",compatible:!0,reason:"Natural ingredients complement each other for nourished, glowing skin",note:"Same brand, natural formulas work in harmony"},rule15:{product1:"prod22",product2:"prod28",product1Name:"D'ivine Royal Jelly Serum",product2Name:"D'ivine Natural Shield SPF",compatible:!0,reason:"Natural, nourishing ingredients layer well under mineral sunscreen",note:"Luxurious AM routine for dry/mature skin"},rule16:{product1:"prod9",product2:"prod18",product1Name:"Garnier Vitamin C Scrub",product2Name:"Garnier Vitamin C Serum",compatible:!1,reason:"Double dose of exfoliation (physical + chemical) can irritate",note:"Use scrub 2x/week, serum daily on non-scrub days"},rule17:{product1:"prod1",product2:"prod23",product1Name:"CeraVe Hydrating Cleanser",product2Name:"CeraVe AM SPF 30",compatible:!0,reason:"Both formulated with ceramides for barrier support, perfect AM routine",note:"Cleanse + protect morning routine"},rule18:{product1:"prod20",product2:"prod23",product1Name:"Uncover Hyaluronic Serum",product2Name:"CeraVe AM SPF 30",compatible:!0,reason:"Hyaluronic acid hydrates, ceramides + SPF protect",note:"Layer serum under moisturizer with SPF"},rule19:{product1:"prod18",product2:"prod7",product1Name:"Garnier Vitamin C Serum",product2Name:"CeraVe SA Cleanser",compatible:!1,reason:"Vitamin C serum and salicylic acid can be too acidic together",note:"Use SA cleanser PM, Vitamin C serum AM"},rule20:{product1:"prod10",product2:"prod22",product1Name:"D'ivine Coffee Scrub",product2Name:"D'ivine Royal Jelly Serum",compatible:!0,reason:"Scrub exfoliates for better serum absorption, natural ingredients complement",note:"Use scrub 2x/week, serum absorbs better on smooth skin"},rule21:{product1:"prod4",product2:"prod20",product1Name:"Garnier Micellar Water",product2Name:"Uncover Hyaluronic Serum",compatible:!0,reason:"Micellar water cleanses gently, hyaluronic acid hydrates on clean skin",note:"Cleanse, then apply serum to damp skin for best absorption"},rule22:{product1:"prod2",product2:"prod24",product1Name:"CeraVe Foaming Cleanser",product2Name:"CeraVe Ultra-Light SPF 50",compatible:!0,reason:"Same ceramide technology, foaming cleanser + lightweight SPF for oily skin",note:"Non-greasy AM routine for combination/oily skin"},rule23:{product1:"prod19",product2:"prod12",product1Name:"CeraVe Retinol Serum",product2Name:"CeraVe PM Moisturizer",compatible:!0,reason:"Retinol works overnight, PM moisturizer with niacinamide supports renewal",note:"Perfect nighttime anti-aging routine"},rule24:{product1:"prod5",product2:"prod27",product1Name:"Uncover Vitamin C Cleanser",product2Name:"Uncover Glow Shield SPF 50",compatible:!0,reason:"Both contain Vitamin C for brightening, SPF protects from sun damage",note:"Brightening + protection morning routine"},rule25:{product1:"prod11",product2:"prod21",product1Name:"Uncover Charcoal Scrub",product2Name:"Simple Niacinamide Serum",compatible:!0,reason:"Scrub deep cleans pores, niacinamide refines and calms",note:"Use scrub 2-3x/week, serum daily for pore care"}},gO={products:mO,compatibility:pO},_O=async s=>{try{const t=Fa(Ph,"products"),i=MA(t);return await mb(i,{...s,id:i.key,createdAt:new Date().toISOString()}),console.log("Product added successfully!"),i.key}catch(t){throw console.error("Error adding product:",t),t}},yO=async()=>{try{await mb(Fa(Ph),gO),console.log("Database seeded successfully with 28 skincare products!"),console.log("Products from: CeraVe, Simple, Garnier, Uncover, D'ivine")}catch(s){throw console.error("Error seeding database:",s),s}};function vO(){const[s,t]=O.useState(!1),[i,a]=O.useState(""),[o,u]=O.useState({name:"",category:"",brand:"MYSKYN",price:"",skinType:[],description:""}),f=async()=>{if(window.confirm("This will overwrite existing data. Continue?")){t(!0),a("");try{await yO(),a("✅ Database seeded successfully!")}catch(m){a("❌ Error: "+m.message)}finally{t(!1)}}},h=async m=>{m.preventDefault(),t(!0),a("");try{const y={...o,price:parseFloat(o.price),image:"https://via.placeholder.com/300"};await _O(y),a("✅ Product added successfully!"),u({name:"",category:"",brand:"MYSKYN",price:"",skinType:[],description:""})}catch(y){a("❌ Error: "+y.message)}finally{t(!1)}},g=m=>{u(y=>({...y,skinType:y.skinType.includes(m)?y.skinType.filter(v=>v!==m):[...y.skinType,m]}))};return b.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Database Admin Panel"}),i&&b.jsx("div",{className:`p-4 rounded-lg mb-6 ${i.includes("✅")?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:i}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("button",{onClick:f,disabled:s,className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:s?"Processing...":"🌱 Seed Database with Sample Data"}),b.jsx("p",{className:"text-sm text-gray-600",children:"This will populate your database with sample products and compatibility rules."})]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add New Product"}),b.jsxs("form",{onSubmit:h,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),b.jsx("input",{type:"text",value:o.name,onChange:m=>u({...o,name:m.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Gentle Cleanser"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),b.jsxs("select",{value:o.category,onChange:m=>u({...o,category:m.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"",children:"Select category"}),b.jsx("option",{value:"cleanser",children:"Cleanser"}),b.jsx("option",{value:"toner",children:"Toner"}),b.jsx("option",{value:"serum",children:"Serum"}),b.jsx("option",{value:"moisturizer",children:"Moisturizer"}),b.jsx("option",{value:"sunscreen",children:"Sunscreen"}),b.jsx("option",{value:"mask",children:"Mask"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),b.jsx("input",{type:"text",value:o.brand,onChange:m=>u({...o,brand:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($) *"}),b.jsx("input",{type:"number",step:"0.01",value:o.price,onChange:m=>u({...o,price:m.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"24.99"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skin Types"}),b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:["oily","dry","combination","normal","sensitive","all"].map(m=>b.jsxs("label",{className:"flex items-center space-x-2",children:[b.jsx("input",{type:"checkbox",checked:o.skinType.includes(m),onChange:()=>g(m),className:"rounded text-blue-600 focus:ring-blue-500"}),b.jsx("span",{className:"text-sm capitalize",children:m})]},m))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),b.jsx("textarea",{value:o.description,onChange:m=>u({...o,description:m.target.value}),rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Product description..."})]}),b.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:s?"Adding...":"Add Product"})]})]}),b.jsxs("div",{className:"mt-6 bg-blue-50 border-l-4 border-blue-500 p-4 rounded",children:[b.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"💡 How to Edit Database"}),b.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[b.jsx("li",{children:'Use "Seed Database" to populate with sample data'}),b.jsx("li",{children:"Use the form above to add new products"}),b.jsxs("li",{children:["Visit ",b.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Firebase Console"})," for advanced editing"]}),b.jsx("li",{children:"Check browser console for detailed logs"})]})]})]})})}function bO(){return b.jsxs(VC,{children:[" ",b.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[b.jsx(oO,{}),b.jsxs("main",{className:"flex-1 w-full overflow-x-hidden",children:[" ",b.jsxs(vC,{children:[" ",b.jsx(Ci,{path:"/",element:b.jsx(cO,{})}),b.jsx(Ci,{path:"/login",element:b.jsx(fO,{})}),b.jsx(Ci,{path:"/pairing",element:b.jsx(hO,{})}),b.jsx(Ci,{path:"/products",element:b.jsx(mf,{children:b.jsx(uO,{})})}),b.jsx(Ci,{path:"/profile",element:b.jsx(mf,{children:b.jsx(dO,{})})}),b.jsx(Ci,{path:"/admin",element:b.jsx(mf,{children:b.jsx(vO,{})})}),b.jsx(Ci,{path:"*",element:b.jsx(wv,{to:"/",replace:!0})})]})]})]})]})}class SO extends O.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,i){this.setState({error:t,errorInfo:i}),console.error("Error caught by boundary:",t,i)}render(){return this.state.hasError?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:b.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md",children:[b.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),b.jsx("p",{className:"text-gray-600 mb-4",children:this.state.error&&this.state.error.toString()}),b.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors",onClick:()=>window.location.reload(),children:"Refresh Page"})]})}):this.props.children}}R1.createRoot(document.getElementById("root")).render(b.jsx(O.StrictMode,{children:b.jsx(SO,{children:b.jsx(lO,{children:b.jsx(bO,{})})})}));
